(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function QA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function CC(){if($0)return Rt;$0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,G={};function F(M,et,lt){this.props=M,this.context=et,this.refs=G,this.updater=lt||I}F.prototype.isReactComponent={},F.prototype.setState=function(M,et){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,et,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=F.prototype;function tt(M,et,lt){this.props=M,this.context=et,this.refs=G,this.updater=lt||I}var Q=tt.prototype=new W;Q.constructor=tt,P(Q,F.prototype),Q.isPureReactComponent=!0;var st=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function V(M,et,lt,rt,gt,Dt){return lt=Dt.ref,{$$typeof:n,type:M,key:et,ref:lt!==void 0?lt:null,props:Dt}}function w(M,et){return V(M.type,et,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function x(M){var et={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return et[lt]})}var O=/\/+/g;function L(M,et){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):et.toString(36)}function D(){}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(et){M.status==="pending"&&(M.status="fulfilled",M.value=et)},function(et){M.status==="pending"&&(M.status="rejected",M.reason=et)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ee(M,et,lt,rt,gt){var Dt=typeof M;(Dt==="undefined"||Dt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case n:case t:St=!0;break;case v:return St=M._init,ee(St(M._payload),et,lt,rt,gt)}}if(St)return gt=gt(M),St=rt===""?"."+L(M,0):rt,st(gt)?(lt="",St!=null&&(lt=St.replace(O,"$&/")+"/"),ee(gt,et,lt,"",function(ei){return ei})):gt!=null&&(R(gt)&&(gt=w(gt,lt+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+St)),et.push(gt)),1;St=0;var Pe=rt===""?".":rt+":";if(st(M))for(var Zt=0;Zt<M.length;Zt++)rt=M[Zt],Dt=Pe+L(rt,Zt),St+=ee(rt,et,lt,Dt,gt);else if(Zt=A(M),typeof Zt=="function")for(M=Zt.call(M),Zt=0;!(rt=M.next()).done;)rt=rt.value,Dt=Pe+L(rt,Zt++),St+=ee(rt,et,lt,Dt,gt);else if(Dt==="object"){if(typeof M.then=="function")return ee(ve(M),et,lt,rt,gt);throw et=String(M),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return St}function K(M,et,lt){if(M==null)return M;var rt=[],gt=0;return ee(M,rt,"","",function(Dt){return et.call(lt,Dt,gt++)}),rt}function it(M){if(M._status===-1){var et=M._result;et=et(),et.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=et)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ct(){}return Rt.Children={map:K,forEach:function(M,et,lt){K(M,function(){et.apply(this,arguments)},lt)},count:function(M){var et=0;return K(M,function(){et++}),et},toArray:function(M){return K(M,function(et){return et})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=F,Rt.Fragment=e,Rt.Profiler=o,Rt.PureComponent=tt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return nt.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,et,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=P({},M.props),gt=M.key,Dt=void 0;if(et!=null)for(St in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(gt=""+et.key),et)!ut.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(rt[St]=et[St]);var St=arguments.length-2;if(St===1)rt.children=lt;else if(1<St){for(var Pe=Array(St),Zt=0;Zt<St;Zt++)Pe[Zt]=arguments[Zt+2];rt.children=Pe}return V(M.type,gt,void 0,void 0,Dt,rt)},Rt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,et,lt){var rt,gt={},Dt=null;if(et!=null)for(rt in et.key!==void 0&&(Dt=""+et.key),et)ut.call(et,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=et[rt]);var St=arguments.length-2;if(St===1)gt.children=lt;else if(1<St){for(var Pe=Array(St),Zt=0;Zt<St;Zt++)Pe[Zt]=arguments[Zt+2];gt.children=Pe}if(M&&M.defaultProps)for(rt in St=M.defaultProps,St)gt[rt]===void 0&&(gt[rt]=St[rt]);return V(M,Dt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:d,render:M}},Rt.isValidElement=R,Rt.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:it}},Rt.memo=function(M,et){return{$$typeof:g,type:M,compare:et===void 0?null:et}},Rt.startTransition=function(M){var et=nt.T,lt={};nt.T=lt;try{var rt=M(),gt=nt.S;gt!==null&&gt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,ht)}catch(Dt){ht(Dt)}finally{nt.T=et}},Rt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Rt.use=function(M){return nt.H.use(M)},Rt.useActionState=function(M,et,lt){return nt.H.useActionState(M,et,lt)},Rt.useCallback=function(M,et){return nt.H.useCallback(M,et)},Rt.useContext=function(M){return nt.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,et){return nt.H.useDeferredValue(M,et)},Rt.useEffect=function(M,et,lt){var rt=nt.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(M,et)},Rt.useId=function(){return nt.H.useId()},Rt.useImperativeHandle=function(M,et,lt){return nt.H.useImperativeHandle(M,et,lt)},Rt.useInsertionEffect=function(M,et){return nt.H.useInsertionEffect(M,et)},Rt.useLayoutEffect=function(M,et){return nt.H.useLayoutEffect(M,et)},Rt.useMemo=function(M,et){return nt.H.useMemo(M,et)},Rt.useOptimistic=function(M,et){return nt.H.useOptimistic(M,et)},Rt.useReducer=function(M,et,lt){return nt.H.useReducer(M,et,lt)},Rt.useRef=function(M){return nt.H.useRef(M)},Rt.useState=function(M){return nt.H.useState(M)},Rt.useSyncExternalStore=function(M,et,lt){return nt.H.useSyncExternalStore(M,et,lt)},Rt.useTransition=function(){return nt.H.useTransition()},Rt.version="19.1.1",Rt}var W0;function fg(){return W0||(W0=1,Bm.exports=CC()),Bm.exports}var ot=fg();const zm=QA(ot);var jm={exports:{}},Jl={},qm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function IC(){return Z0||(Z0=1,function(n){function t(K,it){var ht=K.length;K.push(it);t:for(;0<ht;){var Ct=ht-1>>>1,M=K[Ct];if(0<o(M,it))K[Ct]=it,K[ht]=M,ht=Ct;else break t}}function e(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var it=K[0],ht=K.pop();if(ht!==it){K[0]=ht;t:for(var Ct=0,M=K.length,et=M>>>1;Ct<et;){var lt=2*(Ct+1)-1,rt=K[lt],gt=lt+1,Dt=K[gt];if(0>o(rt,ht))gt<M&&0>o(Dt,rt)?(K[Ct]=Dt,K[gt]=ht,Ct=gt):(K[Ct]=rt,K[lt]=ht,Ct=lt);else if(gt<M&&0>o(Dt,ht))K[Ct]=Dt,K[gt]=ht,Ct=gt;else break t}}return it}function o(K,it){var ht=K.sortIndex-it.sortIndex;return ht!==0?ht:K.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,A=3,I=!1,P=!1,G=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function st(K){for(var it=e(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=K)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function nt(K){if(G=!1,st(K),!P)if(e(p)!==null)P=!0,ut||(ut=!0,L());else{var it=e(g);it!==null&&ee(nt,it.startTime-K)}}var ut=!1,V=-1,w=5,R=-1;function x(){return F?!0:!(n.unstable_now()-R<w)}function O(){if(F=!1,ut){var K=n.unstable_now();R=K;var it=!0;try{t:{P=!1,G&&(G=!1,tt(V),V=-1),I=!0;var ht=A;try{e:{for(st(K),E=e(p);E!==null&&!(E.expirationTime>K&&x());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var M=Ct(E.expirationTime<=K);if(K=n.unstable_now(),typeof M=="function"){E.callback=M,st(K),it=!0;break e}E===e(p)&&s(p),st(K)}else s(p);E=e(p)}if(E!==null)it=!0;else{var et=e(g);et!==null&&ee(nt,et.startTime-K),it=!1}}break t}finally{E=null,A=ht,I=!1}it=void 0}}finally{it?L():ut=!1}}}var L;if(typeof Q=="function")L=function(){Q(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ve=D.port2;D.port1.onmessage=O,L=function(){ve.postMessage(null)}}else L=function(){W(O,0)};function ee(K,it){V=W(function(){K(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(K){switch(A){case 1:case 2:case 3:var it=3;break;default:it=A}var ht=A;A=it;try{return K()}finally{A=ht}},n.unstable_requestPaint=function(){F=!0},n.unstable_runWithPriority=function(K,it){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ht=A;A=K;try{return it()}finally{A=ht}},n.unstable_scheduleCallback=function(K,it,ht){var Ct=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,K={id:v++,callback:it,priorityLevel:K,startTime:ht,expirationTime:M,sortIndex:-1},ht>Ct?(K.sortIndex=ht,t(g,K),e(p)===null&&K===e(g)&&(G?(tt(V),V=-1):G=!0,ee(nt,ht-Ct))):(K.sortIndex=M,t(p,K),P||I||(P=!0,ut||(ut=!0,L()))),K},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(K){var it=A;return function(){var ht=A;A=it;try{return K.apply(this,arguments)}finally{A=ht}}}}(Fm)),Fm}var J0;function DC(){return J0||(J0=1,qm.exports=IC()),qm.exports}var Hm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function VC(){if(tT)return Je;tT=1;var n=fg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Je.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},Je.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Je.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:I}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Je.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Je.requestFormReset=function(p){s.d.r(p)},Je.unstable_batchedUpdates=function(p,g){return p(g)},Je.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Je.useFormStatus=function(){return c.H.useHostTransitionStatus()},Je.version="19.1.1",Je}var eT;function MC(){if(eT)return Hm.exports;eT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Hm.exports=VC(),Hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function xC(){if(nT)return Jl;nT=1;var n=DC(),t=fg(),e=MC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),i;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var T=!1,S=f.child;S;){if(S===a){T=!0,a=f,l=m;break}if(S===l){T=!0,l=f,a=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===a){T=!0,a=m,l=f;break}if(S===l){T=!0,l=m,a=f;break}S=S.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case nt:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case Q:return(i.displayName||"Context")+".Provider";case tt:return(i._context.displayName||"Context")+".Consumer";case st:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:ve(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return ve(i(r))}catch{}}return null}var ee=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],M=-1;function et(i){return{current:i}}function lt(i){0>M||(i.current=Ct[M],Ct[M]=null,M--)}function rt(i,r){M++,Ct[M]=i.current,i.current=r}var gt=et(null),Dt=et(null),St=et(null),Pe=et(null);function Zt(i,r){switch(rt(St,r),rt(Dt,i),rt(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?b0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=b0(r),i=w0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(gt),rt(gt,i)}function ei(){lt(gt),lt(Dt),lt(St)}function ds(i){i.memoizedState!==null&&rt(Pe,i);var r=gt.current,a=w0(r,i.type);r!==a&&(rt(Dt,i),rt(gt,a))}function Vi(i){Dt.current===i&&(lt(gt),lt(Dt)),Pe.current===i&&(lt(Pe),Ql._currentValue=ht)}var hr=Object.prototype.hasOwnProperty,fr=n.unstable_scheduleCallback,dr=n.unstable_cancelCallback,Go=n.unstable_shouldYield,Zu=n.unstable_requestPaint,Rn=n.unstable_now,Bf=n.unstable_getCurrentPriorityLevel,Ko=n.unstable_ImmediatePriority,ma=n.unstable_UserBlockingPriority,mr=n.unstable_NormalPriority,zf=n.unstable_LowPriority,pa=n.unstable_IdlePriority,Yo=n.log,Ju=n.unstable_setDisableYieldValue,ue=null,Ht=null;function gn(i){if(typeof Yo=="function"&&Ju(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ue,i)}catch{}}var We=Math.clz32?Math.clz32:pr,tc=Math.log,jf=Math.LN2;function pr(i){return i>>>=0,i===0?32:31-(tc(i)/jf|0)|0}var gr=256,yr=4194304;function Hn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ga(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=Hn(l):(T&=S,T!==0?f=Hn(T):a||(a=S&~i,a!==0&&(f=Hn(a))))):(S=l&~m,S!==0?f=Hn(S):T!==0?f=Hn(T):a||(a=l&~i,a!==0&&(f=Hn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function vr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Qo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var i=gr;return gr<<=1,(gr&4194048)===0&&(gr=256),i}function $o(){var i=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),i}function Mi(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function xi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wo(i,r,a,l,f,m){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,C=i.expirationTimes,z=i.hiddenUpdates;for(a=T&~a;0<a;){var Y=31-We(a),Z=1<<Y;S[Y]=0,C[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var q=j[Y];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&ni(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function ni(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-We(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function Zo(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-We(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function ms(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ya(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ps(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:H0(i.type))}function ec(i,r){var a=it.p;try{return it.p=i,r()}finally{it.p=a}}var ie=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ie,_e="__reactProps$"+ie,Cn="__reactContainer$"+ie,Jo="__reactEvents$"+ie,qf="__reactListeners$"+ie,gs="__reactHandles$"+ie,nc="__reactResources$"+ie,_r="__reactMarker$"+ie;function ys(i){delete i[Ce],delete i[_e],delete i[Jo],delete i[qf],delete i[gs]}function Ni(i){var r=i[Ce];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Cn]||a[Ce]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=D0(i);i!==null;){if(a=i[Ce])return a;i=D0(i)}return r}i=a,a=i.parentNode}return null}function ii(i){if(i=i[Ce]||i[Cn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function si(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function an(i){var r=i[nc];return r||(r=i[nc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function de(i){i[_r]=!0}var tl=new Set,va={};function Gn(i,r){Oi(i,r),Oi(i+"Capture",r)}function Oi(i,r){for(va[i]=r,i=0;i<r.length;i++)tl.add(r[i])}var ic=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sc={},Tr={};function rc(i){return hr.call(Tr,i)?!0:hr.call(sc,i)?!1:ic.test(i)?Tr[i]=!0:(sc[i]=!0,!1)}function vs(i,r,a){if(rc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function ri(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function qe(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var Er,ac;function Pi(i){if(Er===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Er=r&&r[1]||"",ac=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+i+ac}var _a=!1;function Ta(i,r){if(!i||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var j=q}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(q){j=q}i.call(Z.prototype)}}else{try{throw Error()}catch(q){j=q}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var C=T.split(`
`),z=S.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===z.length)for(l=C.length-1,f=z.length-1;1<=l&&0<=f&&C[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==z[f]){var Y=`
`+C[l].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=l&&0<=f);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Pi(a):""}function el(i){switch(i.tag){case 26:case 27:case 5:return Pi(i.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return Ta(i.type,!1);case 11:return Ta(i.type.render,!1);case 1:return Ta(i.type,!0);case 31:return Pi("Activity");default:return""}}function Ea(i){try{var r="";do r+=el(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ff(i){var r=nl(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Aa(i){i._valueTracker||(i._valueTracker=Ff(i))}function il(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=nl(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Ar(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hf=/[\n"\\]/g;function Te(i){return i.replace(Hf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yn(i,r,a,l,f,m,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+on(r)):i.value!==""+on(r)&&(i.value=""+on(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?_s(i,T,on(r)):a!=null?_s(i,T,on(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+on(S):i.removeAttribute("name")}function Sr(i,r,a,l,f,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,S||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function _s(i,r,a){r==="number"&&Ar(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ki(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Yt(i,r,a){if(r!=null&&(r=""+on(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+on(a):""}function br(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=on(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function In(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||wr.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function sl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&oc(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&oc(i,m,r[m])}function rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(i){return Kf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Li=null;function Dn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,Bi=null;function al(i){var r=ii(i);if(r&&(i=r.stateNode)){var a=i[_e]||null;t:switch(i=r.stateNode,r.type){case"input":if(yn(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[_e]||null;if(!f)throw Error(s(90));yn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&il(l)}break t;case"textarea":Yt(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ki(i,!!a.multiple,r,!1)}}}var ai=!1;function lc(i,r,a){if(ai)return i(r,a);ai=!0;try{var l=i(r);return l}finally{if(ai=!1,(Ui!==null||Bi!==null)&&(eh(),Ui&&(r=Ui,i=Bi,Bi=Ui=null,al(r),i)))for(r=0;r<i.length;r++)al(i[r])}}function Rr(i,r){var a=i.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Kn)try{var Cr={};Object.defineProperty(Cr,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Cr,Cr),window.removeEventListener("test",Cr,Cr)}catch{Vn=!1}var oi=null,Ts=null,zi=null;function ol(){if(zi)return zi;var i,r=Ts,a=r.length,l,f="value"in oi?oi.value:oi.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var T=a-i;for(l=1;l<=T&&r[a-l]===f[m-l];l++);return zi=f.slice(i,1<l?1-l:void 0)}function li(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ui(){return!0}function ll(){return!1}function ke(i){function r(a,l,f,m,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ui:ll,this.isPropagationStopped=ll,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),r}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=ke(qt),Ir=v({},qt,{view:0,detail:0}),uc=ke(Ir),wa,Ra,ci,Dr=v({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ci&&(ci&&i.type==="mousemove"?(wa=i.screenX-ci.screenX,Ra=i.screenY-ci.screenY):Ra=wa=0,ci=i),wa)},movementY:function(i){return"movementY"in i?i.movementY:Ra}}),Mn=ke(Dr),cc=v({},Dr,{dataTransfer:0}),Yf=ke(cc),Vr=v({},Ir,{relatedTarget:0}),Ca=ke(Vr),ul=v({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=ke(ul),hc=v({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Da=ke(hc),Qf=v({},qt,{data:0}),cl=ke(Qf),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dc[i])?!!r[i]:!1}function xr(){return hl}var mc=v({},Ir,{key:function(i){if(i.key){var r=Mr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=li(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?li(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?li(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Va=ke(mc),pc=v({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=ke(pc),ji=v({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),gc=ke(ji),yc=v({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vc=ke(yc),_c=v({},Dr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=ke(_c),ln=v({},qt,{newState:0,oldState:0}),Tc=ke(ln),Ec=[9,13,27,32],hi=Kn&&"CompositionEvent"in window,h=null;Kn&&"documentMode"in document&&(h=document.documentMode);var y=Kn&&"TextEvent"in window&&!h,_=Kn&&(!hi||h&&8<h&&11>=h),b=" ",U=!1;function H(i,r){switch(i){case"keyup":return Ec.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kt=!1;function Ie(i,r){switch(i){case"compositionend":return at(r);case"keypress":return r.which!==32?null:(U=!0,b);case"textInput":return i=r.data,i===b&&U?null:i;default:return null}}function Lt(i,r){if(kt)return i==="compositionend"||!hi&&H(i,r)?(i=ol(),zi=Ts=oi=null,kt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Le[i.type]:r==="textarea"}function qi(i,r,a,l){Ui?Bi?Bi.push(l):Bi=[l]:Ui=l,r=oh(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Fe=null,fi=null;function dl(i){_0(i,0)}function Ac(i){var r=si(i);if(il(r))return i}function zy(i,r){if(i==="change")return r}var jy=!1;if(Kn){var Xf;if(Kn){var $f="oninput"in document;if(!$f){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),$f=typeof qy.oninput=="function"}Xf=$f}else Xf=!1;jy=Xf&&(!document.documentMode||9<document.documentMode)}function Fy(){Fe&&(Fe.detachEvent("onpropertychange",Hy),fi=Fe=null)}function Hy(i){if(i.propertyName==="value"&&Ac(fi)){var r=[];qi(r,fi,i,Dn(i)),lc(dl,r)}}function iR(i,r,a){i==="focusin"?(Fy(),Fe=r,fi=a,Fe.attachEvent("onpropertychange",Hy)):i==="focusout"&&Fy()}function sR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ac(fi)}function rR(i,r){if(i==="click")return Ac(r)}function aR(i,r){if(i==="input"||i==="change")return Ac(r)}function oR(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var vn=typeof Object.is=="function"?Object.is:oR;function ml(i,r){if(vn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!hr.call(r,f)||!vn(i[f],r[f]))return!1}return!0}function Gy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ky(i,r){var a=Gy(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gy(a)}}function Yy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Yy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Qy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ar(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ar(i.document)}return r}function Wf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var lR=Kn&&"documentMode"in document&&11>=document.documentMode,xa=null,Zf=null,pl=null,Jf=!1;function Xy(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jf||xa==null||xa!==Ar(l)||(l=xa,"selectionStart"in l&&Wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=oh(Zf,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=xa)))}function Nr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Na={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},td={},$y={};Kn&&($y=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Or(i){if(td[i])return td[i];if(!Na[i])return i;var r=Na[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in $y)return td[i]=r[a];return i}var Wy=Or("animationend"),Zy=Or("animationiteration"),Jy=Or("animationstart"),uR=Or("transitionrun"),cR=Or("transitionstart"),hR=Or("transitioncancel"),tv=Or("transitionend"),ev=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function Yn(i,r){ev.set(i,r),Gn(r,[i])}var nv=new WeakMap;function xn(i,r){if(typeof i=="object"&&i!==null){var a=nv.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Ea(r)},nv.set(i,r),r)}return{value:i,source:r,stack:Ea(r)}}var Nn=[],Oa=0,nd=0;function Sc(){for(var i=Oa,r=nd=Oa=0;r<i;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var m=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&iv(a,f,m)}}function bc(i,r,a,l){Nn[Oa++]=i,Nn[Oa++]=r,Nn[Oa++]=a,Nn[Oa++]=l,nd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function id(i,r,a,l){return bc(i,r,a,l),wc(i)}function Pa(i,r){return bc(i,null,null,r),wc(i)}function iv(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-We(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function wc(i){if(50<zl)throw zl=0,um=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ka={};function fR(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(i,r,a,l){return new fR(i,r,a,l)}function sd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fi(i,r){var a=i.alternate;return a===null?(a=_n(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function sv(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Rc(i,r,a,l,f,m){var T=0;if(l=i,typeof i=="function")sd(i)&&(T=1);else if(typeof i=="string")T=mC(i,a,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case R:return i=_n(31,a,r,f),i.elementType=R,i.lanes=m,i;case P:return Pr(a.children,f,m,r);case G:T=8,f|=24;break;case F:return i=_n(12,a,r,f|2),i.elementType=F,i.lanes=m,i;case nt:return i=_n(13,a,r,f),i.elementType=nt,i.lanes=m,i;case ut:return i=_n(19,a,r,f),i.elementType=ut,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:case Q:T=10;break t;case tt:T=9;break t;case st:T=11;break t;case V:T=14;break t;case w:T=16,l=null;break t}T=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=_n(T,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function Pr(i,r,a,l){return i=_n(7,i,l,r),i.lanes=a,i}function rd(i,r,a){return i=_n(6,i,null,r),i.lanes=a,i}function ad(i,r,a){return r=_n(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var La=[],Ua=0,Cc=null,Ic=0,On=[],Pn=0,kr=null,Hi=1,Gi="";function Lr(i,r){La[Ua++]=Ic,La[Ua++]=Cc,Cc=i,Ic=r}function rv(i,r,a){On[Pn++]=Hi,On[Pn++]=Gi,On[Pn++]=kr,kr=i;var l=Hi;i=Gi;var f=32-We(l)-1;l&=~(1<<f),a+=1;var m=32-We(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Hi=1<<32-We(r)+f|a<<f|l,Gi=m+i}else Hi=1<<m|a<<f|l,Gi=i}function od(i){i.return!==null&&(Lr(i,1),rv(i,1,0))}function ld(i){for(;i===Cc;)Cc=La[--Ua],La[Ua]=null,Ic=La[--Ua],La[Ua]=null;for(;i===kr;)kr=On[--Pn],On[Pn]=null,Gi=On[--Pn],On[Pn]=null,Hi=On[--Pn],On[Pn]=null}var un=null,ce=null,jt=!1,Ur=null,di=!1,ud=Error(s(519));function Br(i){var r=Error(s(418,""));throw vl(xn(r,i)),ud}function av(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[Ce]=i,r[_e]=l,a){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(a=0;a<ql.length;a++)xt(ql[a],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":xt("invalid",r),Sr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(r);break;case"select":xt("invalid",r);break;case"textarea":xt("invalid",r),br(r,l.value,l.defaultValue,l.children),Aa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||S0(r.textContent,a)?(l.popover!=null&&(xt("beforetoggle",r),xt("toggle",r)),l.onScroll!=null&&xt("scroll",r),l.onScrollEnd!=null&&xt("scrollend",r),l.onClick!=null&&(r.onclick=lh),r=!0):r=!1,r||Br(i)}function ov(i){for(un=i.return;un;)switch(un.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:un=un.return}}function gl(i){if(i!==un)return!1;if(!jt)return ov(i),jt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||wm(i.type,i.memoizedProps)),a=!a),a&&ce&&Br(i),ov(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){ce=Xn(i.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}ce=null}}else r===27?(r=ce,ks(i.type)?(i=Dm,Dm=null,ce=i):ce=r):ce=un?Xn(i.stateNode.nextSibling):null;return!0}function yl(){ce=un=null,jt=!1}function lv(){var i=Ur;return i!==null&&(dn===null?dn=i:dn.push.apply(dn,i),Ur=null),i}function vl(i){Ur===null?Ur=[i]:Ur.push(i)}var cd=et(null),zr=null,Ki=null;function Es(i,r,a){rt(cd,r._currentValue),r._currentValue=a}function Yi(i){i._currentValue=cd.current,lt(cd)}function hd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function fd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var C=0;C<r.length;C++)if(S.context===r[C]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),hd(m.return,a,i),l||(T=null);break t}m=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),hd(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function _l(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=f.type;vn(f.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Ql):i=[Ql])}f=f.return}i!==null&&fd(r,i,a,l),r.flags|=262144}function Dc(i){for(i=i.firstContext;i!==null;){if(!vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function jr(i){zr=i,Ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ze(i){return uv(zr,i)}function Vc(i,r){return zr===null&&jr(i),uv(i,r)}function uv(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ki===null){if(i===null)throw Error(s(308));Ki=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ki=Ki.next=r;return a}var dR=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},mR=n.unstable_scheduleCallback,pR=n.unstable_NormalPriority,Ve={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new dR,data:new Map,refCount:0}}function Tl(i){i.refCount--,i.refCount===0&&mR(pR,function(){i.controller.abort()})}var El=null,md=0,Ba=0,za=null;function gR(i,r){if(El===null){var a=El=[];md=0,Ba=gm(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return md++,r.then(cv,cv),r}function cv(){if(--md===0&&El!==null){za!==null&&(za.status="fulfilled");var i=El;El=null,Ba=0,za=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yR(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var hv=K.S;K.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&gR(i,r),hv!==null&&hv(i,r)};var qr=et(null);function pd(){var i=qr.current;return i!==null?i:Jt.pooledCache}function Mc(i,r){r===null?rt(qr,qr.current):rt(qr,r.pool)}function fv(){var i=pd();return i===null?null:{parent:Ve._currentValue,pool:i}}var Al=Error(s(460)),dv=Error(s(474)),xc=Error(s(542)),gd={then:function(){}};function mv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Nc(){}function pv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(Nc,Nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,yv(i),i;default:if(typeof r.status=="string")r.then(Nc,Nc);else{if(i=Jt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,yv(i),i}throw Sl=r,Al}}var Sl=null;function gv(){if(Sl===null)throw Error(s(459));var i=Sl;return Sl=null,i}function yv(i){if(i===Al||i===xc)throw Error(s(483))}var As=!1;function yd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bs(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=wc(i),iv(i,null,a),r}return bc(i,l,r,a),wc(i)}function bl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Zo(i,a)}}function _d(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Td=!1;function wl(){if(Td){var i=za;if(i!==null)throw i}}function Rl(i,r,a,l){Td=!1;var f=i.updateQueue;As=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,z=C.next;C.next=null,T===null?m=z:T.next=z,T=C;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==T&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=C))}if(m!==null){var Z=f.baseState;T=0,Y=z=C=null,S=m;do{var j=S.lane&-536870913,q=j!==S.lane;if(q?(Ut&j)===j:(l&j)===j){j!==0&&j===Ba&&(Td=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Tt=i,yt=S;j=r;var $t=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Z=Tt.call($t,Z,j);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,j=typeof Tt=="function"?Tt.call($t,Z,j):Tt,j==null)break t;Z=v({},Z,j);break t;case 2:As=!0}}j=S.callback,j!==null&&(i.flags|=64,q&&(i.flags|=8192),q=f.callbacks,q===null?f.callbacks=[j]:q.push(j))}else q={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=q,C=Z):Y=Y.next=q,T|=j;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;q=S,S=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Y===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),xs|=T,i.lanes=T,i.memoizedState=Z}}function vv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function _v(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)vv(a[i],r)}var ja=et(null),Oc=et(0);function Tv(i,r){i=ts,rt(Oc,i),rt(ja,r),ts=i|r.baseLanes}function Ed(){rt(Oc,ts),rt(ja,ja.current)}function Ad(){ts=Oc.current,lt(ja),lt(Oc)}var ws=0,It=null,Qt=null,Ee=null,Pc=!1,qa=!1,Fr=!1,kc=0,Cl=0,Fa=null,vR=0;function me(){throw Error(s(321))}function Sd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!vn(i[a],r[a]))return!1;return!0}function bd(i,r,a,l,f,m){return ws=m,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=i===null||i.memoizedState===null?i_:s_,Fr=!1,m=a(l,f),Fr=!1,qa&&(m=Av(r,a,l,f)),Ev(i),m}function Ev(i){K.H=qc;var r=Qt!==null&&Qt.next!==null;if(ws=0,Ee=Qt=It=null,Pc=!1,Cl=0,Fa=null,r)throw Error(s(300));i===null||Ue||(i=i.dependencies,i!==null&&Dc(i)&&(Ue=!0))}function Av(i,r,a,l){It=i;var f=0;do{if(qa&&(Fa=null),Cl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,Ee=Qt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=wR,m=r(a,l)}while(qa);return m}function _R(){var i=K.H,r=i.useState()[0];return r=typeof r.then=="function"?Il(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(It.flags|=1024),r}function wd(){var i=kc!==0;return kc=0,i}function Rd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Cd(i){if(Pc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Pc=!1}ws=0,Ee=Qt=It=null,qa=!1,Cl=kc=0,Fa=null}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?It.memoizedState=Ee=i:Ee=Ee.next=i,Ee}function Ae(){if(Qt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=Ee===null?It.memoizedState:Ee.next;if(r!==null)Ee=r,Qt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Ee===null?It.memoizedState=Ee=i:Ee=Ee.next=i}return Ee}function Id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(i){var r=Cl;return Cl+=1,Fa===null&&(Fa=[]),i=pv(Fa,i,r),r=It,(Ee===null?r.memoizedState:Ee.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?i_:s_),i}function Lc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Il(i);if(i.$$typeof===Q)return Ze(i)}throw Error(s(438,String(i)))}function Dd(i){var r=null,a=It.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Id(),It.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=x;return r.index++,a}function Qi(i,r){return typeof r=="function"?r(i):r}function Uc(i){var r=Ae();return Vd(r,Qt,i)}function Vd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=T=null,C=null,z=r,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ut&Z)===Z:(ws&Z)===Z){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ba&&(Y=!0);else if((ws&j)===j){z=z.next,j===Ba&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=Z,T=m):C=C.next=Z,It.lanes|=j,xs|=j;Z=z.action,Fr&&a(m,Z),m=z.hasEagerState?z.eagerState:a(m,Z)}else j={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(S=C=j,T=m):C=C.next=j,It.lanes|=Z,xs|=Z;z=z.next}while(z!==null&&z!==r);if(C===null?T=m:C.next=S,!vn(m,i.memoizedState)&&(Ue=!0,Y&&(a=za,a!==null)))throw a;i.memoizedState=m,i.baseState=T,i.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Md(i){var r=Ae(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);vn(m,r.memoizedState)||(Ue=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Sv(i,r,a){var l=It,f=Ae(),m=jt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!vn((Qt||f).memoizedState,a);T&&(f.memoizedState=a,Ue=!0),f=f.queue;var S=Rv.bind(null,l,f,i);if(Dl(2048,8,S,[i]),f.getSnapshot!==r||T||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Bc(),wv.bind(null,l,f,a,r),null),Jt===null)throw Error(s(349));m||(ws&124)!==0||bv(l,r,a)}return a}function bv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=It.updateQueue,r===null?(r=Id(),It.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function wv(i,r,a,l){r.value=a,r.getSnapshot=l,Cv(r)&&Iv(i)}function Rv(i,r,a){return a(function(){Cv(r)&&Iv(i)})}function Cv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!vn(i,a)}catch{return!0}}function Iv(i){var r=Pa(i,2);r!==null&&bn(r,i,2)}function xd(i){var r=hn();if(typeof i=="function"){var a=i;if(i=a(),Fr){gn(!0);try{a()}finally{gn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:i},r}function Dv(i,r,a,l){return i.baseState=a,Vd(i,Qt,typeof l=="function"?l:Qi)}function TR(i,r,a,l,f){if(jc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Vv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Vv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=K.T,T={};K.T=T;try{var S=a(f,l),C=K.S;C!==null&&C(T,S),Mv(i,r,S)}catch(z){Nd(i,r,z)}finally{K.T=m}}else try{m=a(f,l),Mv(i,r,m)}catch(z){Nd(i,r,z)}}function Mv(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xv(i,r,l)},function(l){return Nd(i,r,l)}):xv(i,r,a)}function xv(i,r,a){r.status="fulfilled",r.value=a,Nv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Vv(i,a)))}function Nd(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Nv(r),r=r.next;while(r!==l)}i.action=null}function Nv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ov(i,r){return r}function Pv(i,r){if(jt){var a=Jt.formState;if(a!==null){t:{var l=It;if(jt){if(ce){e:{for(var f=ce,m=di;f.nodeType!==8;){if(!m){f=null;break e}if(f=Xn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ce=Xn(f.nextSibling),l=f.data==="F!";break t}}Br(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ov,lastRenderedState:r},a.queue=l,a=t_.bind(null,It,l),l.dispatch=a,l=xd(!1),m=Ud.bind(null,It,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=TR.bind(null,It,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function kv(i){var r=Ae();return Lv(r,Qt,i)}function Lv(i,r,a){if(r=Vd(i,r,Ov)[0],i=Uc(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(T){throw T===Al?xc:T}else l=r;r=Ae();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(It.flags|=2048,Ha(9,Bc(),ER.bind(null,f,a),null)),[l,m,i]}function ER(i,r){i.action=r}function Uv(i){var r=Ae(),a=Qt;if(a!==null)return Lv(r,a,i);Ae(),r=r.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function Ha(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=Id(),It.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Bc(){return{destroy:void 0,resource:void 0}}function Bv(){return Ae().memoizedState}function zc(i,r,a,l){var f=hn();l=l===void 0?null:l,It.flags|=i,f.memoizedState=Ha(1|r,Bc(),a,l)}function Dl(i,r,a,l){var f=Ae();l=l===void 0?null:l;var m=f.memoizedState.inst;Qt!==null&&l!==null&&Sd(l,Qt.memoizedState.deps)?f.memoizedState=Ha(r,m,a,l):(It.flags|=i,f.memoizedState=Ha(1|r,m,a,l))}function zv(i,r){zc(8390656,8,i,r)}function jv(i,r){Dl(2048,8,i,r)}function qv(i,r){return Dl(4,2,i,r)}function Fv(i,r){return Dl(4,4,i,r)}function Hv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Gv(i,r,a){a=a!=null?a.concat([i]):null,Dl(4,4,Hv.bind(null,r,i),a)}function Od(){}function Kv(i,r){var a=Ae();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Sd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function Yv(i,r){var a=Ae();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Sd(r,l[1]))return l[0];if(l=i(),Fr){gn(!0);try{i()}finally{gn(!1)}}return a.memoizedState=[l,r],l}function Pd(i,r,a){return a===void 0||(ws&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=$_(),It.lanes|=i,xs|=i,a)}function Qv(i,r,a,l){return vn(a,r)?a:ja.current!==null?(i=Pd(i,a,l),vn(i,r)||(Ue=!0),i):(ws&42)===0?(Ue=!0,i.memoizedState=a):(i=$_(),It.lanes|=i,xs|=i,r)}function Xv(i,r,a,l,f){var m=it.p;it.p=m!==0&&8>m?m:8;var T=K.T,S={};K.T=S,Ud(i,!1,r,a);try{var C=f(),z=K.S;if(z!==null&&z(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=yR(C,l);Vl(i,r,Y,Sn(i))}else Vl(i,r,l,Sn(i))}catch(Z){Vl(i,r,{then:function(){},status:"rejected",reason:Z},Sn())}finally{it.p=m,K.T=T}}function AR(){}function kd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=$v(i).queue;Xv(i,f,r,ht,a===null?AR:function(){return Wv(i),a(l)})}function $v(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ht},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Wv(i){var r=$v(i).next.queue;Vl(i,r,{},Sn())}function Ld(){return Ze(Ql)}function Zv(){return Ae().memoizedState}function Jv(){return Ae().memoizedState}function SR(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();i=Ss(a);var l=bs(r,i,a);l!==null&&(bn(l,r,a),bl(l,r,a)),r={cache:dd()},i.payload=r;return}r=r.return}}function bR(i,r,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},jc(i)?e_(r,a):(a=id(i,r,a,l),a!==null&&(bn(a,i,l),n_(a,r,l)))}function t_(i,r,a){var l=Sn();Vl(i,r,a,l)}function Vl(i,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(jc(i))e_(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,S=m(T,a);if(f.hasEagerState=!0,f.eagerState=S,vn(S,T))return bc(i,r,f,0),Jt===null&&Sc(),!1}catch{}finally{}if(a=id(i,r,f,l),a!==null)return bn(a,i,l),n_(a,r,l),!0}return!1}function Ud(i,r,a,l){if(l={lane:2,revertLane:gm(),action:l,hasEagerState:!1,eagerState:null,next:null},jc(i)){if(r)throw Error(s(479))}else r=id(i,a,l,2),r!==null&&bn(r,i,2)}function jc(i){var r=i.alternate;return i===It||r!==null&&r===It}function e_(i,r){qa=Pc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function n_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,Zo(i,a)}}var qc={readContext:Ze,use:Lc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},i_={readContext:Ze,use:Lc,useCallback:function(i,r){return hn().memoizedState=[i,r===void 0?null:r],i},useContext:Ze,useEffect:zv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,zc(4194308,4,Hv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return zc(4194308,4,i,r)},useInsertionEffect:function(i,r){zc(4,2,i,r)},useMemo:function(i,r){var a=hn();r=r===void 0?null:r;var l=i();if(Fr){gn(!0);try{i()}finally{gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=hn();if(a!==void 0){var f=a(r);if(Fr){gn(!0);try{a(r)}finally{gn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=bR.bind(null,It,i),[l.memoizedState,i]},useRef:function(i){var r=hn();return i={current:i},r.memoizedState=i},useState:function(i){i=xd(i);var r=i.queue,a=t_.bind(null,It,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(i,r){var a=hn();return Pd(a,i,r)},useTransition:function(){var i=xd(!1);return i=Xv.bind(null,It,i.queue,!0,!1),hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=It,f=hn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Jt===null)throw Error(s(349));(Ut&124)!==0||bv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,zv(Rv.bind(null,l,m,i),[i]),l.flags|=2048,Ha(9,Bc(),wv.bind(null,l,m,a,r),null),a},useId:function(){var i=hn(),r=Jt.identifierPrefix;if(jt){var a=Gi,l=Hi;a=(l&~(1<<32-We(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=kc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=vR++,r="«"+r+"r"+a.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Ld,useFormState:Pv,useActionState:Pv,useOptimistic:function(i){var r=hn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ud.bind(null,It,!0,a),a.dispatch=r,[i,r]},useMemoCache:Dd,useCacheRefresh:function(){return hn().memoizedState=SR.bind(null,It)}},s_={readContext:Ze,use:Lc,useCallback:Kv,useContext:Ze,useEffect:jv,useImperativeHandle:Gv,useInsertionEffect:qv,useLayoutEffect:Fv,useMemo:Yv,useReducer:Uc,useRef:Bv,useState:function(){return Uc(Qi)},useDebugValue:Od,useDeferredValue:function(i,r){var a=Ae();return Qv(a,Qt.memoizedState,i,r)},useTransition:function(){var i=Uc(Qi)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Il(i),r]},useSyncExternalStore:Sv,useId:Zv,useHostTransitionStatus:Ld,useFormState:kv,useActionState:kv,useOptimistic:function(i,r){var a=Ae();return Dv(a,Qt,i,r)},useMemoCache:Dd,useCacheRefresh:Jv},wR={readContext:Ze,use:Lc,useCallback:Kv,useContext:Ze,useEffect:jv,useImperativeHandle:Gv,useInsertionEffect:qv,useLayoutEffect:Fv,useMemo:Yv,useReducer:Md,useRef:Bv,useState:function(){return Md(Qi)},useDebugValue:Od,useDeferredValue:function(i,r){var a=Ae();return Qt===null?Pd(a,i,r):Qv(a,Qt.memoizedState,i,r)},useTransition:function(){var i=Md(Qi)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Il(i),r]},useSyncExternalStore:Sv,useId:Zv,useHostTransitionStatus:Ld,useFormState:Uv,useActionState:Uv,useOptimistic:function(i,r){var a=Ae();return Qt!==null?Dv(a,Qt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:Jv},Ga=null,Ml=0;function Fc(i){var r=Ml;return Ml+=1,Ga===null&&(Ga=[]),pv(Ga,i,r)}function xl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Hc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function r_(i){var r=i._init;return r(i._payload)}function a_(i){function r(k,N){if(i){var B=k.deletions;B===null?(k.deletions=[N],k.flags|=16):B.push(N)}}function a(k,N){if(!i)return null;for(;N!==null;)r(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function f(k,N){return k=Fi(k,N),k.index=0,k.sibling=null,k}function m(k,N,B){return k.index=B,i?(B=k.alternate,B!==null?(B=B.index,B<N?(k.flags|=67108866,N):B):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function T(k){return i&&k.alternate===null&&(k.flags|=67108866),k}function S(k,N,B,X){return N===null||N.tag!==6?(N=rd(B,k.mode,X),N.return=k,N):(N=f(N,B),N.return=k,N)}function C(k,N,B,X){var dt=B.type;return dt===P?Y(k,N,B.props.children,X,B.key):N!==null&&(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&r_(dt)===N.type)?(N=f(N,B.props),xl(N,B),N.return=k,N):(N=Rc(B.type,B.key,B.props,null,k.mode,X),xl(N,B),N.return=k,N)}function z(k,N,B,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=ad(B,k.mode,X),N.return=k,N):(N=f(N,B.children||[]),N.return=k,N)}function Y(k,N,B,X,dt){return N===null||N.tag!==7?(N=Pr(B,k.mode,X,dt),N.return=k,N):(N=f(N,B),N.return=k,N)}function Z(k,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=rd(""+N,k.mode,B),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return B=Rc(N.type,N.key,N.props,null,k.mode,B),xl(B,N),B.return=k,B;case I:return N=ad(N,k.mode,B),N.return=k,N;case w:var X=N._init;return N=X(N._payload),Z(k,N,B)}if(ee(N)||L(N))return N=Pr(N,k.mode,B,null),N.return=k,N;if(typeof N.then=="function")return Z(k,Fc(N),B);if(N.$$typeof===Q)return Z(k,Vc(k,N),B);Hc(k,N)}return null}function j(k,N,B,X){var dt=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return dt!==null?null:S(k,N,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===dt?C(k,N,B,X):null;case I:return B.key===dt?z(k,N,B,X):null;case w:return dt=B._init,B=dt(B._payload),j(k,N,B,X)}if(ee(B)||L(B))return dt!==null?null:Y(k,N,B,X,null);if(typeof B.then=="function")return j(k,N,Fc(B),X);if(B.$$typeof===Q)return j(k,N,Vc(k,B),X);Hc(k,B)}return null}function q(k,N,B,X,dt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(B)||null,S(N,k,""+X,dt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return k=k.get(X.key===null?B:X.key)||null,C(N,k,X,dt);case I:return k=k.get(X.key===null?B:X.key)||null,z(N,k,X,dt);case w:var Vt=X._init;return X=Vt(X._payload),q(k,N,B,X,dt)}if(ee(X)||L(X))return k=k.get(B)||null,Y(N,k,X,dt,null);if(typeof X.then=="function")return q(k,N,B,Fc(X),dt);if(X.$$typeof===Q)return q(k,N,B,Vc(N,X),dt);Hc(N,X)}return null}function Tt(k,N,B,X){for(var dt=null,Vt=null,mt=N,vt=N=0,ze=null;mt!==null&&vt<B.length;vt++){mt.index>vt?(ze=mt,mt=null):ze=mt.sibling;var zt=j(k,mt,B[vt],X);if(zt===null){mt===null&&(mt=ze);break}i&&mt&&zt.alternate===null&&r(k,mt),N=m(zt,N,vt),Vt===null?dt=zt:Vt.sibling=zt,Vt=zt,mt=ze}if(vt===B.length)return a(k,mt),jt&&Lr(k,vt),dt;if(mt===null){for(;vt<B.length;vt++)mt=Z(k,B[vt],X),mt!==null&&(N=m(mt,N,vt),Vt===null?dt=mt:Vt.sibling=mt,Vt=mt);return jt&&Lr(k,vt),dt}for(mt=l(mt);vt<B.length;vt++)ze=q(mt,k,vt,B[vt],X),ze!==null&&(i&&ze.alternate!==null&&mt.delete(ze.key===null?vt:ze.key),N=m(ze,N,vt),Vt===null?dt=ze:Vt.sibling=ze,Vt=ze);return i&&mt.forEach(function(js){return r(k,js)}),jt&&Lr(k,vt),dt}function yt(k,N,B,X){if(B==null)throw Error(s(151));for(var dt=null,Vt=null,mt=N,vt=N=0,ze=null,zt=B.next();mt!==null&&!zt.done;vt++,zt=B.next()){mt.index>vt?(ze=mt,mt=null):ze=mt.sibling;var js=j(k,mt,zt.value,X);if(js===null){mt===null&&(mt=ze);break}i&&mt&&js.alternate===null&&r(k,mt),N=m(js,N,vt),Vt===null?dt=js:Vt.sibling=js,Vt=js,mt=ze}if(zt.done)return a(k,mt),jt&&Lr(k,vt),dt;if(mt===null){for(;!zt.done;vt++,zt=B.next())zt=Z(k,zt.value,X),zt!==null&&(N=m(zt,N,vt),Vt===null?dt=zt:Vt.sibling=zt,Vt=zt);return jt&&Lr(k,vt),dt}for(mt=l(mt);!zt.done;vt++,zt=B.next())zt=q(mt,k,vt,zt.value,X),zt!==null&&(i&&zt.alternate!==null&&mt.delete(zt.key===null?vt:zt.key),N=m(zt,N,vt),Vt===null?dt=zt:Vt.sibling=zt,Vt=zt);return i&&mt.forEach(function(RC){return r(k,RC)}),jt&&Lr(k,vt),dt}function $t(k,N,B,X){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:t:{for(var dt=B.key;N!==null;){if(N.key===dt){if(dt=B.type,dt===P){if(N.tag===7){a(k,N.sibling),X=f(N,B.props.children),X.return=k,k=X;break t}}else if(N.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&r_(dt)===N.type){a(k,N.sibling),X=f(N,B.props),xl(X,B),X.return=k,k=X;break t}a(k,N);break}else r(k,N);N=N.sibling}B.type===P?(X=Pr(B.props.children,k.mode,X,B.key),X.return=k,k=X):(X=Rc(B.type,B.key,B.props,null,k.mode,X),xl(X,B),X.return=k,k=X)}return T(k);case I:t:{for(dt=B.key;N!==null;){if(N.key===dt)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(k,N.sibling),X=f(N,B.children||[]),X.return=k,k=X;break t}else{a(k,N);break}else r(k,N);N=N.sibling}X=ad(B,k.mode,X),X.return=k,k=X}return T(k);case w:return dt=B._init,B=dt(B._payload),$t(k,N,B,X)}if(ee(B))return Tt(k,N,B,X);if(L(B)){if(dt=L(B),typeof dt!="function")throw Error(s(150));return B=dt.call(B),yt(k,N,B,X)}if(typeof B.then=="function")return $t(k,N,Fc(B),X);if(B.$$typeof===Q)return $t(k,N,Vc(k,B),X);Hc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(k,N.sibling),X=f(N,B),X.return=k,k=X):(a(k,N),X=rd(B,k.mode,X),X.return=k,k=X),T(k)):a(k,N)}return function(k,N,B,X){try{Ml=0;var dt=$t(k,N,B,X);return Ga=null,dt}catch(mt){if(mt===Al||mt===xc)throw mt;var Vt=_n(29,mt,null,k.mode);return Vt.lanes=X,Vt.return=k,Vt}finally{}}}var Ka=a_(!0),o_=a_(!1),kn=et(null),mi=null;function Rs(i){var r=i.alternate;rt(Me,Me.current&1),rt(kn,i),mi===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(mi=i)}function l_(i){if(i.tag===22){if(rt(Me,Me.current),rt(kn,i),mi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(mi=i)}}else Cs()}function Cs(){rt(Me,Me.current),rt(kn,kn.current)}function Xi(i){lt(kn),mi===i&&(mi=null),lt(Me)}var Me=et(0);function Gc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Im(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Bd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var zd={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Sn(),f=Ss(l);f.payload=r,a!=null&&(f.callback=a),r=bs(i,f,l),r!==null&&(bn(r,i,l),bl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Sn(),f=Ss(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=bs(i,f,l),r!==null&&(bn(r,i,l),bl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Sn(),l=Ss(a);l.tag=2,r!=null&&(l.callback=r),r=bs(i,l,a),r!==null&&(bn(r,i,a),bl(r,i,a))}};function u_(i,r,a,l,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!ml(a,l)||!ml(f,m):!0}function c_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&zd.enqueueReplaceState(r,r.state,null)}function Hr(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=v({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Kc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function h_(i){Kc(i)}function f_(i){console.error(i)}function d_(i){Kc(i)}function Yc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function m_(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(i,r,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Yc(i,r)},a}function p_(i){return i=Ss(i),i.tag=3,i}function g_(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){m_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){m_(r,a,l),typeof f!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function RR(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&_l(r,a,f,!0),a=kn.current,a!==null){switch(a.tag){case 13:return mi===null?hm():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===gd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),dm(i,l,f)),!1;case 22:return a.flags|=65536,l===gd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),dm(i,l,f)),!1}throw Error(s(435,a.tag))}return dm(i,l,f),hm(),!1}if(jt)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ud&&(i=Error(s(422),{cause:l}),vl(xn(i,a)))):(l!==ud&&(r=Error(s(423),{cause:l}),vl(xn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=xn(l,a),f=jd(i.stateNode,l,f),_d(i,f),he!==4&&(he=2)),!1;var m=Error(s(520),{cause:l});if(m=xn(m,a),Bl===null?Bl=[m]:Bl.push(m),he!==4&&(he=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=jd(a.stateNode,l,i),_d(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ns===null||!Ns.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=p_(f),g_(f,i,a,l),_d(a,f),!1}a=a.return}while(a!==null);return!1}var y_=Error(s(461)),Ue=!1;function He(i,r,a,l){r.child=i===null?o_(r,null,a,l):Ka(r,i.child,a,l)}function v_(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return jr(r),l=bd(i,r,a,T,m,f),S=wd(),i!==null&&!Ue?(Rd(i,r,f),$i(i,r,f)):(jt&&S&&od(r),r.flags|=1,He(i,r,l,f),r.child)}function __(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!sd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,T_(i,r,m,l,f)):(i=Rc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Xd(i,f)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(T,l)&&i.ref===r.ref)return $i(i,r,f)}return r.flags|=1,i=Fi(m,l),i.ref=r.ref,i.return=r,r.child=i}function T_(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(ml(m,l)&&i.ref===r.ref)if(Ue=!1,r.pendingProps=l=m,Xd(i,f))(i.flags&131072)!==0&&(Ue=!0);else return r.lanes=i.lanes,$i(i,r,f)}return qd(i,r,a,l,f)}function E_(i,r,a){var l=r.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return A_(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Mc(r,m!==null?m.cachePool:null),m!==null?Tv(r,m):Ed(),l_(r);else return r.lanes=r.childLanes=536870912,A_(i,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Mc(r,m.cachePool),Tv(r,m),Cs(),r.memoizedState=null):(i!==null&&Mc(r,null),Ed(),Cs());return He(i,r,f,a),r.child}function A_(i,r,a,l){var f=pd();return f=f===null?null:{parent:Ve._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&Mc(r,null),Ed(),l_(r),i!==null&&_l(i,r,l,!0),null}function Qc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function qd(i,r,a,l,f){return jr(r),a=bd(i,r,a,l,void 0,f),l=wd(),i!==null&&!Ue?(Rd(i,r,f),$i(i,r,f)):(jt&&l&&od(r),r.flags|=1,He(i,r,a,f),r.child)}function S_(i,r,a,l,f,m){return jr(r),r.updateQueue=null,a=Av(r,l,a,f),Ev(i),l=wd(),i!==null&&!Ue?(Rd(i,r,m),$i(i,r,m)):(jt&&l&&od(r),r.flags|=1,He(i,r,a,m),r.child)}function b_(i,r,a,l,f){if(jr(r),r.stateNode===null){var m=ka,T=a.contextType;typeof T=="object"&&T!==null&&(m=Ze(T)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=zd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},yd(r),T=a.contextType,m.context=typeof T=="object"&&T!==null?Ze(T):ka,m.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Bd(r,a,T,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&zd.enqueueReplaceState(m,m.state,null),Rl(r,l,m,f),wl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,C=Hr(a,S);m.props=C;var z=m.context,Y=a.contextType;T=ka,typeof Y=="object"&&Y!==null&&(T=Ze(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||z!==T)&&c_(r,m,l,T),As=!1;var j=r.memoizedState;m.state=j,Rl(r,l,m,f),wl(),z=r.memoizedState,S||j!==z||As?(typeof Z=="function"&&(Bd(r,a,Z,l),z=r.memoizedState),(C=As||u_(r,a,C,l,j,z,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),m.props=l,m.state=z,m.context=T,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,vd(i,r),T=r.memoizedProps,Y=Hr(a,T),m.props=Y,Z=r.pendingProps,j=m.context,z=a.contextType,C=ka,typeof z=="object"&&z!==null&&(C=Ze(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==Z||j!==C)&&c_(r,m,l,C),As=!1,j=r.memoizedState,m.state=j,Rl(r,l,m,f),wl();var q=r.memoizedState;T!==Z||j!==q||As||i!==null&&i.dependencies!==null&&Dc(i.dependencies)?(typeof S=="function"&&(Bd(r,a,S,l),q=r.memoizedState),(Y=As||u_(r,a,Y,l,j,q,C)||i!==null&&i.dependencies!==null&&Dc(i.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&j===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&j===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=C,l=Y):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&j===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&j===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,Qc(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=Ka(r,i.child,null,f),r.child=Ka(r,null,a,f)):He(i,r,a,f),r.memoizedState=m.state,i=r.child):i=$i(i,r,f),i}function w_(i,r,a,l){return yl(),r.flags|=256,He(i,r,a,l),r.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(i){return{baseLanes:i,cachePool:fv()}}function Gd(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Ln),i}function R_(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(Me.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(jt){if(f?Rs(r):Cs(),jt){var S=ce,C;if(C=S){t:{for(C=S,S=di;C.nodeType!==8;){if(!S){S=null;break t}if(C=Xn(C.nextSibling),C===null){S=null;break t}}S=C}S!==null?(r.memoizedState={dehydrated:S,treeContext:kr!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},C=_n(18,null,null,0),C.stateNode=S,C.return=r,r.child=C,un=r,ce=null,C=!0):C=!1}C||Br(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Im(S)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return S=l.children,l=l.fallback,f?(Cs(),f=r.mode,S=Xc({mode:"hidden",children:S},f),l=Pr(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=Hd(a),f.childLanes=Gd(i,T,a),r.memoizedState=Fd,l):(Rs(r),Kd(r,S))}if(C=i.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(m)r.flags&256?(Rs(r),r.flags&=-257,r=Yd(i,r,a)):r.memoizedState!==null?(Cs(),r.child=i.child,r.flags|=128,r=null):(Cs(),f=l.fallback,S=r.mode,l=Xc({mode:"visible",children:l.children},S),f=Pr(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ka(r,i.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=Gd(i,T,a),r.memoizedState=Fd,r=f);else if(Rs(r),Im(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var z=T.dgst;T=z,l=Error(s(419)),l.stack="",l.digest=T,vl({value:l,source:null,stack:null}),r=Yd(i,r,a)}else if(Ue||_l(i,r,a,!1),T=(a&i.childLanes)!==0,Ue||T){if(T=Jt,T!==null&&(l=a&-a,l=(l&42)!==0?1:ms(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Pa(i,l),bn(T,i,l),y_;S.data==="$?"||hm(),r=Yd(i,r,a)}else S.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=C.treeContext,ce=Xn(S.nextSibling),un=r,jt=!0,Ur=null,di=!1,i!==null&&(On[Pn++]=Hi,On[Pn++]=Gi,On[Pn++]=kr,Hi=i.id,Gi=i.overflow,kr=r),r=Kd(r,l.children),r.flags|=4096);return r}return f?(Cs(),f=l.fallback,S=r.mode,C=i.child,z=C.sibling,l=Fi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?f=Fi(z,f):(f=Pr(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=i.child.memoizedState,S===null?S=Hd(a):(C=S.cachePool,C!==null?(z=Ve._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=fv(),S={baseLanes:S.baseLanes|a,cachePool:C}),f.memoizedState=S,f.childLanes=Gd(i,T,a),r.memoizedState=Fd,l):(Rs(r),a=i.child,i=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=a,r.memoizedState=null,a)}function Kd(i,r){return r=Xc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Xc(i,r){return i=_n(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Yd(i,r,a){return Ka(r,i.child,null,a),i=Kd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function C_(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),hd(i.return,r,a)}function Qd(i,r,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function I_(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(He(i,r,l.children,a),l=Me.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C_(i,a,r);else if(i.tag===19)C_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(rt(Me,l),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Gc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Qd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Gc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Qd(r,!0,a,null,m);break;case"together":Qd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),xs|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(_l(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Fi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Fi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Xd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Dc(i)))}function CR(i,r,a){switch(r.tag){case 3:Zt(r,r.stateNode.containerInfo),Es(r,Ve,i.memoizedState.cache),yl();break;case 27:case 5:ds(r);break;case 4:Zt(r,r.stateNode.containerInfo);break;case 10:Es(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?R_(i,r,a):(Rs(r),i=$i(i,r,a),i!==null?i.sibling:null);Rs(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(_l(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return I_(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Me,Me.current),l)break;return null;case 22:case 23:return r.lanes=0,E_(i,r,a);case 24:Es(r,Ve,i.memoizedState.cache)}return $i(i,r,a)}function D_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ue=!0;else{if(!Xd(i,a)&&(r.flags&128)===0)return Ue=!1,CR(i,r,a);Ue=(i.flags&131072)!==0}else Ue=!1,jt&&(r.flags&1048576)!==0&&rv(r,Ic,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")sd(l)?(i=Hr(l,i),r.tag=1,r=b_(null,r,l,i,a)):(r.tag=0,r=qd(null,r,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===st){r.tag=11,r=v_(null,r,l,i,a);break t}else if(f===V){r.tag=14,r=__(null,r,l,i,a);break t}}throw r=ve(l)||l,Error(s(306,r,""))}}return r;case 0:return qd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Hr(l,r.pendingProps),b_(i,r,l,f,a);case 3:t:{if(Zt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,vd(i,r),Rl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,Es(r,Ve,l),l!==m.cache&&fd(r,[Ve],a,!0),wl(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=w_(i,r,l,a);break t}else if(l!==f){f=xn(Error(s(424)),r),vl(f),r=w_(i,r,l,a);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ce=Xn(i.firstChild),un=r,jt=!0,Ur=null,di=!0,a=o_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===f){r=$i(i,r,a);break t}He(i,r,l,a)}r=r.child}return r;case 26:return Qc(i,r),i===null?(a=N0(r.type,null,r.pendingProps,null))?r.memoizedState=a:jt||(a=r.type,i=r.pendingProps,l=uh(St.current).createElement(a),l[Ce]=r,l[_e]=i,Ke(l,a,i),de(l),r.stateNode=l):r.memoizedState=N0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ds(r),i===null&&jt&&(l=r.stateNode=V0(r.type,r.pendingProps,St.current),un=r,di=!0,f=ce,ks(r.type)?(Dm=f,ce=Xn(l.firstChild)):ce=f),He(i,r,r.pendingProps.children,a),Qc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&jt&&((f=l=ce)&&(l=eC(l,r.type,r.pendingProps,di),l!==null?(r.stateNode=l,un=r,ce=Xn(l.firstChild),di=!1,f=!0):f=!1),f||Br(r)),ds(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,wm(f,m)?l=null:T!==null&&wm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=bd(i,r,_R,null,null,a),Ql._currentValue=f),Qc(i,r),He(i,r,l,a),r.child;case 6:return i===null&&jt&&((i=a=ce)&&(a=nC(a,r.pendingProps,di),a!==null?(r.stateNode=a,un=r,ce=null,i=!0):i=!1),i||Br(r)),null;case 13:return R_(i,r,a);case 4:return Zt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Ka(r,null,l,a):He(i,r,l,a),r.child;case 11:return v_(i,r,r.type,r.pendingProps,a);case 7:return He(i,r,r.pendingProps,a),r.child;case 8:return He(i,r,r.pendingProps.children,a),r.child;case 12:return He(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Es(r,r.type,l.value),He(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,jr(r),f=Ze(f),l=l(f),r.flags|=1,He(i,r,l,a),r.child;case 14:return __(i,r,r.type,r.pendingProps,a);case 15:return T_(i,r,r.type,r.pendingProps,a);case 19:return I_(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=Xc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return E_(i,r,a);case 24:return jr(r),l=Ze(Ve),i===null?(f=pd(),f===null&&(f=Jt,m=dd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},yd(r),Es(r,Ve,f)):((i.lanes&a)!==0&&(vd(i,r),Rl(r,null,null,a),wl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Es(r,Ve,l)):(l=m.cache,Es(r,Ve,l),l!==f.cache&&fd(r,[Ve],a,!0))),He(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Wi(i){i.flags|=4}function V_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!U0(r)){if(r=kn.current,r!==null&&((Ut&4194048)===Ut?mi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==mi))throw Sl=gd,dv;i.flags|=8192}}function $c(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?$o():536870912,i.lanes|=r,$a|=r)}function Nl(i,r){if(!jt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ae(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function IR(i,r,a){var l=r.pendingProps;switch(ld(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(Ve),ei(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(gl(r)?Wi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lv())),ae(r),null;case 26:return a=r.memoizedState,i===null?(Wi(r),a!==null?(ae(r),V_(r,a)):(ae(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Wi(r),ae(r),V_(r,a)):(ae(r),r.flags&=-16777217):(i.memoizedProps!==l&&Wi(r),ae(r),r.flags&=-16777217),null;case 27:Vi(r),a=St.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}i=gt.current,gl(r)?av(r):(i=V0(f,l,a),r.stateNode=i,Wi(r))}return ae(r),null;case 5:if(Vi(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(i=gt.current,gl(r))av(r);else{switch(f=uh(St.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[Ce]=r,i[_e]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Ke(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Wi(r)}}return ae(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,gl(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=un,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[Ce]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S0(i.nodeValue,a)),i||Br(r)}else i=uh(i).createTextNode(l),i[Ce]=r,r.stateNode=i}return ae(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=gl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ce]=r}else yl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),f=!1}else f=lv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),$c(r,r.updateQueue),ae(r),null;case 4:return ei(),i===null&&Tm(r.stateNode.containerInfo),ae(r),null;case 10:return Yi(r.type),ae(r),null;case 19:if(lt(Me),f=r.memoizedState,f===null)return ae(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Nl(f,!1);else{if(he!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Gc(i),m!==null){for(r.flags|=128,Nl(f,!1),i=m.updateQueue,r.updateQueue=i,$c(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)sv(a,i),a=a.sibling;return rt(Me,Me.current&1|2),r.child}i=i.sibling}f.tail!==null&&Rn()>Jc&&(r.flags|=128,l=!0,Nl(f,!1),r.lanes=4194304)}else{if(!l)if(i=Gc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,$c(r,i),Nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!jt)return ae(r),null}else 2*Rn()-f.renderingStartTime>Jc&&a!==536870912&&(r.flags|=128,l=!0,Nl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Rn(),r.sibling=null,i=Me.current,rt(Me,l?i&1|2:i&1),r):(ae(r),null);case 22:case 23:return Xi(r),Ad(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),a=r.updateQueue,a!==null&&$c(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&lt(qr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Yi(Ve),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function DR(i,r){switch(ld(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Yi(Ve),ei(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(Xi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));yl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return lt(Me),null;case 4:return ei(),null;case 10:return Yi(r.type),null;case 22:case 23:return Xi(r),Ad(),i!==null&&lt(qr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Yi(Ve),null;case 25:return null;default:return null}}function M_(i,r){switch(ld(r),r.tag){case 3:Yi(Ve),ei();break;case 26:case 27:case 5:Vi(r);break;case 4:ei();break;case 13:Xi(r);break;case 19:lt(Me);break;case 10:Yi(r.type);break;case 22:case 23:Xi(r),Ad(),i!==null&&lt(qr);break;case 24:Yi(Ve)}}function Ol(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==f)}}catch(S){Wt(r,r.return,S)}}function Is(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=r;var C=a,z=S;try{z()}catch(Y){Wt(f,C,Y)}}}l=l.next}while(l!==m)}}catch(Y){Wt(r,r.return,Y)}}function x_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{_v(r,a)}catch(l){Wt(i,i.return,l)}}}function N_(i,r,a){a.props=Hr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(i,r,l)}}function Pl(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Wt(i,r,f)}}function pi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Wt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Wt(i,r,f)}else a.current=null}function O_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Wt(i,i.return,f)}}function $d(i,r,a){try{var l=i.stateNode;$R(l,i.type,a,r),l[_e]=r}catch(f){Wt(i,i.return,f)}}function P_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ks(i.type)||i.tag===4}function Wd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||P_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ks(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zd(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=lh));else if(l!==4&&(l===27&&ks(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Zd(i,r,a),i=i.sibling;i!==null;)Zd(i,r,a),i=i.sibling}function Wc(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&ks(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Wc(i,r,a),i=i.sibling;i!==null;)Wc(i,r,a),i=i.sibling}function k_(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,l,a),r[Ce]=i,r[_e]=a}catch(m){Wt(i,i.return,m)}}var Zi=!1,pe=!1,Jd=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Be=null;function VR(i,r){if(i=i.containerInfo,Sm=ph,i=Qy(i),Wf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,S=-1,C=-1,z=0,Y=0,Z=i,j=null;e:for(;;){for(var q;Z!==a||f!==0&&Z.nodeType!==3||(S=T+f),Z!==m||l!==0&&Z.nodeType!==3||(C=T+l),Z.nodeType===3&&(T+=Z.nodeValue.length),(q=Z.firstChild)!==null;)j=Z,Z=q;for(;;){if(Z===i)break e;if(j===a&&++z===f&&(S=T),j===m&&++Y===l&&(C=T),(q=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=q}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(bm={focusedElem:i,selectionRange:a},ph=!1,Be=r;Be!==null;)if(r=Be,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Be=i;else for(;Be!==null;){switch(r=Be,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Tt=Hr(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(Tt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Wt(a,a.return,yt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Cm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Be=i;break}Be=r.return}}function U_(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(i,a),l&4&&Ol(5,a);break;case 1:if(Ds(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(T){Wt(a,a.return,T)}else{var f=Hr(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(a,a.return,T)}}l&64&&x_(a),l&512&&Pl(a,a.return);break;case 3:if(Ds(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{_v(i,r)}catch(T){Wt(a,a.return,T)}}break;case 27:r===null&&l&4&&k_(a);case 26:case 5:Ds(i,a),r===null&&l&4&&O_(a),l&512&&Pl(a,a.return);break;case 12:Ds(i,a);break;case 13:Ds(i,a),l&4&&j_(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=BR.bind(null,a),iC(i,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){r=r!==null&&r.memoizedState!==null||pe,f=Zi;var m=pe;Zi=l,(pe=r)&&!m?Vs(i,a,(a.subtreeFlags&8772)!==0):Ds(i,a),Zi=f,pe=m}break;case 30:break;default:Ds(i,a)}}function B_(i){var r=i.alternate;r!==null&&(i.alternate=null,B_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ys(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,fn=!1;function Ji(i,r,a){for(a=a.child;a!==null;)z_(i,r,a),a=a.sibling}function z_(i,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:pe||pi(a,r),Ji(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||pi(a,r);var l=se,f=fn;ks(a.type)&&(se=a.stateNode,fn=!1),Ji(i,r,a),Hl(a.stateNode),se=l,fn=f;break;case 5:pe||pi(a,r);case 6:if(l=se,f=fn,se=null,Ji(i,r,a),se=l,fn=f,se!==null)if(fn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(m){Wt(a,r,m)}else try{se.removeChild(a.stateNode)}catch(m){Wt(a,r,m)}break;case 18:se!==null&&(fn?(i=se,I0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Zl(i)):I0(se,a.stateNode));break;case 4:l=se,f=fn,se=a.stateNode.containerInfo,fn=!0,Ji(i,r,a),se=l,fn=f;break;case 0:case 11:case 14:case 15:pe||Is(2,a,r),pe||Is(4,a,r),Ji(i,r,a);break;case 1:pe||(pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&N_(a,r,l)),Ji(i,r,a);break;case 21:Ji(i,r,a);break;case 22:pe=(l=pe)||a.memoizedState!==null,Ji(i,r,a),pe=l;break;default:Ji(i,r,a)}}function j_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Zl(i)}catch(a){Wt(r,r.return,a)}}function MR(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new L_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new L_),r;default:throw Error(s(435,i.tag))}}function tm(i,r){var a=MR(i);r.forEach(function(l){var f=zR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function Tn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,T=r,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(ks(S.type)){se=S.stateNode,fn=!1;break t}break;case 5:se=S.stateNode,fn=!1;break t;case 3:case 4:se=S.stateNode.containerInfo,fn=!0;break t}S=S.return}if(se===null)throw Error(s(160));z_(m,T,f),se=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)q_(r,i),r=r.sibling}var Qn=null;function q_(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(r,i),En(i),l&4&&(Is(3,i,i.return),Ol(3,i),Is(5,i,i.return));break;case 1:Tn(r,i),En(i),l&512&&(pe||a===null||pi(a,a.return)),l&64&&Zi&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Qn;if(Tn(r,i),En(i),l&512&&(pe||a===null||pi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[_r]||m[Ce]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ke(m,l,a),m[Ce]=i,de(m),l=m;break t;case"link":var T=k0("link","href",f).get(l+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break e}}m=f.createElement(l),Ke(m,l,a),f.head.appendChild(m);break;case"meta":if(T=k0("meta","content",f).get(l+(a.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break e}}m=f.createElement(l),Ke(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ce]=i,de(m),l=m}i.stateNode=l}else L0(f,i.type,i.stateNode);else i.stateNode=P0(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?L0(f,i.type,i.stateNode):P0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&$d(i,i.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,i),En(i),l&512&&(pe||a===null||pi(a,a.return)),a!==null&&l&4&&$d(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,i),En(i),l&512&&(pe||a===null||pi(a,a.return)),i.flags&32){f=i.stateNode;try{In(f,"")}catch(q){Wt(i,i.return,q)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,$d(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(Tn(r,i),En(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(q){Wt(i,i.return,q)}}break;case 3:if(fh=null,f=Qn,Qn=ch(r.containerInfo),Tn(r,i),Qn=f,En(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(r.containerInfo)}catch(q){Wt(i,i.return,q)}Jd&&(Jd=!1,F_(i));break;case 4:l=Qn,Qn=ch(i.stateNode.containerInfo),Tn(r,i),En(i),Qn=l;break;case 12:Tn(r,i),En(i);break;case 13:Tn(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(am=Rn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,tm(i,l)));break;case 22:f=i.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Zi,Y=pe;if(Zi=z||f,pe=Y||C,Tn(r,i),pe=Y,Zi=z,En(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Zi||pe||Gr(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(m=C.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=C.stateNode;var Z=C.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){Wt(C,C.return,q)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){Wt(C,C.return,q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tm(i,a))));break;case 19:Tn(r,i),En(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,tm(i,l)));break;case 30:break;case 21:break;default:Tn(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(P_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Wd(i);Wc(i,m,f);break;case 5:var T=a.stateNode;a.flags&32&&(In(T,""),a.flags&=-33);var S=Wd(i);Wc(i,S,T);break;case 3:case 4:var C=a.stateNode.containerInfo,z=Wd(i);Zd(i,z,C);break;default:throw Error(s(161))}}catch(Y){Wt(i,i.return,Y)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function F_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;F_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ds(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)U_(i,r.alternate,r),r=r.sibling}function Gr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Is(4,r,r.return),Gr(r);break;case 1:pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&N_(r,r.return,a),Gr(r);break;case 27:Hl(r.stateNode);case 26:case 5:pi(r,r.return),Gr(r);break;case 22:r.memoizedState===null&&Gr(r);break;case 30:Gr(r);break;default:Gr(r)}i=i.sibling}}function Vs(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Vs(f,m,a),Ol(4,m);break;case 1:if(Vs(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)vv(C[f],S)}catch(z){Wt(l,l.return,z)}}a&&T&64&&x_(m),Pl(m,m.return);break;case 27:k_(m);case 26:case 5:Vs(f,m,a),a&&l===null&&T&4&&O_(m),Pl(m,m.return);break;case 12:Vs(f,m,a);break;case 13:Vs(f,m,a),a&&T&4&&j_(f,m);break;case 22:m.memoizedState===null&&Vs(f,m,a),Pl(m,m.return);break;case 30:break;default:Vs(f,m,a)}r=r.sibling}}function em(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Tl(a))}function nm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tl(i))}function gi(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H_(i,r,a,l),r=r.sibling}function H_(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:gi(i,r,a,l),f&2048&&Ol(9,r);break;case 1:gi(i,r,a,l);break;case 3:gi(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Tl(i)));break;case 12:if(f&2048){gi(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){Wt(r,r.return,C)}}else gi(i,r,a,l);break;case 13:gi(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?gi(i,r,a,l):kl(i,r):m._visibility&2?gi(i,r,a,l):(m._visibility|=2,Ya(i,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&em(T,r);break;case 24:gi(i,r,a,l),f&2048&&nm(r.alternate,r);break;default:gi(i,r,a,l)}}function Ya(i,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,T=r,S=a,C=l,z=T.flags;switch(T.tag){case 0:case 11:case 15:Ya(m,T,S,C,f),Ol(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?Ya(m,T,S,C,f):kl(m,T):(Y._visibility|=2,Ya(m,T,S,C,f)),f&&z&2048&&em(T.alternate,T);break;case 24:Ya(m,T,S,C,f),f&&z&2048&&nm(T.alternate,T);break;default:Ya(m,T,S,C,f)}r=r.sibling}}function kl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:kl(a,l),f&2048&&em(l.alternate,l);break;case 24:kl(a,l),f&2048&&nm(l.alternate,l);break;default:kl(a,l)}r=r.sibling}}var Ll=8192;function Qa(i){if(i.subtreeFlags&Ll)for(i=i.child;i!==null;)G_(i),i=i.sibling}function G_(i){switch(i.tag){case 26:Qa(i),i.flags&Ll&&i.memoizedState!==null&&gC(Qn,i.memoizedState,i.memoizedProps);break;case 5:Qa(i);break;case 3:case 4:var r=Qn;Qn=ch(i.stateNode.containerInfo),Qa(i),Qn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ll,Ll=16777216,Qa(i),Ll=r):Qa(i));break;default:Qa(i)}}function K_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ul(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Be=l,Q_(l,i)}K_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y_(i),i=i.sibling}function Y_(i){switch(i.tag){case 0:case 11:case 15:Ul(i),i.flags&2048&&Is(9,i,i.return);break;case 3:Ul(i);break;case 12:Ul(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Zc(i)):Ul(i);break;default:Ul(i)}}function Zc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Be=l,Q_(l,i)}K_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Is(8,r,r.return),Zc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(r));break;default:Zc(r)}i=i.sibling}}function Q_(i,r){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Is(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Be=l;else t:for(a=i;Be!==null;){l=Be;var f=l.sibling,m=l.return;if(B_(l),l===a){Be=null;break t}if(f!==null){f.return=m,Be=f;break t}Be=m}}}var xR={getCacheForType:function(i){var r=Ze(Ve),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},NR=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Mt=null,Ut=0,Kt=0,An=null,Ms=!1,Xa=!1,im=!1,ts=0,he=0,xs=0,Kr=0,sm=0,Ln=0,$a=0,Bl=null,dn=null,rm=!1,am=0,Jc=1/0,th=null,Ns=null,Ge=0,Os=null,Wa=null,Za=0,om=0,lm=null,X_=null,zl=0,um=null;function Sn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(K.T!==null){var i=Ba;return i!==0?i:gm()}return ps()}function $_(){Ln===0&&(Ln=(Ut&536870912)===0||jt?Xo():536870912);var i=kn.current;return i!==null&&(i.flags|=32),Ln}function bn(i,r,a){(i===Jt&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(Ja(i,0),Ps(i,Ut,Ln,!1)),xi(i,a),((Gt&2)===0||i!==Jt)&&(i===Jt&&((Gt&2)===0&&(Kr|=a),he===4&&Ps(i,Ut,Ln,!1)),yi(i))}function W_(i,r,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||vr(i,r),f=l?kR(i,r):fm(i,r,!0),m=l;do{if(f===0){Xa&&!l&&Ps(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!OR(a)){f=fm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var S=i;f=Bl;var C=S.current.memoizedState.isDehydrated;if(C&&(Ja(S,T).flags|=256),T=fm(S,T,!1),T!==2){if(im&&!C){S.errorRecoveryDisabledLanes|=m,Kr|=m,f=4;break t}m=dn,dn=f,m!==null&&(dn===null?dn=m:dn.push.apply(dn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Ja(i,0),Ps(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ps(l,r,Ln,!Ms);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=am+300-Rn(),10<f)){if(Ps(l,r,Ln,!Ms),ga(l,0,!0)!==0)break t;l.timeoutHandle=R0(Z_.bind(null,l,a,dn,th,rm,r,Ln,Kr,$a,Ms,m,2,-0,0),f);break t}Z_(l,a,dn,th,rm,r,Ln,Kr,$a,Ms,m,0,-0,0)}}break}while(!0);yi(i)}function Z_(i,r,a,l,f,m,T,S,C,z,Y,Z,j,q){if(i.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:pC},G_(r),Z=yC(),Z!==null)){i.cancelPendingCommit=Z(r0.bind(null,i,r,m,a,l,f,T,S,C,Y,1,j,q)),Ps(i,m,T,!z);return}r0(i,r,m,a,l,f,T,S,C)}function OR(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ps(i,r,a,l){r&=~sm,r&=~Kr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-We(f),T=1<<m;l[m]=-1,f&=~T}a!==0&&ni(i,a,r)}function eh(){return(Gt&6)===0?(jl(0),!1):!0}function cm(){if(Mt!==null){if(Kt===0)var i=Mt.return;else i=Mt,Ki=zr=null,Cd(i),Ga=null,Ml=0,i=Mt;for(;i!==null;)M_(i.alternate,i),i=i.return;Mt=null}}function Ja(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,ZR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),cm(),Jt=i,Mt=a=Fi(i.current,null),Ut=r,Kt=0,An=null,Ms=!1,Xa=vr(i,r),im=!1,$a=Ln=sm=Kr=xs=he=0,dn=Bl=null,rm=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-We(l),m=1<<f;r|=i[f],l&=~m}return ts=r,Sc(),a}function J_(i,r){It=null,K.H=qc,r===Al||r===xc?(r=gv(),Kt=3):r===dv?(r=gv(),Kt=4):Kt=r===y_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Mt===null&&(he=1,Yc(i,xn(r,i.current)))}function t0(){var i=K.H;return K.H=qc,i===null?qc:i}function e0(){var i=K.A;return K.A=xR,i}function hm(){he=4,Ms||(Ut&4194048)!==Ut&&kn.current!==null||(Xa=!0),(xs&134217727)===0&&(Kr&134217727)===0||Jt===null||Ps(Jt,Ut,Ln,!1)}function fm(i,r,a){var l=Gt;Gt|=2;var f=t0(),m=e0();(Jt!==i||Ut!==r)&&(th=null,Ja(i,r)),r=!1;var T=he;t:do try{if(Kt!==0&&Mt!==null){var S=Mt,C=An;switch(Kt){case 8:cm(),T=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var z=Kt;if(Kt=0,An=null,to(i,S,C,z),a&&Xa){T=0;break t}break;default:z=Kt,Kt=0,An=null,to(i,S,C,z)}}PR(),T=he;break}catch(Y){J_(i,Y)}while(!0);return r&&i.shellSuspendCounter++,Ki=zr=null,Gt=l,K.H=f,K.A=m,Mt===null&&(Jt=null,Ut=0,Sc()),T}function PR(){for(;Mt!==null;)n0(Mt)}function kR(i,r){var a=Gt;Gt|=2;var l=t0(),f=e0();Jt!==i||Ut!==r?(th=null,Jc=Rn()+500,Ja(i,r)):Xa=vr(i,r);t:do try{if(Kt!==0&&Mt!==null){r=Mt;var m=An;e:switch(Kt){case 1:Kt=0,An=null,to(i,r,m,1);break;case 2:case 9:if(mv(m)){Kt=0,An=null,i0(r);break}r=function(){Kt!==2&&Kt!==9||Jt!==i||(Kt=7),yi(i)},m.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:mv(m)?(Kt=0,An=null,i0(r)):(Kt=0,An=null,to(i,r,m,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var S=Mt;if(!T||U0(T)){Kt=0,An=null;var C=S.sibling;if(C!==null)Mt=C;else{var z=S.return;z!==null?(Mt=z,nh(z)):Mt=null}break e}}Kt=0,An=null,to(i,r,m,5);break;case 6:Kt=0,An=null,to(i,r,m,6);break;case 8:cm(),he=6;break t;default:throw Error(s(462))}}LR();break}catch(Y){J_(i,Y)}while(!0);return Ki=zr=null,K.H=l,K.A=f,Gt=a,Mt!==null?0:(Jt=null,Ut=0,Sc(),he)}function LR(){for(;Mt!==null&&!Go();)n0(Mt)}function n0(i){var r=D_(i.alternate,i,ts);i.memoizedProps=i.pendingProps,r===null?nh(i):Mt=r}function i0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=S_(a,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=S_(a,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:Cd(r);default:M_(a,r),r=Mt=sv(r,ts),r=D_(a,r,ts)}i.memoizedProps=i.pendingProps,r===null?nh(i):Mt=r}function to(i,r,a,l){Ki=zr=null,Cd(r),Ga=null,Ml=0;var f=r.return;try{if(RR(i,f,r,a,Ut)){he=1,Yc(i,xn(a,i.current)),Mt=null;return}}catch(m){if(f!==null)throw Mt=f,m;he=1,Yc(i,xn(a,i.current)),Mt=null;return}r.flags&32768?(jt||l===1?i=!0:Xa||(Ut&536870912)!==0?i=!1:(Ms=i=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),s0(r,i)):nh(r)}function nh(i){var r=i;do{if((r.flags&32768)!==0){s0(r,Ms);return}i=r.return;var a=IR(r.alternate,r,ts);if(a!==null){Mt=a;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);he===0&&(he=5)}function s0(i,r){do{var a=DR(i.alternate,i);if(a!==null){a.flags&=32767,Mt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=a}while(i!==null);he=6,Mt=null}function r0(i,r,a,l,f,m,T,S,C){i.cancelPendingCommit=null;do ih();while(Ge!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=nd,Wo(i,a,m,T,S,C),i===Jt&&(Mt=Jt=null,Ut=0),Wa=r,Os=i,Za=a,om=m,lm=f,X_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,jR(mr,function(){return c0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=it.p,it.p=2,T=Gt,Gt|=4;try{VR(i,r,a)}finally{Gt=T,it.p=f,K.T=l}}Ge=1,a0(),o0(),l0()}}function a0(){if(Ge===1){Ge=0;var i=Os,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=it.p;it.p=2;var f=Gt;Gt|=4;try{q_(r,i);var m=bm,T=Qy(i.containerInfo),S=m.focusedElem,C=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&Yy(S.ownerDocument.documentElement,S)){if(C!==null&&Wf(S)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(Y,S.value.length);else{var Z=S.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var q=j.getSelection(),Tt=S.textContent.length,yt=Math.min(C.start,Tt),$t=C.end===void 0?yt:Math.min(C.end,Tt);!q.extend&&yt>$t&&(T=$t,$t=yt,yt=T);var k=Ky(S,yt),N=Ky(S,$t);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var B=Z.createRange();B.setStart(k.node,k.offset),q.removeAllRanges(),yt>$t?(q.addRange(B),q.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),q.addRange(B))}}}}for(Z=[],q=S;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var X=Z[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}ph=!!Sm,bm=Sm=null}finally{Gt=f,it.p=l,K.T=a}}i.current=r,Ge=2}}function o0(){if(Ge===2){Ge=0;var i=Os,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=it.p;it.p=2;var f=Gt;Gt|=4;try{U_(i,r.alternate,r)}finally{Gt=f,it.p=l,K.T=a}}Ge=3}}function l0(){if(Ge===4||Ge===3){Ge=0,Zu();var i=Os,r=Wa,a=Za,l=X_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ge=5:(Ge=0,Wa=Os=null,u0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ns=null),ya(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ue,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=it.p,it.p=2,K.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var S=l[T];m(S.value,{componentStack:S.stack})}}finally{K.T=r,it.p=f}}(Za&3)!==0&&ih(),yi(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===um?zl++:(zl=0,um=i):zl=0,jl(0)}}function u0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Tl(r)))}function ih(i){return a0(),o0(),l0(),c0()}function c0(){if(Ge!==5)return!1;var i=Os,r=om;om=0;var a=ya(Za),l=K.T,f=it.p;try{it.p=32>a?32:a,K.T=null,a=lm,lm=null;var m=Os,T=Za;if(Ge=0,Wa=Os=null,Za=0,(Gt&6)!==0)throw Error(s(331));var S=Gt;if(Gt|=4,Y_(m.current),H_(m,m.current,T,a),Gt=S,jl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ue,m)}catch{}return!0}finally{it.p=f,K.T=l,u0(i,r)}}function h0(i,r,a){r=xn(a,r),r=jd(i.stateNode,r,2),i=bs(i,r,2),i!==null&&(xi(i,2),yi(i))}function Wt(i,r,a){if(i.tag===3)h0(i,i,a);else for(;r!==null;){if(r.tag===3){h0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){i=xn(a,i),a=p_(2),l=bs(r,a,2),l!==null&&(g_(a,l,r,i),xi(l,2),yi(l));break}}r=r.return}}function dm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new NR;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(im=!0,f.add(a),i=UR.bind(null,i,r,a),r.then(i,i))}function UR(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Jt===i&&(Ut&a)===a&&(he===4||he===3&&(Ut&62914560)===Ut&&300>Rn()-am?(Gt&2)===0&&Ja(i,0):sm|=a,$a===Ut&&($a=0)),yi(i)}function f0(i,r){r===0&&(r=$o()),i=Pa(i,r),i!==null&&(xi(i,r),yi(i))}function BR(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),f0(i,a)}function zR(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),f0(i,a)}function jR(i,r){return fr(i,r)}var sh=null,eo=null,mm=!1,rh=!1,pm=!1,Yr=0;function yi(i){i!==eo&&i.next===null&&(eo===null?sh=eo=i:eo=eo.next=i),rh=!0,mm||(mm=!0,FR())}function jl(i,r){if(!pm&&rh){pm=!0;do for(var a=!1,l=sh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-We(42|i)+1)-1,m&=f&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,g0(l,m))}else m=Ut,m=ga(l,l===Jt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||vr(l,m)||(a=!0,g0(l,m));l=l.next}while(a);pm=!1}}function qR(){d0()}function d0(){rh=mm=!1;var i=0;Yr!==0&&(WR()&&(i=Yr),Yr=0);for(var r=Rn(),a=null,l=sh;l!==null;){var f=l.next,m=m0(l,r);m===0?(l.next=null,a===null?sh=f:a.next=f,f===null&&(eo=a)):(a=l,(i!==0||(m&3)!==0)&&(rh=!0)),l=f}jl(i)}function m0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-We(m),S=1<<T,C=f[T];C===-1?((S&a)===0||(S&l)!==0)&&(f[T]=Qo(S,r)):C<=r&&(i.expiredLanes|=S),m&=~S}if(r=Jt,a=Ut,a=ga(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||vr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&dr(l),ya(a)){case 2:case 8:a=ma;break;case 32:a=mr;break;case 268435456:a=pa;break;default:a=mr}return l=p0.bind(null,i),a=fr(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&dr(l),i.callbackPriority=2,i.callbackNode=null,2}function p0(i,r){if(Ge!==0&&Ge!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ih()&&i.callbackNode!==a)return null;var l=Ut;return l=ga(i,i===Jt?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(W_(i,l,r),m0(i,Rn()),i.callbackNode!=null&&i.callbackNode===a?p0.bind(null,i):null)}function g0(i,r){if(ih())return null;W_(i,r,!0)}function FR(){JR(function(){(Gt&6)!==0?fr(Ko,qR):d0()})}function gm(){return Yr===0&&(Yr=Xo()),Yr}function y0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Sa(""+i)}function v0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function HR(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=y0((f[_e]||null).action),T=l.submitter;T&&(r=(r=T[_e]||null)?y0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var S=new ba("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var C=T?v0(f,T):new FormData(f);kd(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(S.preventDefault(),C=T?v0(f,T):new FormData(f),kd(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var ym=0;ym<ed.length;ym++){var vm=ed[ym],GR=vm.toLowerCase(),KR=vm[0].toUpperCase()+vm.slice(1);Yn(GR,"on"+KR)}Yn(Wy,"onAnimationEnd"),Yn(Zy,"onAnimationIteration"),Yn(Jy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(uR,"onTransitionRun"),Yn(cR,"onTransitionStart"),Yn(hR,"onTransitionCancel"),Yn(tv,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function _0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var S=l[T],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=z;try{m(f)}catch(Y){Kc(Y)}f.currentTarget=null,m=C}else for(T=0;T<l.length;T++){if(S=l[T],C=S.instance,z=S.currentTarget,S=S.listener,C!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=z;try{m(f)}catch(Y){Kc(Y)}f.currentTarget=null,m=C}}}}function xt(i,r){var a=r[Jo];a===void 0&&(a=r[Jo]=new Set);var l=i+"__bubble";a.has(l)||(T0(r,i,2,!1),a.add(l))}function _m(i,r,a){var l=0;r&&(l|=4),T0(a,i,l,r)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Tm(i){if(!i[ah]){i[ah]=!0,tl.forEach(function(a){a!=="selectionchange"&&(YR.has(a)||_m(a,!1,i),_m(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ah]||(r[ah]=!0,_m("selectionchange",!1,r))}}function T0(i,r,a,l){switch(H0(r)){case 2:var f=TC;break;case 8:f=EC;break;default:f=Om}a=f.bind(null,r,a,i),f=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Em(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Ni(S),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=m=T;continue t}S=S.parentNode}}l=l.return}lc(function(){var z=m,Y=Dn(a),Z=[];t:{var j=ev.get(i);if(j!==void 0){var q=ba,Tt=i;switch(i){case"keypress":if(li(a)===0)break t;case"keydown":case"keyup":q=Va;break;case"focusin":Tt="focus",q=Ca;break;case"focusout":Tt="blur",q=Ca;break;case"beforeblur":case"afterblur":q=Ca;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gc;break;case Wy:case Zy:case Jy:q=Ia;break;case tv:q=vc;break;case"scroll":case"scrollend":q=uc;break;case"wheel":q=Ma;break;case"copy":case"cut":case"paste":q=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fl;break;case"toggle":case"beforetoggle":q=Tc}var yt=(r&4)!==0,$t=!yt&&(i==="scroll"||i==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var N=z,B;N!==null;){var X=N;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||k===null||(X=Rr(N,k),X!=null&&yt.push(Fl(N,X,B))),$t)break;N=N.return}0<yt.length&&(j=new q(j,Tt,null,a,Y),Z.push({event:j,listeners:yt}))}}if((r&7)===0){t:{if(j=i==="mouseover"||i==="pointerover",q=i==="mouseout"||i==="pointerout",j&&a!==Li&&(Tt=a.relatedTarget||a.fromElement)&&(Ni(Tt)||Tt[Cn]))break t;if((q||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,q?(Tt=a.relatedTarget||a.toElement,q=z,Tt=Tt?Ni(Tt):null,Tt!==null&&($t=u(Tt),yt=Tt.tag,Tt!==$t||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(q=null,Tt=z),q!==Tt)){if(yt=Mn,X="onMouseLeave",k="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(yt=fl,X="onPointerLeave",k="onPointerEnter",N="pointer"),$t=q==null?j:si(q),B=Tt==null?j:si(Tt),j=new yt(X,N+"leave",q,a,Y),j.target=$t,j.relatedTarget=B,X=null,Ni(Y)===z&&(yt=new yt(k,N+"enter",Tt,a,Y),yt.target=B,yt.relatedTarget=$t,X=yt),$t=X,q&&Tt)e:{for(yt=q,k=Tt,N=0,B=yt;B;B=no(B))N++;for(B=0,X=k;X;X=no(X))B++;for(;0<N-B;)yt=no(yt),N--;for(;0<B-N;)k=no(k),B--;for(;N--;){if(yt===k||k!==null&&yt===k.alternate)break e;yt=no(yt),k=no(k)}yt=null}else yt=null;q!==null&&E0(Z,j,q,yt,!1),Tt!==null&&$t!==null&&E0(Z,$t,Tt,yt,!0)}}t:{if(j=z?si(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var dt=zy;else if(De(j))if(jy)dt=aR;else{dt=sR;var Vt=iR}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&rl(z.elementType)&&(dt=zy):dt=rR;if(dt&&(dt=dt(i,z))){qi(Z,dt,a,Y);break t}Vt&&Vt(i,j,z),i==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&_s(j,"number",j.value)}switch(Vt=z?si(z):window,i){case"focusin":(De(Vt)||Vt.contentEditable==="true")&&(xa=Vt,Zf=z,pl=null);break;case"focusout":pl=Zf=xa=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Xy(Z,a,Y);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":Xy(Z,a,Y)}var mt;if(hi)t:{switch(i){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?H(i,a)&&(vt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(mt=ol()):(oi=Y,Ts="value"in oi?oi.value:oi.textContent,kt=!0)),Vt=oh(z,vt),0<Vt.length&&(vt=new cl(vt,i,null,a,Y),Z.push({event:vt,listeners:Vt}),mt?vt.data=mt:(mt=at(a),mt!==null&&(vt.data=mt)))),(mt=y?Ie(i,a):Lt(i,a))&&(vt=oh(z,"onBeforeInput"),0<vt.length&&(Vt=new cl("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Vt,listeners:vt}),Vt.data=mt)),HR(Z,i,z,a,Y)}_0(Z,r)})}function Fl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function oh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Rr(i,a),f!=null&&l.unshift(Fl(i,f,m)),f=Rr(i,r),f!=null&&l.push(Fl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function no(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function E0(i,r,a,l,f){for(var m=r._reactName,T=[];a!==null&&a!==l;){var S=a,C=S.alternate,z=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||z===null||(C=z,f?(z=Rr(a,m),z!=null&&T.unshift(Fl(a,z,C))):f||(z=Rr(a,m),z!=null&&T.push(Fl(a,z,C)))),a=a.return}T.length!==0&&i.push({event:r,listeners:T})}var QR=/\r\n?/g,XR=/\u0000|\uFFFD/g;function A0(i){return(typeof i=="string"?i:""+i).replace(QR,`
`).replace(XR,"")}function S0(i,r){return r=A0(r),A0(i)===r}function lh(){}function Xt(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(i,""+l);break;case"className":ri(i,"class",l);break;case"tabIndex":ri(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(i,a,l);break;case"style":sl(i,l,m);break;case"data":if(r!=="object"){ri(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Sa(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Xt(i,r,"name",f.name,f,null),Xt(i,r,"formEncType",f.formEncType,f,null),Xt(i,r,"formMethod",f.formMethod,f,null),Xt(i,r,"formTarget",f.formTarget,f,null)):(Xt(i,r,"encType",f.encType,f,null),Xt(i,r,"method",f.method,f,null),Xt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Sa(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=lh);break;case"onScroll":l!=null&&xt("scroll",i);break;case"onScrollEnd":l!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Sa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":xt("beforetoggle",i),xt("toggle",i),vs(i,"popover",l);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vs(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gf.get(a)||a,vs(i,a,l))}}function Am(i,r,a,l,f,m){switch(a){case"style":sl(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?In(i,l):(typeof l=="number"||typeof l=="bigint")&&In(i,""+l);break;case"onScroll":l!=null&&xt("scroll",i);break;case"onScrollEnd":l!=null&&xt("scrollend",i);break;case"onClick":l!=null&&(i.onclick=lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[_e]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):vs(i,a,l)}}}function Ke(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,m,T,a,null)}}f&&Xt(i,r,"srcSet",a.srcSet,a,null),l&&Xt(i,r,"src",a.src,a,null);return;case"input":xt("invalid",i);var S=m=T=f=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":m=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Xt(i,r,l,Y,a,null)}}Sr(i,m,S,C,z,T,f,!1),Aa(i);return;case"select":xt("invalid",i),l=T=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:Xt(i,r,f,S,a,null)}r=m,a=T,i.multiple=!!l,r!=null?ki(i,!!l,r,!1):a!=null&&ki(i,!!l,a,!0);return;case"textarea":xt("invalid",i),m=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xt(i,r,T,S,a,null)}br(i,l,f,m),Aa(i);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(i,r,C,l,a,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(l=0;l<ql.length;l++)xt(ql[l],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xt(i,r,z,l,a,null)}return;default:if(rl(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Am(i,r,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Xt(i,r,S,l,a,null))}function $R(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,S=null,C=null,z=null,Y=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(q)||Xt(i,r,q,null,l,Z)}}for(var j in l){var q=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(q!=null||Z!=null))switch(j){case"type":m=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":T=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==Z&&Xt(i,r,j,q,l,Z)}}yn(i,T,S,C,z,Y,m,f);return;case"select":q=T=S=j=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(m)||Xt(i,r,m,null,l,C)}for(f in l)if(m=l[f],C=a[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":j=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==C&&Xt(i,r,f,m,l,C)}r=S,a=T,l=q,j!=null?ki(i,!!a,j,!1):!!l!=!!a&&(r!=null?ki(i,!!a,r,!0):ki(i,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xt(i,r,S,null,l,f)}for(T in l)if(f=l[T],m=a[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":j=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Xt(i,r,T,f,l,m)}Yt(i,j,q);return;case"option":for(var Tt in a)if(j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":i.selected=!1;break;default:Xt(i,r,Tt,null,l,j)}for(C in l)if(j=l[C],q=a[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":i.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(i,r,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Xt(i,r,yt,null,l,j);for(z in l)if(j=l[z],q=a[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:Xt(i,r,z,j,l,q)}return;default:if(rl(r)){for(var $t in a)j=a[$t],a.hasOwnProperty($t)&&j!==void 0&&!l.hasOwnProperty($t)&&Am(i,r,$t,void 0,l,j);for(Y in l)j=l[Y],q=a[Y],!l.hasOwnProperty(Y)||j===q||j===void 0&&q===void 0||Am(i,r,Y,j,l,q);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Xt(i,r,k,null,l,j);for(Z in l)j=l[Z],q=a[Z],!l.hasOwnProperty(Z)||j===q||j==null&&q==null||Xt(i,r,Z,j,l,q)}var Sm=null,bm=null;function uh(i){return i.nodeType===9?i:i.ownerDocument}function b0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function wm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rm=null;function WR(){var i=window.event;return i&&i.type==="popstate"?i===Rm?!1:(Rm=i,!0):(Rm=null,!1)}var R0=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(i){return C0.resolve(null).then(i).catch(tC)}:R0;function tC(i){setTimeout(function(){throw i})}function ks(i){return i==="head"}function I0(i,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=i.ownerDocument;if(a&1&&Hl(T.documentElement),a&2&&Hl(T.body),a&4)for(a=T.head,Hl(a),T=a.firstChild;T;){var S=T.nextSibling,C=T.nodeName;T[_r]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(f===0){i.removeChild(m),Zl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Zl(r)}function Cm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cm(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function eC(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[_r])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Xn(i.nextSibling),i===null)break}return null}function nC(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Xn(i.nextSibling),i===null))return null;return i}function Im(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iC(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Xn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Dm=null;function D0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function V0(i,r,a){switch(r=uh(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ys(i)}var Un=new Map,M0=new Set;function ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var es=it.d;it.d={f:sC,r:rC,D:aC,C:oC,L:lC,m:uC,X:hC,S:cC,M:fC};function sC(){var i=es.f(),r=eh();return i||r}function rC(i){var r=ii(i);r!==null&&r.tag===5&&r.type==="form"?Wv(r):es.r(i)}var io=typeof document>"u"?null:document;function x0(i,r,a){var l=io;if(l&&typeof r=="string"&&r){var f=Te(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),M0.has(f)||(M0.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ke(r,"link",i),de(r),l.head.appendChild(r)))}}function aC(i){es.D(i),x0("dns-prefetch",i,null)}function oC(i,r){es.C(i,r),x0("preconnect",i,r)}function lC(i,r,a){es.L(i,r,a);var l=io;if(l&&i&&r){var f='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Te(a.imageSizes)+'"]')):f+='[href="'+Te(i)+'"]';var m=f;switch(r){case"style":m=so(i);break;case"script":m=ro(i)}Un.has(m)||(i=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Un.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Gl(m))||r==="script"&&l.querySelector(Kl(m))||(r=l.createElement("link"),Ke(r,"link",i),de(r),l.head.appendChild(r)))}}function uC(i,r){es.m(i,r);var a=io;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ro(i)}if(!Un.has(m)&&(i=v({rel:"modulepreload",href:i},r),Un.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(m)))return}l=a.createElement("link"),Ke(l,"link",i),de(l),a.head.appendChild(l)}}}function cC(i,r,a){es.S(i,r,a);var l=io;if(l&&i){var f=an(l).hoistableStyles,m=so(i);r=r||"default";var T=f.get(m);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(Gl(m)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Un.get(m))&&Vm(i,a);var C=T=l.createElement("link");de(C),Ke(C,"link",i),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,hh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(m,T)}}}function hC(i,r){es.X(i,r);var a=io;if(a&&i){var l=an(a).hoistableScripts,f=ro(i),m=l.get(f);m||(m=a.querySelector(Kl(f)),m||(i=v({src:i,async:!0},r),(r=Un.get(f))&&Mm(i,r),m=a.createElement("script"),de(m),Ke(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function fC(i,r){es.M(i,r);var a=io;if(a&&i){var l=an(a).hoistableScripts,f=ro(i),m=l.get(f);m||(m=a.querySelector(Kl(f)),m||(i=v({src:i,async:!0,type:"module"},r),(r=Un.get(f))&&Mm(i,r),m=a.createElement("script"),de(m),Ke(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function N0(i,r,a,l){var f=(f=St.current)?ch(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=so(a.href),a=an(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=so(a.href);var m=an(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(Gl(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Un.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(i,a),m||dC(f,i,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=an(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function so(i){return'href="'+Te(i)+'"'}function Gl(i){return'link[rel="stylesheet"]['+i+"]"}function O0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function dC(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",a),de(r),i.head.appendChild(r))}function ro(i){return'[src="'+Te(i)+'"]'}function Kl(i){return"script[async]"+i}function P0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Te(a.href)+'"]');if(l)return r.instance=l,de(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),de(l),Ke(l,"style",f),hh(l,a.precedence,i),r.instance=l;case"stylesheet":f=so(a.href);var m=i.querySelector(Gl(f));if(m)return r.state.loading|=4,r.instance=m,de(m),m;l=O0(a),(f=Un.get(f))&&Vm(l,f),m=(i.ownerDocument||i).createElement("link"),de(m);var T=m;return T._p=new Promise(function(S,C){T.onload=S,T.onerror=C}),Ke(m,"link",l),r.state.loading|=4,hh(m,a.precedence,i),r.instance=m;case"script":return m=ro(a.src),(f=i.querySelector(Kl(m)))?(r.instance=f,de(f),f):(l=a,(f=Un.get(m))&&(l=v({},a),Mm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),de(f),Ke(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,hh(l,a.precedence,i));return r.instance}function hh(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function Vm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Mm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var fh=null;function k0(i,r,a){if(fh===null){var l=new Map,f=fh=new Map;f.set(a,l)}else f=fh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[_r]||m[Ce]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var S=l.get(T);S?S.push(m):l.set(T,[m])}}return l}function L0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function mC(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function U0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yl=null;function pC(){}function gC(i,r,a){if(Yl===null)throw Error(s(475));var l=Yl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=so(a.href),m=i.querySelector(Gl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=dh.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,de(m);return}m=i.ownerDocument||i,a=O0(a),(f=Un.get(f))&&Vm(a,f),m=m.createElement("link"),de(m);var T=m;T._p=new Promise(function(S,C){T.onload=S,T.onerror=C}),Ke(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=dh.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function yC(){if(Yl===null)throw Error(s(475));var i=Yl;return i.stylesheets&&i.count===0&&xm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&xm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function dh(){if(this.count--,this.count===0){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mh=null;function xm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mh=new Map,r.forEach(vC,i),mh=null,dh.call(i))}function vC(i,r){if(!(r.state.loading&4)){var a=mh.get(i);if(a)var l=a.get(null);else{a=new Map,mh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,f),a.set(T,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Ql={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function _C(i,r,a,l,f,m,T,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function B0(i,r,a,l,f,m,T,S,C,z,Y,Z){return i=new _C(i,r,a,T,S,C,z,Z),r=1,m===!0&&(r|=24),m=_n(3,null,null,r),i.current=m,m.stateNode=i,r=dd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},yd(m),i}function z0(i){return i?(i=ka,i):ka}function j0(i,r,a,l,f,m){f=z0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ss(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=bs(i,l,r),a!==null&&(bn(a,i,r),bl(a,i,r))}function q0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Nm(i,r){q0(i,r),(i=i.alternate)&&q0(i,r)}function F0(i){if(i.tag===13){var r=Pa(i,67108864);r!==null&&bn(r,i,67108864),Nm(i,67108864)}}var ph=!0;function TC(i,r,a,l){var f=K.T;K.T=null;var m=it.p;try{it.p=2,Om(i,r,a,l)}finally{it.p=m,K.T=f}}function EC(i,r,a,l){var f=K.T;K.T=null;var m=it.p;try{it.p=8,Om(i,r,a,l)}finally{it.p=m,K.T=f}}function Om(i,r,a,l){if(ph){var f=Pm(l);if(f===null)Em(i,r,l,gh,a),G0(i,l);else if(SC(f,i,r,a,l))l.stopPropagation();else if(G0(i,l),r&4&&-1<AC.indexOf(i)){for(;f!==null;){var m=ii(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Hn(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var C=1<<31-We(T);S.entanglements[1]|=C,T&=~C}yi(m),(Gt&6)===0&&(Jc=Rn()+500,jl(0))}}break;case 13:S=Pa(m,2),S!==null&&bn(S,m,2),eh(),Nm(m,2)}if(m=Pm(l),m===null&&Em(i,r,l,gh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Em(i,r,l,null,a)}}function Pm(i){return i=Dn(i),km(i)}var gh=null;function km(i){if(gh=null,i=Ni(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return gh=i,null}function H0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bf()){case Ko:return 2;case ma:return 8;case mr:case zf:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Lm=!1,Ls=null,Us=null,Bs=null,Xl=new Map,$l=new Map,zs=[],AC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(i,r){switch(i){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Wl(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=ii(r),r!==null&&F0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function SC(i,r,a,l,f){switch(r){case"focusin":return Ls=Wl(Ls,i,r,a,l,f),!0;case"dragenter":return Us=Wl(Us,i,r,a,l,f),!0;case"mouseover":return Bs=Wl(Bs,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Xl.set(m,Wl(Xl.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,$l.set(m,Wl($l.get(m)||null,i,r,a,l,f)),!0}return!1}function K0(i){var r=Ni(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,ec(i.priority,function(){if(a.tag===13){var l=Sn();l=ms(l);var f=Pa(a,l);f!==null&&bn(f,a,l),Nm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Pm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Li=l,a.target.dispatchEvent(l),Li=null}else return r=ii(a),r!==null&&F0(r),i.blockedOn=a,!1;r.shift()}return!0}function Y0(i,r,a){yh(i)&&a.delete(r)}function bC(){Lm=!1,Ls!==null&&yh(Ls)&&(Ls=null),Us!==null&&yh(Us)&&(Us=null),Bs!==null&&yh(Bs)&&(Bs=null),Xl.forEach(Y0),$l.forEach(Y0)}function vh(i,r){i.blockedOn===r&&(i.blockedOn=null,Lm||(Lm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bC)))}var _h=null;function Q0(i){_h!==i&&(_h=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_h===i&&(_h=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(km(l||a)===null)continue;break}var m=ii(a);m!==null&&(i.splice(r,3),r-=3,kd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Zl(i){function r(C){return vh(C,i)}Ls!==null&&vh(Ls,i),Us!==null&&vh(Us,i),Bs!==null&&vh(Bs,i),Xl.forEach(r),$l.forEach(r);for(var a=0;a<zs.length;a++){var l=zs[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)K0(a),a.blockedOn===null&&zs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],T=f[_e]||null;if(typeof m=="function")T||Q0(a);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[_e]||null)S=T.formAction;else if(km(f)!==null)continue}else S=T.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Q0(a)}}}function Um(i){this._internalRoot=i}Th.prototype.render=Um.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();j0(a,l,i,r,null,null)},Th.prototype.unmount=Um.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;j0(i.current,2,null,i,null,null),eh(),r[Cn]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var r=ps();i={blockedOn:null,target:i,priority:r};for(var a=0;a<zs.length&&r!==0&&r<zs[a].priority;a++);zs.splice(a,0,i),a===0&&K0(i)}};var X0=t.version;if(X0!=="19.1.1")throw Error(s(527,X0,"19.1.1"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var wC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{ue=Eh.inject(wC),Ht=Eh}catch{}}return Jl.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=h_,m=f_,T=d_,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=B0(i,1,!1,null,null,a,l,f,m,T,S,null),i[Cn]=r.current,Tm(i),new Um(r)},Jl.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=h_,T=f_,S=d_,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=B0(i,1,!0,r,a??null,l,f,m,T,S,C,z),r.context=z0(null),a=r.current,l=Sn(),l=ms(l),f=Ss(l),f.callback=null,bs(a,f,l),a=l,r.current.lanes=a,xi(r,a),yi(r),i[Cn]=r.current,Tm(i),new Th(r)},Jl.version="19.1.1",Jl}var iT;function NC(){if(iT)return jm.exports;iT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jm.exports=xC(),jm.exports}var OC=NC();const PC=QA(OC);var Gm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function kC(){if(sT)return tu;sT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return tu.Fragment=t,tu.jsx=e,tu.jsxs=e,tu}var rT;function LC(){return rT||(rT=1,Gm.exports=kC()),Gm.exports}var ss=LC();const dg=ot.createContext({});function mg(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const pg=typeof window<"u",XA=pg?ot.useLayoutEffect:ot.useEffect,yf=ot.createContext(null);function gg(n,t){n.indexOf(t)===-1&&n.push(t)}function yg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const rs=(n,t,e)=>e>t?t:e<n?n:e;let vg=()=>{};const as={},$A=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function WA(n){return typeof n=="object"&&n!==null}const ZA=n=>/^0[^.\s]+$/u.test(n);function _g(n){let t;return()=>(t===void 0&&(t=n()),t)}const Fn=n=>n,UC=(n,t)=>e=>t(n(e)),Uu=(...n)=>n.reduce(UC),_u=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class Tg{constructor(){this.subscriptions=[]}add(t){return gg(this.subscriptions,t),()=>yg(this.subscriptions,t)}notify(t,e,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _i=n=>n*1e3,Ti=n=>n/1e3;function JA(n,t){return t?n*(1e3/t):0}const tS=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,BC=1e-7,zC=12;function jC(n,t,e,s,o){let u,c,d=0;do c=t+(e-t)/2,u=tS(c,s,o)-n,u>0?e=c:t=c;while(Math.abs(u)>BC&&++d<zC);return c}function Bu(n,t,e,s){if(n===t&&e===s)return Fn;const o=u=>jC(u,0,1,n,e);return u=>u===0||u===1?u:tS(o(u),t,s)}const eS=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,nS=n=>t=>1-n(1-t),iS=Bu(.33,1.53,.69,.99),Eg=nS(iS),sS=eS(Eg),rS=n=>(n*=2)<1?.5*Eg(n):.5*(2-Math.pow(2,-10*(n-1))),Ag=n=>1-Math.sin(Math.acos(n)),aS=nS(Ag),oS=eS(Ag),qC=Bu(.42,0,1,1),FC=Bu(0,0,.58,1),lS=Bu(.42,0,.58,1),HC=n=>Array.isArray(n)&&typeof n[0]!="number",uS=n=>Array.isArray(n)&&typeof n[0]=="number",GC={linear:Fn,easeIn:qC,easeInOut:lS,easeOut:FC,circIn:Ag,circInOut:oS,circOut:aS,backIn:Eg,backInOut:sS,backOut:iS,anticipate:rS},KC=n=>typeof n=="string",aT=n=>{if(uS(n)){vg(n.length===4);const[t,e,s,o]=n;return Bu(t,e,s,o)}else if(KC(n))return GC[n];return n},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YC(n,t){let e=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(d)}const g={schedule:(v,E=!1,A=!1)=>{const P=A&&o?e:s;return E&&c.add(v),P.has(v)||P.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,o){u=!0;return}o=!0,[e,s]=[s,e],e.forEach(p),e.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const QC=40;function cS(n,t){let e=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Ah.reduce((Q,st)=>(Q[st]=YC(u),Q),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:v,update:E,preRender:A,render:I,postRender:P}=c,G=()=>{const Q=as.useManualTiming?o.timestamp:performance.now();e=!1,as.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(Q-o.timestamp,QC),1)),o.timestamp=Q,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),v.process(o),E.process(o),A.process(o),I.process(o),P.process(o),o.isProcessing=!1,e&&t&&(s=!1,n(G))},F=()=>{e=!0,s=!0,o.isProcessing||n(G)};return{schedule:Ah.reduce((Q,st)=>{const nt=c[st];return Q[st]=(ut,V=!1,w=!1)=>(e||F(),nt.schedule(ut,V,w)),Q},{}),cancel:Q=>{for(let st=0;st<Ah.length;st++)c[Ah[st]].cancel(Q)},state:o,steps:c}}const{schedule:re,cancel:er,state:Ye,steps:Km}=cS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let xh;function XC(){xh=void 0}const pn={now:()=>(xh===void 0&&pn.set(Ye.isProcessing||as.useManualTiming?Ye.timestamp:performance.now()),xh),set:n=>{xh=n,queueMicrotask(XC)}},hS=n=>t=>typeof t=="string"&&t.startsWith(n),Sg=hS("--"),$C=hS("var(--"),bg=n=>$C(n)?WC.test(n.split("/*")[0].trim()):!1,WC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Oo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Tu={...Oo,transform:n=>rs(0,1,n)},Sh={...Oo,default:1},lu=n=>Math.round(n*1e5)/1e5,wg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZC(n){return n==null}const JC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rg=(n,t)=>e=>!!(typeof e=="string"&&JC.test(e)&&e.startsWith(n)||t&&!ZC(e)&&Object.prototype.hasOwnProperty.call(e,t)),fS=(n,t,e)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(wg);return{[n]:parseFloat(o),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},tI=n=>rs(0,255,n),Ym={...Oo,transform:n=>Math.round(tI(n))},Wr={test:Rg("rgb","red"),parse:fS("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+Ym.transform(n)+", "+Ym.transform(t)+", "+Ym.transform(e)+", "+lu(Tu.transform(s))+")"};function eI(n){let t="",e="",s="",o="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),t+=t,e+=e,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Tp={test:Rg("#"),parse:eI,transform:Wr.transform},zu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Fs=zu("deg"),Ei=zu("%"),Et=zu("px"),nI=zu("vh"),iI=zu("vw"),oT={...Ei,parse:n=>Ei.parse(n)/100,transform:n=>Ei.transform(n*100)},co={test:Rg("hsl","hue"),parse:fS("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Ei.transform(lu(t))+", "+Ei.transform(lu(e))+", "+lu(Tu.transform(s))+")"},be={test:n=>Wr.test(n)||Tp.test(n)||co.test(n),parse:n=>Wr.test(n)?Wr.parse(n):co.test(n)?co.parse(n):Tp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wr.transform(n):co.transform(n),getAnimatableNone:n=>{const t=be.parse(n);return t.alpha=0,be.transform(t)}},sI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rI(n){return isNaN(n)&&typeof n=="string"&&(n.match(wg)?.length||0)+(n.match(sI)?.length||0)>0}const dS="number",mS="color",aI="var",oI="var(",lT="${}",lI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(lI,p=>(be.test(p)?(s.color.push(u),o.push(mS),e.push(be.parse(p))):p.startsWith(oI)?(s.var.push(u),o.push(aI),e.push(p)):(s.number.push(u),o.push(dS),e.push(parseFloat(p))),++u,lT)).split(lT);return{values:e,split:d,indexes:s,types:o}}function pS(n){return Eu(n).values}function gS(n){const{split:t,types:e}=Eu(n),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=e[c];d===dS?u+=lu(o[c]):d===mS?u+=be.transform(o[c]):u+=o[c]}return u}}const uI=n=>typeof n=="number"?0:be.test(n)?be.getAnimatableNone(n):n;function cI(n){const t=pS(n);return gS(n)(t.map(uI))}const nr={test:rI,parse:pS,createTransformer:gS,getAnimatableNone:cI};function Qm(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function hI({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let o=0,u=0,c=0;if(!t)o=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;o=Qm(p,d,n+1/3),u=Qm(p,d,n),c=Qm(p,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Kh(n,t){return e=>e>0?t:n}const oe=(n,t,e)=>n+(t-n)*e,Xm=(n,t,e)=>{const s=n*n,o=e*(t*t-s)+s;return o<0?0:Math.sqrt(o)},fI=[Tp,Wr,co],dI=n=>fI.find(t=>t.test(n));function uT(n){const t=dI(n);if(!t)return!1;let e=t.parse(n);return t===co&&(e=hI(e)),e}const cT=(n,t)=>{const e=uT(n),s=uT(t);if(!e||!s)return Kh(n,t);const o={...e};return u=>(o.red=Xm(e.red,s.red,u),o.green=Xm(e.green,s.green,u),o.blue=Xm(e.blue,s.blue,u),o.alpha=oe(e.alpha,s.alpha,u),Wr.transform(o))},Ep=new Set(["none","hidden"]);function mI(n,t){return Ep.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function pI(n,t){return e=>oe(n,t,e)}function Cg(n){return typeof n=="number"?pI:typeof n=="string"?bg(n)?Kh:be.test(n)?cT:vI:Array.isArray(n)?yS:typeof n=="object"?be.test(n)?cT:gI:Kh}function yS(n,t){const e=[...n],s=e.length,o=n.map((u,c)=>Cg(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=o[c](u);return e}}function gI(n,t){const e={...n,...t},s={};for(const o in e)n[o]!==void 0&&t[o]!==void 0&&(s[o]=Cg(n[o])(n[o],t[o]));return o=>{for(const u in s)e[u]=s[u](o);return e}}function yI(n,t){const e=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][s[u]],d=n.values[c]??0;e[o]=d,s[u]++}return e}const vI=(n,t)=>{const e=nr.createTransformer(t),s=Eu(n),o=Eu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Ep.has(n)&&!o.values.length||Ep.has(t)&&!s.values.length?mI(n,t):Uu(yS(yI(s,o),o.values),e):Kh(n,t)};function vS(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?oe(n,t,e):Cg(n)(n,t)}const _I=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>re.update(t,e),stop:()=>er(t),now:()=>Ye.isProcessing?Ye.timestamp:pn.now()}},_S=(n,t,e=10)=>{let s="";const o=Math.max(Math.round(t/e),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Yh=2e4;function Ig(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Yh;)t+=e,s=n.next(t);return t>=Yh?1/0:t}function TI(n,t=100,e){const s=e({...n,keyframes:[0,t]}),o=Math.min(Ig(s),Yh);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Ti(o)}}const EI=5;function TS(n,t,e){const s=Math.max(t-EI,0);return JA(e-n(s),t-s)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$m=.001;function AI({duration:n=fe.duration,bounce:t=fe.bounce,velocity:e=fe.velocity,mass:s=fe.mass}){let o,u,c=1-t;c=rs(fe.minDamping,fe.maxDamping,c),n=rs(fe.minDuration,fe.maxDuration,Ti(n)),c<1?(o=g=>{const v=g*c,E=v*n,A=v-e,I=Ap(g,c),P=Math.exp(-E);return $m-A/I*P},u=g=>{const E=g*c*n,A=E*e+e,I=Math.pow(c,2)*Math.pow(g,2)*n,P=Math.exp(-E),G=Ap(Math.pow(g,2),c);return(-o(g)+$m>0?-1:1)*((A-I)*P)/G}):(o=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-$m+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const d=5/n,p=bI(o,u,d);if(n=_i(n),isNaN(p))return{stiffness:fe.stiffness,damping:fe.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const SI=12;function bI(n,t,e){let s=e;for(let o=1;o<SI;o++)s=s-n(s)/t(s);return s}function Ap(n,t){return n*Math.sqrt(1-t*t)}const wI=["duration","bounce"],RI=["stiffness","damping","mass"];function hT(n,t){return t.some(e=>n[e]!==void 0)}function CI(n){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...n};if(!hT(n,RI)&&hT(n,wI))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),o=s*s,u=2*rs(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:fe.mass,stiffness:o,damping:u}}else{const e=AI(n);t={...t,...e,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function Qh(n=fe.visualDuration,t=fe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:o}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:A,isResolvedFromDuration:I}=CI({...e,velocity:-Ti(e.velocity||0)}),P=A||0,G=g/(2*Math.sqrt(p*v)),F=c-u,W=Ti(Math.sqrt(p/v)),tt=Math.abs(F)<5;s||(s=tt?fe.restSpeed.granular:fe.restSpeed.default),o||(o=tt?fe.restDelta.granular:fe.restDelta.default);let Q;if(G<1){const nt=Ap(W,G);Q=ut=>{const V=Math.exp(-G*W*ut);return c-V*((P+G*W*F)/nt*Math.sin(nt*ut)+F*Math.cos(nt*ut))}}else if(G===1)Q=nt=>c-Math.exp(-W*nt)*(F+(P+W*F)*nt);else{const nt=W*Math.sqrt(G*G-1);Q=ut=>{const V=Math.exp(-G*W*ut),w=Math.min(nt*ut,300);return c-V*((P+G*W*F)*Math.sinh(w)+nt*F*Math.cosh(w))/nt}}const st={calculatedDuration:I&&E||null,next:nt=>{const ut=Q(nt);if(I)d.done=nt>=E;else{let V=nt===0?P:0;G<1&&(V=nt===0?_i(P):TS(Q,nt,ut));const w=Math.abs(V)<=s,R=Math.abs(c-ut)<=o;d.done=w&&R}return d.value=d.done?c:ut,d},toString:()=>{const nt=Math.min(Ig(st),Yh),ut=_S(V=>st.next(nt*V).value,nt,30);return nt+"ms "+ut},toTransition:()=>{}};return st}Qh.applyToOptions=n=>{const t=TI(n,100,Qh);return n.ease=t.ease,n.duration=_i(t.duration),n.type="keyframes",n};function Sp({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],A={done:!1,value:E},I=w=>d!==void 0&&w<d||p!==void 0&&w>p,P=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let G=e*t;const F=E+G,W=c===void 0?F:c(F);W!==F&&(G=W-E);const tt=w=>-G*Math.exp(-w/s),Q=w=>W+tt(w),st=w=>{const R=tt(w),x=Q(w);A.done=Math.abs(R)<=g,A.value=A.done?W:x};let nt,ut;const V=w=>{I(A.value)&&(nt=w,ut=Qh({keyframes:[A.value,P(A.value)],velocity:TS(Q,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:w=>{let R=!1;return!ut&&nt===void 0&&(R=!0,st(w),V(w)),nt!==void 0&&w>=nt?ut.next(w-nt):(!R&&st(w),A)}}}function II(n,t,e){const s=[],o=e||as.mix||vS,u=n.length-1;for(let c=0;c<u;c++){let d=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Fn:t;d=Uu(p,d)}s.push(d)}return s}function DI(n,t,{clamp:e=!0,ease:s,mixer:o}={}){const u=n.length;if(vg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=II(t,s,o),p=d.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const A=_u(n[E],n[E+1],v);return d[E](A)};return e?v=>g(rs(n[0],n[u-1],v)):g}function VI(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const o=_u(0,t,s);n.push(oe(e,1,o))}}function MI(n){const t=[0];return VI(t,n.length-1),t}function xI(n,t){return n.map(e=>e*t)}function NI(n,t){return n.map(()=>t||lS).splice(0,n.length-1)}function uu({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const o=HC(s)?s.map(aT):aT(s),u={done:!1,value:t[0]},c=xI(e&&e.length===t.length?e:MI(t),n),d=DI(c,t,{ease:Array.isArray(o)?o:NI(t,o)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const OI=n=>n!==null;function Dg(n,{repeat:t,repeatType:e="loop"},s,o=1){const u=n.filter(OI),d=o<0||t&&e!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const PI={decay:Sp,inertia:Sp,tween:uu,keyframes:uu,spring:Qh};function ES(n){typeof n.type=="string"&&(n.type=PI[n.type])}class Vg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const kI=n=>n/100;class Mg extends Vg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ES(t);const{type:e=uu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=e||uu;p!==uu&&typeof d[0]!="number"&&(this.mixKeyframes=Uu(kI,vS(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Ig(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:E,repeatType:A,repeatDelay:I,type:P,onUpdate:G,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const W=this.currentTime-g*(this.playbackSpeed>=0?1:-1),tt=this.playbackSpeed>=0?W<0:W>o;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Q=this.currentTime,st=s;if(E){const w=Math.min(this.currentTime,o)/d;let R=Math.floor(w),x=w%1;!x&&w>=1&&(x=1),x===1&&R--,R=Math.min(R,E+1),!!(R%2)&&(A==="reverse"?(x=1-x,I&&(x-=I/d)):A==="mirror"&&(st=c)),Q=rs(0,1,x)*d}const nt=tt?{done:!1,value:v[0]}:st.next(Q);u&&(nt.value=u(nt.value));let{done:ut}=nt;!tt&&p!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return V&&P!==Sp&&(nt.value=Dg(v,this.options,F,this.speed)),G&&G(nt.value),V&&this.finish(),nt}then(t,e){return this.finished.then(t,e)}get duration(){return Ti(this.calculatedDuration)}get time(){return Ti(this.currentTime)}set time(t){t=_i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(pn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ti(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=_I,startTime:e}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function LI(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Zr=n=>n*180/Math.PI,bp=n=>{const t=Zr(Math.atan2(n[1],n[0]));return wp(t)},UI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:bp,rotateZ:bp,skewX:n=>Zr(Math.atan(n[1])),skewY:n=>Zr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},wp=n=>(n=n%360,n<0&&(n+=360),n),fT=bp,dT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),mT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),BI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dT,scaleY:mT,scale:n=>(dT(n)+mT(n))/2,rotateX:n=>wp(Zr(Math.atan2(n[6],n[5]))),rotateY:n=>wp(Zr(Math.atan2(-n[2],n[0]))),rotateZ:fT,rotate:fT,skewX:n=>Zr(Math.atan(n[4])),skewY:n=>Zr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Rp(n){return n.includes("scale")?1:0}function Cp(n,t){if(!n||n==="none")return Rp(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(e)s=BI,o=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=UI,o=d}if(!o)return Rp(t);const u=s[t],c=o[1].split(",").map(jI);return typeof u=="function"?u(c):c[u]}const zI=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Cp(e,t)};function jI(n){return parseFloat(n.trim())}const Po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(Po),pT=n=>n===Oo||n===Et,qI=new Set(["x","y","z"]),FI=Po.filter(n=>!qI.has(n));function HI(n){const t=[];return FI.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const ta={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Cp(t,"x"),y:(n,{transform:t})=>Cp(t,"y")};ta.translateX=ta.x;ta.translateY=ta.y;const ea=new Set;let Ip=!1,Dp=!1,Vp=!1;function AS(){if(Dp){const n=Array.from(ea).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const o=HI(s);o.length&&(e.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=e.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Dp=!1,Ip=!1,ea.forEach(n=>n.complete(Vp)),ea.clear()}function SS(){ea.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Dp=!0)})}function GI(){Vp=!0,SS(),AS(),Vp=!1}class xg{constructor(t,e,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ea.add(this),Ip||(Ip=!0,re.read(SS),re.resolveKeyframes(AS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&e){const d=s.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}LI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ea.delete(this)}cancel(){this.state==="scheduled"&&(ea.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KI=n=>n.startsWith("--");function YI(n,t,e){KI(t)?n.style.setProperty(t,e):n.style[t]=e}const QI=_g(()=>window.ScrollTimeline!==void 0),XI={};function $I(n,t){const e=_g(n);return()=>XI[t]??e()}const bS=$I(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,gT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function wS(n,t){if(n)return typeof n=="function"?bS()?_S(n,t):"ease-out":uS(n)?nu(n):Array.isArray(n)?n.map(e=>wS(e,t)||gT.easeOut):gT[n]}function WI(n,t,e,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=wS(d,o);Array.isArray(E)&&(v.easing=E);const A={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),n.animate(v,A)}function RS(n){return typeof n=="function"&&"applyToOptions"in n}function ZI({type:n,...t}){return RS(n)&&bS()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class JI extends Vg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,vg(typeof t.type!="string");const g=ZI(t);this.animation=WI(e,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Dg(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):YI(e,s,v),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ti(Number(t))}get time(){return Ti(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&QI()?(this.animation.timeline=t,Fn):e(this)}}const CS={anticipate:rS,backInOut:sS,circInOut:oS};function tD(n){return n in CS}function eD(n){typeof n.ease=="string"&&tD(n.ease)&&(n.ease=CS[n.ease])}const yT=10;class nD extends JI{constructor(t){eD(t),ES(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const d=new Mg({...c,autoplay:!1}),p=_i(this.finishedTime??this.time);e.setWithVelocity(d.sample(p-yT).value,d.sample(p).value,yT),d.stop()}}const vT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(nr.test(n)||n==="0")&&!n.startsWith("url("));function iD(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function sD(n,t,e,s){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=vT(o,t),d=vT(u,t);return!c||!d?!1:iD(n)||(e==="spring"||RS(e))&&s}function Mp(n){n.duration=0,n.type}const rD=new Set(["opacity","clipPath","filter","transform"]),aD=_g(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oD(n){const{motionValue:t,name:e,repeatDelay:s,repeatType:o,damping:u,type:c}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return aD()&&e&&rD.has(e)&&(e!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const lD=40;class uD extends Vg{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:v,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pn.now();const A={autoplay:t,delay:e,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...E},I=v?.KeyframeResolver||xg;this.keyframeResolver=new I(d,(P,G,F)=>this.onKeyframesResolved(P,G,A,!F),p,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:v}=s;this.resolvedAt=pn.now(),sD(t,u,c,d)||((as.instantAnimations||!p)&&v?.(Dg(t,s,e)),t[0]=t[t.length-1],Mp(s),s.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>lD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},I=!g&&oD(A)?new nD({...A,element:A.motionValue.owner.current}):new Mg(A);I.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),GI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const cD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hD(n){const t=cD.exec(n);if(!t)return[,];const[,e,s,o]=t;return[`--${e??s}`,o]}function IS(n,t,e=1){const[s,o]=hD(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return $A(c)?parseFloat(c):c}return bg(o)?IS(o,t,e+1):o}function Ng(n,t){return n?.[t]??n?.default??n}const DS=new Set(["width","height","top","left","right","bottom",...Po]),fD={test:n=>n==="auto",parse:n=>n},VS=n=>t=>t.test(n),MS=[Oo,Et,Ei,Fs,iI,nI,fD],_T=n=>MS.find(VS(n));function dD(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ZA(n):!0}const mD=new Set(["brightness","contrast","saturate","opacity"]);function pD(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(wg)||[];if(!s)return n;const o=e.replace(s,"");let u=mD.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+o+")"}const gD=/\b([a-z-]*)\(.*?\)/gu,xp={...nr,getAnimatableNone:n=>{const t=n.match(gD);return t?t.map(pD).join(" "):n}},TT={...Oo,transform:Math.round},yD={rotate:Fs,rotateX:Fs,rotateY:Fs,rotateZ:Fs,scale:Sh,scaleX:Sh,scaleY:Sh,scaleZ:Sh,skew:Fs,skewX:Fs,skewY:Fs,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:Tu,originX:oT,originY:oT,originZ:Et},Og={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...yD,zIndex:TT,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:TT},vD={...Og,color:be,backgroundColor:be,outlineColor:be,fill:be,stroke:be,borderColor:be,borderTopColor:be,borderRightColor:be,borderBottomColor:be,borderLeftColor:be,filter:xp,WebkitFilter:xp},xS=n=>vD[n];function NS(n,t){let e=xS(n);return e!==xp&&(e=nr),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const _D=new Set(["auto","none","0"]);function TD(n,t,e){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!_D.has(u)&&Eu(u).values.length&&(o=n[s]),s++}if(o&&e)for(const u of t)n[u]=NS(e,o)}class ED extends xg{constructor(t,e,s,o,u){super(t,e,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),bg(g))){const v=IS(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!DS.has(s)||t.length!==2)return;const[o,u]=t,c=_T(o),d=_T(u);if(c!==d)if(pT(c)&&pT(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else ta[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||dD(t[o]))&&s.push(o);s.length&&TD(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(e);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=ta[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function AD(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=e?.[n]??s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const OS=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function PS(n){return WA(n)&&"offsetHeight"in n}const ET=30,SD=n=>!isNaN(parseFloat(n));class bD{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=pn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=pn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Tg);const s=this.events[t].add(e);return t==="change"?()=>{s(),re.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ET)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,ET);return JA(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wo(n,t){return new bD(n,t)}const{schedule:Pg}=cS(queueMicrotask,!1),$n={x:!1,y:!1};function kS(){return $n.x||$n.y}function wD(n){return n==="x"||n==="y"?$n[n]?null:($n[n]=!0,()=>{$n[n]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}function LS(n,t){const e=AD(n),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[e,o,()=>s.abort()]}function AT(n){return!(n.pointerType==="touch"||kS())}function RD(n,t,e={}){const[s,o,u]=LS(n,e),c=d=>{if(!AT(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{AT(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const US=(n,t)=>t?n===t?!0:US(n,t.parentElement):!1,kg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,CD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ID(n){return CD.has(n.tagName)||n.tabIndex!==-1}const Nh=new WeakSet;function ST(n){return t=>{t.key==="Enter"&&n(t)}}function Wm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const DD=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=ST(()=>{if(Nh.has(e))return;Wm(e,"down");const o=ST(()=>{Wm(e,"up")}),u=()=>Wm(e,"cancel");e.addEventListener("keyup",o,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function bT(n){return kg(n)&&!kS()}function VD(n,t,e={}){const[s,o,u]=LS(n,e),c=d=>{const p=d.currentTarget;if(!bT(d))return;Nh.add(p);const g=t(p,d),v=(I,P)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),Nh.has(p)&&Nh.delete(p),bT(I)&&typeof g=="function"&&g(I,{success:P})},E=I=>{v(I,p===window||p===document||e.useGlobalTarget||US(p,I.target))},A=I=>{v(I,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),PS(d)&&(d.addEventListener("focus",g=>DD(g,o)),!ID(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function BS(n){return WA(n)&&"ownerSVGElement"in n}function MD(n){return BS(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),xD=[...MS,be,nr],ND=n=>xD.find(VS(n)),Lg=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class OD extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,o=PS(s)&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PD({children:n,isPresent:t,anchorX:e,root:s}){const o=ot.useId(),u=ot.useRef(null),c=ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=ot.useContext(Lg);return ot.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:E,right:A}=c.current;if(t||!u.current||!p||!g)return;const I=e==="left"?`left: ${E}`:`right: ${A}`;u.current.dataset.motionPopId=o;const P=document.createElement("style");d&&(P.nonce=d);const G=s??document.head;return G.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${I}px !important;
            top: ${v}px !important;
          }
        `),()=>{G.contains(P)&&G.removeChild(P)}},[t]),ss.jsx(OD,{isPresent:t,childRef:u,sizeRef:c,children:ot.cloneElement(n,{ref:u})})}const kD=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:c,anchorX:d,root:p})=>{const g=mg(LD),v=ot.useId();let E=!0,A=ot.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:o,onExitComplete:I=>{g.set(I,!0);for(const P of g.values())if(!P)return;s&&s()},register:I=>(g.set(I,!1),()=>g.delete(I))}),[e,g,s]);return u&&E&&(A={...A}),ot.useMemo(()=>{g.forEach((I,P)=>g.set(P,!1))},[e]),ot.useEffect(()=>{!e&&!g.size&&s&&s()},[e]),c==="popLayout"&&(n=ss.jsx(PD,{isPresent:e,anchorX:d,root:p,children:n})),ss.jsx(yf.Provider,{value:A,children:n})};function LD(){return new Map}function zS(n=!0){const t=ot.useContext(yf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:o}=t,u=ot.useId();ot.useEffect(()=>{if(n)return o(u)},[n]);const c=ot.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const bh=n=>n.key||"";function wT(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const jS=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:d="left",root:p})=>{const[g,v]=zS(c),E=ot.useMemo(()=>wT(n),[n]),A=c&&!g?[]:E.map(bh),I=ot.useRef(!0),P=ot.useRef(E),G=mg(()=>new Map),[F,W]=ot.useState(E),[tt,Q]=ot.useState(E);XA(()=>{I.current=!1,P.current=E;for(let ut=0;ut<tt.length;ut++){const V=bh(tt[ut]);A.includes(V)?G.delete(V):G.get(V)!==!0&&G.set(V,!1)}},[tt,A.length,A.join("-")]);const st=[];if(E!==F){let ut=[...E];for(let V=0;V<tt.length;V++){const w=tt[V],R=bh(w);A.includes(R)||(ut.splice(V,0,w),st.push(w))}return u==="wait"&&st.length&&(ut=st),Q(wT(ut)),W(E),null}const{forceRender:nt}=ot.useContext(dg);return ss.jsx(ss.Fragment,{children:tt.map(ut=>{const V=bh(ut),w=c&&!g?!1:E===tt||A.includes(V),R=()=>{if(G.has(V))G.set(V,!0);else return;let x=!0;G.forEach(O=>{O||(x=!1)}),x&&(nt?.(),Q(P.current),c&&v?.(),s&&s())};return ss.jsx(kD,{isPresent:w,initial:!I.current||e?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:w?void 0:R,anchorX:d,children:ut},V)})})},qS=ot.createContext({strict:!1}),RT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ro={};for(const n in RT)Ro[n]={isEnabled:t=>RT[n].some(e=>!!t[e])};function UD(n){for(const t in n)Ro[t]={...Ro[t],...n[t]}}const BD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||BD.has(n)}let FS=n=>!Xh(n);function zD(n){typeof n=="function"&&(FS=t=>t.startsWith("on")?!Xh(t):n(t))}try{zD(require("@emotion/is-prop-valid").default)}catch{}function jD(n,t,e){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(FS(o)||e===!0&&Xh(o)||!t&&!Xh(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const vf=ot.createContext({});function _f(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Au(n){return typeof n=="string"||Array.isArray(n)}const Ug=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bg=["initial",...Ug];function Tf(n){return _f(n.animate)||Bg.some(t=>Au(n[t]))}function HS(n){return!!(Tf(n)||n.variants)}function qD(n,t){if(Tf(n)){const{initial:e,animate:s}=n;return{initial:e===!1||Au(e)?e:void 0,animate:Au(s)?s:void 0}}return n.inherit!==!1?t:{}}function FD(n){const{initial:t,animate:e}=qD(n,ot.useContext(vf));return ot.useMemo(()=>({initial:t,animate:e}),[CT(t),CT(e)])}function CT(n){return Array.isArray(n)?n.join(" "):n}const Su={};function HD(n){for(const t in n)Su[t]=n[t],Sg(t)&&(Su[t].isCSSVariable=!0)}function GS(n,{layout:t,layoutId:e}){return ko.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Su[n]||n==="opacity")}const GD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KD=Po.length;function YD(n,t,e){let s="",o=!0;for(let u=0;u<KD;u++){const c=Po[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||e){const g=OS(d,Og[c]);if(!p){o=!1;const v=GD[c]||c;s+=`${v}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,o?"":s):o&&(s="none"),s}function zg(n,t,e){const{style:s,vars:o,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(ko.has(p)){c=!0;continue}else if(Sg(p)){o[p]=g;continue}else{const v=OS(g,Og[p]);p.startsWith("origin")?(d=!0,u[p]=v):s[p]=v}}if(t.transform||(c||e?s.transform=YD(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${p} ${g} ${v}`}}const jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KS(n,t,e){for(const s in t)!sn(t[s])&&!GS(s,e)&&(n[s]=t[s])}function QD({transformTemplate:n},t){return ot.useMemo(()=>{const e=jg();return zg(e,t,n),Object.assign({},e.vars,e.style)},[t])}function XD(n,t){const e=n.style||{},s={};return KS(s,e,n),Object.assign(s,QD(n,t)),s}function $D(n,t){const e={},s=XD(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const WD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZD={offset:"strokeDashoffset",array:"strokeDasharray"};function JD(n,t,e=1,s=0,o=!0){n.pathLength=1;const u=o?WD:ZD;n[u.offset]=Et.transform(-s);const c=Et.transform(t),d=Et.transform(e);n[u.array]=`${c} ${d}`}function YS(n,{attrX:t,attrY:e,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,v){if(zg(n,d,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A}=n;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=v?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),e!==void 0&&(E.y=e),s!==void 0&&(E.scale=s),o!==void 0&&JD(E,o,u,c,!1)}const QS=()=>({...jg(),attrs:{}}),XS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function t2(n,t,e,s){const o=ot.useMemo(()=>{const u=QS();return YS(u,t,XS(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};KS(u,n.style,n),o.style={...u,...o.style}}return o}const e2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qg(n){return typeof n!="string"||n.includes("-")?!1:!!(e2.indexOf(n)>-1||/[A-Z]/u.test(n))}function n2(n,t,e,{latestValues:s},o,u=!1){const d=(qg(n)?t2:$D)(t,s,o,n),p=jD(t,typeof n=="string",u),g=n!==ot.Fragment?{...p,...d,ref:e}:{},{children:v}=t,E=ot.useMemo(()=>sn(v)?v.get():v,[v]);return ot.createElement(n,{...g,children:E})}function IT(n){const t=[{},{}];return n?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Fg(n,t,e,s){if(typeof t=="function"){const[o,u]=IT(s);t=t(e!==void 0?e:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=IT(s);t=t(e!==void 0?e:n.custom,o,u)}return t}function Oh(n){return sn(n)?n.get():n}function i2({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,o){return{latestValues:s2(e,s,o,n),renderState:t()}}function s2(n,t,e,s){const o={},u=s(n,{});for(const A in u)o[A]=Oh(u[A]);let{initial:c,animate:d}=n;const p=Tf(n),g=HS(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!_f(E)){const A=Array.isArray(E)?E:[E];for(let I=0;I<A.length;I++){const P=Fg(n,A[I]);if(P){const{transitionEnd:G,transition:F,...W}=P;for(const tt in W){let Q=W[tt];if(Array.isArray(Q)){const st=v?Q.length-1:0;Q=Q[st]}Q!==null&&(o[tt]=Q)}for(const tt in G)o[tt]=G[tt]}}}return o}const $S=n=>(t,e)=>{const s=ot.useContext(vf),o=ot.useContext(yf),u=()=>i2(n,t,s,o);return e?u():mg(u)};function Hg(n,t,e){const{style:s}=n,o={};for(const u in s)(sn(s[u])||t.style&&sn(t.style[u])||GS(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const r2=$S({scrapeMotionValuesFromProps:Hg,createRenderState:jg});function WS(n,t,e){const s=Hg(n,t,e);for(const o in n)if(sn(n[o])||sn(t[o])){const u=Po.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}const a2=$S({scrapeMotionValuesFromProps:WS,createRenderState:QS}),o2=Symbol.for("motionComponentSymbol");function ho(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function l2(n,t,e){return ot.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):ho(e)&&(e.current=s))},[t])}const Gg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u2="framerAppearId",ZS="data-"+Gg(u2),JS=ot.createContext({});function c2(n,t,e,s,o){const{visualElement:u}=ot.useContext(vf),c=ot.useContext(qS),d=ot.useContext(yf),p=ot.useContext(Lg).reducedMotion,g=ot.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ot.useContext(JS);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&h2(g.current,e,o,E);const A=ot.useRef(!1);ot.useInsertionEffect(()=>{v&&A.current&&v.update(e,d)});const I=e[ZS],P=ot.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return XA(()=>{v&&(A.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),P.current&&v.animationState&&v.animationState.animateChanges())}),ot.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),P.current=!1),v.enteringChildren=void 0)}),v}function h2(n,t,e,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:tb(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&ho(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function tb(n){if(n)return n.options.allowProjection!==!1?n.projection:tb(n.parent)}function Zm(n,{forwardMotionProps:t=!1}={},e,s){e&&UD(e);const o=qg(n)?a2:r2;function u(d,p){let g;const v={...ot.useContext(Lg),...d,layoutId:f2(d)},{isStatic:E}=v,A=FD(d),I=o(d,E);if(!E&&pg){d2();const P=m2(v);g=P.MeasureLayout,A.visualElement=c2(n,I,v,s,P.ProjectionNode)}return ss.jsxs(vf.Provider,{value:A,children:[g&&A.visualElement?ss.jsx(g,{visualElement:A.visualElement,...v}):null,n2(n,d,l2(I,A.visualElement,p),I,E,t)]})}u.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=ot.forwardRef(u);return c[o2]=n,c}function f2({layoutId:n}){const t=ot.useContext(dg).id;return t&&n!==void 0?t+"-"+n:n}function d2(n,t){ot.useContext(qS).strict}function m2(n){const{drag:t,layout:e}=Ro;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t?.isEnabled(n)||e?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function p2(n,t){if(typeof Proxy>"u")return Zm;const e=new Map,s=(u,c)=>Zm(u,c,n,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(e.has(c)||e.set(c,Zm(c,void 0,n,t)),e.get(c))})}function eb({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function g2({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function y2(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Jm(n){return n===void 0||n===1}function Np({scale:n,scaleX:t,scaleY:e}){return!Jm(n)||!Jm(t)||!Jm(e)}function Xr(n){return Np(n)||nb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function nb(n){return DT(n.x)||DT(n.y)}function DT(n){return n&&n!=="0%"}function $h(n,t,e){const s=n-e,o=t*s;return e+o}function VT(n,t,e,s,o){return o!==void 0&&(n=$h(n,o,s)),$h(n,e,s)+t}function Op(n,t=0,e=1,s,o){n.min=VT(n.min,t,e,s,o),n.max=VT(n.max,t,e,s,o)}function ib(n,{x:t,y:e}){Op(n.x,t.translate,t.scale,t.originPoint),Op(n.y,e.translate,e.scale,e.originPoint)}const MT=.999999999999,xT=1.0000000000001;function v2(n,t,e,s=!1){const o=e.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,ib(n,c)),s&&Xr(u.latestValues)&&mo(n,u.latestValues))}t.x<xT&&t.x>MT&&(t.x=1),t.y<xT&&t.y>MT&&(t.y=1)}function fo(n,t){n.min=n.min+t,n.max=n.max+t}function NT(n,t,e,s,o=.5){const u=oe(n.min,n.max,o);Op(n,t,e,u,s)}function mo(n,t){NT(n.x,t.x,t.scaleX,t.scale,t.originX),NT(n.y,t.y,t.scaleY,t.scale,t.originY)}function sb(n,t){return eb(y2(n.getBoundingClientRect(),t))}function _2(n,t,e){const s=sb(n,e),{scroll:o}=t;return o&&(fo(s.x,o.offset.x),fo(s.y,o.offset.y)),s}const OT=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:OT(),y:OT()}),PT=()=>({min:0,max:0}),ge=()=>({x:PT(),y:PT()}),Pp={current:null},rb={current:!1};function T2(){if(rb.current=!0,!!pg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pp.current=n.matches;n.addEventListener("change",t),t()}else Pp.current=!1}const E2=new WeakMap;function A2(n,t,e){for(const s in t){const o=t[s],u=e[s];if(sn(o))n.addValue(s,o);else if(sn(u))n.addValue(s,wo(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(s);n.addValue(s,wo(c!==void 0?c:o,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const kT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class S2{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=pn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,re.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Tf(e),this.isVariantNode=HS(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in E){const I=E[A];p[A]!==void 0&&sn(I)&&I.set(p[A])}}mount(t){this.current=t,E2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),rb.current||T2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),er(this.notifyUpdate),er(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ko.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&re.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ro){const e=Ro[t];if(!e)continue;const{isEnabled:s,Feature:o}=e;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<kT.length;s++){const o=kT[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=A2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=wo(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&($A(s)||ZA(s))?s=parseFloat(s):!ND(s)&&nr.test(e)&&(s=NS(t,e)),this.setBaseTarget(t,sn(s)?s.get():s)),sn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const u=Fg(this.props,e,this.presenceContext?.custom);u&&(s=u[t])}if(e&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!sn(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Tg),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Pg.render(this.render)}}class ab extends S2{constructor(){super(...arguments),this.KeyframeResolver=ED}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function ob(n,{style:t,vars:e},s,o){const u=n.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in e)u.setProperty(c,e[c])}function b2(n){return window.getComputedStyle(n)}class w2 extends ab{constructor(){super(...arguments),this.type="html",this.renderInstance=ob}readValueFromInstance(t,e){if(ko.has(e))return this.projection?.isProjecting?Rp(e):zI(t,e);{const s=b2(t),o=(Sg(e)?s.getPropertyValue(e):s[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return sb(t,e)}build(t,e,s){zg(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Hg(t,e,s)}}const lb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R2(n,t,e,s){ob(n,t,void 0,s);for(const o in t.attrs)n.setAttribute(lb.has(o)?o:Gg(o),t.attrs[o])}class C2 extends ab{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ko.has(e)){const s=xS(e);return s&&s.default||0}return e=lb.has(e)?e:Gg(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return WS(t,e,s)}build(t,e,s){YS(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,o){R2(t,e,s,o)}mount(t){this.isSVGTag=XS(t.tagName),super.mount(t)}}const I2=(n,t)=>qg(n)?new C2(t):new w2(t,{allowProjection:n!==ot.Fragment});function yo(n,t,e){const s=n.getProps();return Fg(s,t,e!==void 0?e:s.custom,n)}const kp=n=>Array.isArray(n);function D2(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,wo(e))}function V2(n){return kp(n)?n[n.length-1]||0:n}function M2(n,t){const e=yo(n,t);let{transitionEnd:s={},transition:o={},...u}=e||{};u={...u,...s};for(const c in u){const d=V2(u[c]);D2(n,c,d)}}function x2(n){return!!(sn(n)&&n.add)}function Lp(n,t){const e=n.getValue("willChange");if(x2(e))return e.add(t);if(!e&&as.WillChange){const s=new as.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function ub(n){return n.props[ZS]}const N2=n=>n!==null;function O2(n,{repeat:t,repeatType:e="loop"},s){const o=n.filter(N2),u=t&&e!=="loop"&&t%2===1?0:o.length-1;return o[u]}const P2={type:"spring",stiffness:500,damping:25,restSpeed:10},k2=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),L2={type:"keyframes",duration:.8},U2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B2=(n,{keyframes:t})=>t.length>2?L2:ko.has(n)?n.startsWith("scale")?k2(t[1]):P2:U2;function z2({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const Kg=(n,t,e,s={},o,u)=>c=>{const d=Ng(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-_i(p);const v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:o};z2(d)||Object.assign(v,B2(n,v)),v.duration&&(v.duration=_i(v.duration)),v.repeatDelay&&(v.repeatDelay=_i(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Mp(v),v.delay===0&&(E=!0)),(as.instantAnimations||as.skipAnimations)&&(E=!0,Mp(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=O2(v.keyframes,d);if(A!==void 0){re.update(()=>{v.onUpdate(A),v.onComplete()});return}}return d.isSync?new Mg(v):new uD(v)};function j2({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function cb(n,t,{delay:e=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=o&&n.animationState&&n.animationState.getState()[o];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),A=d[v];if(A===void 0||g&&j2(g,v))continue;const I={delay:e,...Ng(u||{},v)},P=E.get();if(P!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===P&&!I.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const W=ub(n);if(W){const tt=window.MotionHandoffAnimation(W,v,re);tt!==null&&(I.startTime=tt,G=!0)}}Lp(n,v),E.start(Kg(v,E,A,n.shouldReduceMotion&&DS.has(v)?{type:!1}:I,n,G));const F=E.animation;F&&p.push(F)}return c&&Promise.all(p).then(()=>{re.update(()=>{c&&M2(n,c)})}),p}function hb(n,t,e,s=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,d=(c-1)*s;return typeof e=="function"?e(u,c):o===1?u*s:d-u*s}function Up(n,t,e={}){const s=yo(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(o=e.transitionOverride);const u=s?()=>Promise.all(cb(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=o;return q2(n,t,p,g,v,E,e)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(e.delay)])}function q2(n,t,e=0,s=0,o=0,u=1,c){const d=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),d.push(Up(p,t,{...c,delay:e+(typeof s=="function"?0:s)+hb(n.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function F2(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Up(n,u,e));s=Promise.all(o)}else if(typeof t=="string")s=Up(n,t,e);else{const o=typeof t=="function"?yo(n,t,e.custom):t;s=Promise.all(cb(n,o,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function fb(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const H2=Bg.length;function db(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?db(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<H2;e++){const s=Bg[e],o=n.props[s];(Au(o)||o===!1)&&(t[s]=o)}return t}const G2=[...Ug].reverse(),K2=Ug.length;function Y2(n){return t=>Promise.all(t.map(({animation:e,options:s})=>F2(n,e,s)))}function Q2(n){let t=Y2(n),e=LT(),s=!0;const o=p=>(g,v)=>{const E=yo(n,v,p==="exit"?n.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:I,...P}=E;g={...g,...P,...I}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=db(n.parent)||{},E=[],A=new Set;let I={},P=1/0;for(let F=0;F<K2;F++){const W=G2[F],tt=e[W],Q=g[W]!==void 0?g[W]:v[W],st=Au(Q),nt=W===p?tt.isActive:null;nt===!1&&(P=F);let ut=Q===v[W]&&Q!==g[W]&&st;if(ut&&s&&n.manuallyAnimateOnMount&&(ut=!1),tt.protectedKeys={...I},!tt.isActive&&nt===null||!Q&&!tt.prevProp||_f(Q)||typeof Q=="boolean")continue;const V=X2(tt.prevProp,Q);let w=V||W===p&&tt.isActive&&!ut&&st||F>P&&st,R=!1;const x=Array.isArray(Q)?Q:[Q];let O=x.reduce(o(W),{});nt===!1&&(O={});const{prevResolvedValues:L={}}=tt,D={...L,...O},ve=it=>{w=!0,A.has(it)&&(R=!0,A.delete(it)),tt.needsAnimating[it]=!0;const ht=n.getValue(it);ht&&(ht.liveStyle=!1)};for(const it in D){const ht=O[it],Ct=L[it];if(I.hasOwnProperty(it))continue;let M=!1;kp(ht)&&kp(Ct)?M=!fb(ht,Ct):M=ht!==Ct,M?ht!=null?ve(it):A.add(it):ht!==void 0&&A.has(it)?ve(it):tt.protectedKeys[it]=!0}tt.prevProp=Q,tt.prevResolvedValues=O,tt.isActive&&(I={...I,...O}),s&&n.blockInitialAnimation&&(w=!1);const ee=ut&&V;w&&(!ee||R)&&E.push(...x.map(it=>{const ht={type:W};if(typeof it=="string"&&s&&!ee&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ct}=n,M=yo(Ct,it);if(Ct.enteringChildren&&M){const{delayChildren:et}=M.transition||{};ht.delay=hb(Ct.enteringChildren,n,et)}}return{animation:it,options:ht}}))}if(A.size){const F={};if(typeof g.initial!="boolean"){const W=yo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);W&&W.transition&&(F.transition=W.transition)}A.forEach(W=>{const tt=n.getBaseTarget(W),Q=n.getValue(W);Q&&(Q.liveStyle=!0),F[W]=tt??null}),E.push({animation:F})}let G=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(G=!1),s=!1,G?t(E):Promise.resolve()}function d(p,g){if(e[p].isActive===g)return Promise.resolve();n.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),e[p].isActive=g;const v=c(p);for(const E in e)e[E].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=LT(),s=!0}}}function X2(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!fb(t,n):!1}function Qr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LT(){return{animate:Qr(!0),whileInView:Qr(),whileHover:Qr(),whileTap:Qr(),whileDrag:Qr(),whileFocus:Qr(),exit:Qr()}}class cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $2 extends cr{constructor(t){super(t),t.animationState||(t.animationState=Q2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_f(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let W2=0;class Z2 extends cr{constructor(){super(...arguments),this.id=W2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const J2={animation:{Feature:$2},exit:{Feature:Z2}};function bu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function ju(n){return{point:{x:n.pageX,y:n.pageY}}}const tV=n=>t=>kg(t)&&n(t,ju(t));function cu(n,t,e,s){return bu(n,t,tV(e),s)}const mb=1e-4,eV=1-mb,nV=1+mb,pb=.01,iV=0-pb,sV=0+pb;function cn(n){return n.max-n.min}function rV(n,t,e){return Math.abs(n-t)<=e}function UT(n,t,e,s=.5){n.origin=s,n.originPoint=oe(t.min,t.max,n.origin),n.scale=cn(e)/cn(t),n.translate=oe(e.min,e.max,n.origin)-n.originPoint,(n.scale>=eV&&n.scale<=nV||isNaN(n.scale))&&(n.scale=1),(n.translate>=iV&&n.translate<=sV||isNaN(n.translate))&&(n.translate=0)}function hu(n,t,e,s){UT(n.x,t.x,e.x,s?s.originX:void 0),UT(n.y,t.y,e.y,s?s.originY:void 0)}function BT(n,t,e){n.min=e.min+t.min,n.max=n.min+cn(t)}function aV(n,t,e){BT(n.x,t.x,e.x),BT(n.y,t.y,e.y)}function zT(n,t,e){n.min=t.min-e.min,n.max=n.min+cn(t)}function fu(n,t,e){zT(n.x,t.x,e.x),zT(n.y,t.y,e.y)}function zn(n){return[n("x"),n("y")]}const gb=({current:n})=>n?n.ownerDocument.defaultView:null,jT=(n,t)=>Math.abs(n-t);function oV(n,t){const e=jT(n.x,t.x),s=jT(n.y,t.y);return Math.sqrt(e**2+s**2)}class yb{constructor(t,e,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=ep(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,P=oV(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!P)return;const{point:G}=A,{timestamp:F}=Ye;this.history.push({...G,timestamp:F});const{onStart:W,onMove:tt}=this.handlers;I||(W&&W(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),tt&&tt(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=tp(I,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:P,onSessionEnd:G,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=ep(A.type==="pointercancel"?this.lastMoveEventInfo:tp(I,this.transformPagePoint),this.history);this.startEvent&&P&&P(A,W),G&&G(A,W)},!kg(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=ju(t),p=tp(d,this.transformPagePoint),{point:g}=p,{timestamp:v}=Ye;this.history=[{...g,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,ep(p,this.history)),this.removeListeners=Uu(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),er(this.updatePoint)}}function tp(n,t){return t?{point:t(n.point)}:n}function qT(n,t){return{x:n.x-t.x,y:n.y-t.y}}function ep({point:n},t){return{point:n,delta:qT(n,vb(t)),offset:qT(n,lV(t)),velocity:uV(t,.1)}}function lV(n){return n[0]}function vb(n){return n[n.length-1]}function uV(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const o=vb(n);for(;e>=0&&(s=n[e],!(o.timestamp-s.timestamp>_i(t)));)e--;if(!s)return{x:0,y:0};const u=Ti(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cV(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?oe(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?oe(e,n,s.max):Math.min(n,e)),n}function FT(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function hV(n,{top:t,left:e,bottom:s,right:o}){return{x:FT(n.x,e,o),y:FT(n.y,t,s)}}function HT(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function fV(n,t){return{x:HT(n.x,t.x),y:HT(n.y,t.y)}}function dV(n,t){let e=.5;const s=cn(n),o=cn(t);return o>s?e=_u(t.min,t.max-s,n.min):s>o&&(e=_u(n.min,n.max-o,t.min)),rs(0,1,e)}function mV(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Bp=.35;function pV(n=Bp){return n===!1?n=0:n===!0&&(n=Bp),{x:GT(n,"left","right"),y:GT(n,"top","bottom")}}function GT(n,t,e){return{min:KT(n,t),max:KT(n,e)}}function KT(n,t){return typeof n=="number"?n:n[t]||0}const gV=new WeakMap;class yV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ju(E).point)},c=(E,A)=>{const{drag:I,dragPropagation:P,onDragStart:G}=this.getProps();if(I&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wD(I),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(W=>{let tt=this.getAxisMotionValue(W).get()||0;if(Ei.test(tt)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const st=Q.layout.layoutBox[W];st&&(tt=cn(st)*(parseFloat(tt)/100))}}this.originPoint[W]=tt}),G&&re.postRender(()=>G(E,A)),Lp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:I,dragDirectionLock:P,onDirectionLock:G,onDrag:F}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:W}=A;if(P&&this.currentDirection===null){this.currentDirection=vV(W),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",A.point,W),this.updateAxis("y",A.point,W),this.visualElement.render(),F&&F(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>zn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new yb(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:gb(this.visualElement)})}stop(t,e){const s=t||this.latestPointerEvent,o=e||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&re.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:o}=this.getProps();if(!s||!wh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=cV(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&ho(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=hV(s.layoutBox,t):this.constraints=!1,this.elastic=pV(e),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=mV(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ho(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=_2(s,o.root,this.visualElement.getTransformPagePoint());let c=fV(o.layout.layoutBox,u);if(e){const d=e(g2(c));this.hasMutatedConstraints=!!d,d&&(c=eb(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=zn(v=>{if(!wh(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const A=o?200:1e6,I=o?40:1e7,P={type:"inertia",velocity:s?t[v]:0,bounceStiffness:A,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,P)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Lp(this.visualElement,t),s.start(Kg(t,s,0,e,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[e];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(e=>{const{drag:s}=this.getProps();if(!wh(e,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(e);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[e];u.set(t[e]-oe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!ho(e)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=dV({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(c=>{if(!wh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(oe(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;gV.set(this.visualElement,this);const t=this.visualElement.current,e=cu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();ho(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),re.read(s);const c=bu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(zn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Bp,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function wh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function vV(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class _V extends cr{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new yV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const YT=n=>(t,e)=>{n&&re.postRender(()=>n(t,e))};class TV extends cr{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new yb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:YT(t),onStart:YT(e),onMove:s,onEnd:(u,c)=>{delete this.session,o&&re.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const eu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Et.test(n))n=parseFloat(n);else return n;const e=QT(n,t.target.x),s=QT(n,t.target.y);return`${e}% ${s}%`}},EV={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,o=nr.parse(n);if(o.length>5)return s;const u=nr.createTransformer(n),c=typeof o[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=oe(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}};let np=!1;class AV extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;HD(SV),u&&(e.group&&e.group.add(u),s&&s.register&&o&&s.register(u),np&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,np=!0,o||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||re.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Pg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:o}=t;np=!0,o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _b(n){const[t,e]=zS(),s=ot.useContext(dg);return ss.jsx(AV,{...n,layoutGroup:s,switchLayoutGroup:ot.useContext(JS),isPresent:t,safeToRemove:e})}const SV={borderRadius:{...eu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eu,borderTopRightRadius:eu,borderBottomLeftRadius:eu,borderBottomRightRadius:eu,boxShadow:EV};function bV(n,t,e){const s=sn(n)?n:wo(n);return s.start(Kg("",s,t,e)),s.animation}const wV=(n,t)=>n.depth-t.depth;class RV{constructor(){this.children=[],this.isDirty=!1}add(t){gg(this.children,t),this.isDirty=!0}remove(t){yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wV),this.isDirty=!1,this.children.forEach(t)}}function CV(n,t){const e=pn.now(),s=({timestamp:o})=>{const u=o-e;u>=t&&(er(s),n(u-t))};return re.setup(s,!0),()=>er(s)}const Tb=["TopLeft","TopRight","BottomLeft","BottomRight"],IV=Tb.length,XT=n=>typeof n=="string"?parseFloat(n):n,$T=n=>typeof n=="number"||Et.test(n);function DV(n,t,e,s,o,u){o?(n.opacity=oe(0,e.opacity??1,VV(s)),n.opacityExit=oe(t.opacity??1,0,MV(s))):u&&(n.opacity=oe(t.opacity??1,e.opacity??1,s));for(let c=0;c<IV;c++){const d=`border${Tb[c]}Radius`;let p=WT(t,d),g=WT(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||$T(p)===$T(g)?(n[d]=Math.max(oe(XT(p),XT(g),s),0),(Ei.test(g)||Ei.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=oe(t.rotate||0,e.rotate||0,s))}function WT(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const VV=Eb(0,.5,aS),MV=Eb(.5,.95,Fn);function Eb(n,t,e){return s=>s<n?0:s>t?1:e(_u(n,t,s))}function ZT(n,t){n.min=t.min,n.max=t.max}function Bn(n,t){ZT(n.x,t.x),ZT(n.y,t.y)}function JT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function tE(n,t,e,s,o){return n-=t,n=$h(n,1/e,s),o!==void 0&&(n=$h(n,1/o,s)),n}function xV(n,t=0,e=1,s=.5,o,u=n,c=n){if(Ei.test(t)&&(t=parseFloat(t),t=oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=oe(u.min,u.max,s);n===u&&(d-=t),n.min=tE(n.min,t,e,d,o),n.max=tE(n.max,t,e,d,o)}function eE(n,t,[e,s,o],u,c){xV(n,t[e],t[s],t[o],t.scale,u,c)}const NV=["x","scaleX","originX"],OV=["y","scaleY","originY"];function nE(n,t,e,s){eE(n.x,t,NV,e?e.x:void 0,s?s.x:void 0),eE(n.y,t,OV,e?e.y:void 0,s?s.y:void 0)}function iE(n){return n.translate===0&&n.scale===1}function Ab(n){return iE(n.x)&&iE(n.y)}function sE(n,t){return n.min===t.min&&n.max===t.max}function PV(n,t){return sE(n.x,t.x)&&sE(n.y,t.y)}function rE(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function Sb(n,t){return rE(n.x,t.x)&&rE(n.y,t.y)}function aE(n){return cn(n.x)/cn(n.y)}function oE(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class kV{constructor(){this.members=[]}add(t){gg(this.members,t),t.scheduleRender()}remove(t){if(yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let s;for(let o=e;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LV(n,t,e){let s="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=e?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:A,skewX:I,skewY:P}=e;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),I&&(s+=`skewX(${I}deg) `),P&&(s+=`skewY(${P}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const ip=["","X","Y","Z"],UV=1e3;let BV=0;function sp(n,t,e,s){const{latestValues:o}=t;o[n]&&(e[n]=o[n],t.setStaticValue(n,0),s&&(s[n]=0))}function bb(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=ub(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",re,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&bb(s)}function wb({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=BV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qV),this.nodes.forEach(KV),this.nodes.forEach(YV),this.nodes.forEach(FV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new RV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Tg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=BS(c)&&!MD(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),n){let v,E=0;const A=()=>this.root.updateBlockedByResize=!1;re.read(()=>{E=window.innerWidth}),n(c,()=>{const I=window.innerWidth;I!==E&&(E=I,this.root.updateBlockedByResize=!0,v&&v(),v=CV(A,250),Ph.hasAnimatedSinceResize&&(Ph.hasAnimatedSinceResize=!1,this.nodes.forEach(cE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||ZV,{onLayoutAnimationStart:G,onLayoutAnimationComplete:F}=g.getProps(),W=!this.targetLayout||!Sb(this.targetLayout,I),tt=!E&&A;if(this.options.layoutRoot||this.resumeFrom||tt||E&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Q={...Ng(P,"layout"),onPlay:G,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q),this.setAnimationOrigin(v,tt)}else E||cE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GV),this.nodes.forEach(zV),this.nodes.forEach(jV)):this.nodes.forEach(uE),this.clearAllSnapshots();const d=pn.now();Ye.delta=rs(0,1e3/60,d-Ye.timestamp),Ye.timestamp=d,Ye.isProcessing=!0,Km.update.process(Ye),Km.preRender.process(Ye),Km.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HV),this.sharedNodes.forEach(XV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Ab(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||Xr(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),JV(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ge();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tM))){const{scroll:g}=this.root;g&&(fo(d.x,g.offset.x),fo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ge();if(Bn(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&Bn(d,c),fo(d.x,v.offset.x),fo(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const p=ge();Bn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&mo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Xr(v.latestValues)&&mo(p,v.latestValues)}return Xr(this.latestValues)&&mo(p,this.latestValues),p}removeTransform(c){const d=ge();Bn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Xr(g.latestValues))continue;Np(g.latestValues)&&g.updateSnapshot();const v=ge(),E=g.measurePageBox();Bn(v,E),nE(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Xr(this.latestValues)&&nE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),fu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),ib(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),fu(this.relativeTargetOrigin,this.target,A.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Np(this.parent.latestValues)||nb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;v2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ge());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JT(this.prevProjectionDelta.x,this.projectionDelta.x),JT(this.prevProjectionDelta.y,this.projectionDelta.y)),hu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!oE(this.projectionDelta.x,this.prevProjectionDelta.x)||!oE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ge(),I=p?p.source:void 0,P=this.layout?this.layout.source:void 0,G=I!==P,F=this.getStack(),W=!F||F.members.length<=1,tt=!!(G&&!W&&this.options.crossfade===!0&&!this.path.some(WV));this.animationProgress=0;let Q;this.mixTargetDelta=st=>{const nt=st/1e3;hE(E.x,c.x,nt),hE(E.y,c.y,nt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fu(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$V(this.relativeTarget,this.relativeTargetOrigin,A,nt),Q&&PV(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ge()),Bn(Q,this.relativeTarget)),G&&(this.animationValues=v,DV(v,g,this.latestValues,nt,tt,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wo(0)),this.currentAnimation=bV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&Rb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ge();const E=cn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=cn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}Bn(d,p),mo(d,v),hu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new kV),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&sp("z",c,g,this.animationValues);for(let v=0;v<ip.length;v++)sp(`rotate${ip[v]}`,c,g,this.animationValues),sp(`skew${ip[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Oh(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Oh(d?.pointerEvents)||""),this.hasProjected&&!Xr(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=LV(this.projectionDeltaWithTransform,this.treeScale,v);p&&(E=p(v,E)),c.transform=E;const{x:A,y:I}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${I.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const P in Su){if(v[P]===void 0)continue;const{correct:G,applyTo:F,isCSSVariable:W}=Su[P],tt=E==="none"?v[P]:G(v[P],g);if(F){const Q=F.length;for(let st=0;st<Q;st++)c[F[st]]=tt}else W?this.options.visualElement.renderState.vars[P]=tt:c[P]=tt}this.options.layoutId&&(c.pointerEvents=g===this?Oh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(lE),this.root.sharedNodes.clear()}}}function zV(n){n.updateLayout()}function jV(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:s}=n.layout,{animationType:o}=n.options,u=t.source!==n.layout.source;o==="size"?zn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=cn(E);E.min=e[v].min,E.max=E.min+A}):Rb(o,t.layoutBox,e)&&zn(v=>{const E=u?t.measuredBox[v]:t.layoutBox[v],A=cn(e[v]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+A)});const c=po();hu(c,e,t.layoutBox);const d=po();u?hu(d,n.applyTransform(s,!0),t.measuredBox):hu(d,e,t.layoutBox);const p=!Ab(c);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:A}=v;if(E&&A){const I=ge();fu(I,t.layoutBox,E.layoutBox);const P=ge();fu(P,e,A.layoutBox),Sb(I,P)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=I,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function qV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function FV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function HV(n){n.clearSnapshot()}function lE(n){n.clearMeasurements()}function uE(n){n.isLayoutDirty=!1}function GV(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function cE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function KV(n){n.resolveTargetDelta()}function YV(n){n.calcProjection()}function QV(n){n.resetSkewAndRotation()}function XV(n){n.removeLeadSnapshot()}function hE(n,t,e){n.translate=oe(t.translate,0,e),n.scale=oe(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function fE(n,t,e,s){n.min=oe(t.min,e.min,s),n.max=oe(t.max,e.max,s)}function $V(n,t,e,s){fE(n.x,t.x,e.x,s),fE(n.y,t.y,e.y,s)}function WV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ZV={duration:.45,ease:[.4,0,.1,1]},dE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),mE=dE("applewebkit/")&&!dE("chrome/")?Math.round:Fn;function pE(n){n.min=mE(n.min),n.max=mE(n.max)}function JV(n){pE(n.x),pE(n.y)}function Rb(n,t,e){return n==="position"||n==="preserve-aspect"&&!rV(aE(t),aE(e),.2)}function tM(n){return n!==n.root&&n.scroll?.wasRoot}const eM=wb({attachResizeListener:(n,t)=>bu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rp={current:void 0},Cb=wb({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rp.current){const n=new eM({});n.mount(window),n.setOptions({layoutScroll:!0}),rp.current=n}return rp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nM={pan:{Feature:TV},drag:{Feature:_V,ProjectionNode:Cb,MeasureLayout:_b}};function gE(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,u=s[o];u&&re.postRender(()=>u(t,ju(t)))}class iM extends cr{mount(){const{current:t}=this.node;t&&(this.unmount=RD(t,(e,s)=>(gE(this.node,s,"Start"),o=>gE(this.node,o,"End"))))}unmount(){}}class sM extends cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yE(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const o="onTap"+(e==="End"?"":e),u=s[o];u&&re.postRender(()=>u(t,ju(t)))}class rM extends cr{mount(){const{current:t}=this.node;t&&(this.unmount=VD(t,(e,s)=>(yE(this.node,s,"Start"),(o,{success:u})=>yE(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zp=new WeakMap,ap=new WeakMap,aM=n=>{const t=zp.get(n.target);t&&t(n)},oM=n=>{n.forEach(aM)};function lM({root:n,...t}){const e=n||document;ap.has(e)||ap.set(e,{});const s=ap.get(e),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(oM,{root:n,...t})),s[o]}function uM(n,t,e){const s=lM(t);return zp.set(n,e),s.observe(n),()=>{zp.delete(n),s.unobserve(n)}}const cM={some:0,all:1};class hM extends cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:o="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:cM[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),A=g?v:E;A&&A(p)};return uM(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(fM(t,e))&&this.startObserver()}unmount(){}}function fM({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const dM={inView:{Feature:hM},tap:{Feature:rM},focus:{Feature:sM},hover:{Feature:iM}},mM={layout:{ProjectionNode:Cb,MeasureLayout:_b}},pM={...J2,...dM,...nM,...mM},wu=p2(pM,I2),gM=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},yM=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const o=n[e++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],c=n[e++],d=n[e++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},Db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(A=64)),s.push(e[v],e[E],e[A],e[I])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ib(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):yM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],d=o<n.length?e[n.charAt(o)]:0;++o;const g=o<n.length?e[n.charAt(o)]:64;++o;const E=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new vM;const A=u<<2|d>>4;if(s.push(A),g!==64){const I=d<<4&240|g>>2;if(s.push(I),E!==64){const P=g<<6&192|E;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _M=function(n){const t=Ib(n);return Db.encodeByteArray(t,!0)},Wh=function(n){return _M(n).replace(/\./g,"")},Vb=function(n){try{return Db.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=()=>TM().__FIREBASE_DEFAULTS__,AM=()=>{if(typeof process>"u"||typeof vE>"u")return;const n=vE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},SM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Vb(n[1]);return t&&JSON.parse(t)},Ef=()=>{try{return gM()||EM()||AM()||SM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mb=n=>Ef()?.emulatorHosts?.[n],bM=n=>{const t=Mb(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},xb=()=>Ef()?.config,Nb=n=>Ef()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ob(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wh(JSON.stringify(e)),Wh(JSON.stringify(c)),""].join(".")}const du={};function CM(){const n={prod:[],emulator:[]};for(const t of Object.keys(du))du[t]?n.emulator.push(t):n.prod.push(t);return n}function IM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let _E=!1;function Pb(n,t){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||du[n]===t||du[n]||_E)return;du[n]=t;function e(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=CM().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{_E=!0,c()},A}function v(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=IM(s),I=e("text"),P=document.getElementById(I)||document.createElement("span"),G=e("learnmore"),F=document.getElementById(G)||document.createElement("a"),W=e("preprendIcon"),tt=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Q=A.element;d(Q),v(F,G);const st=g();p(tt,W),Q.append(tt,P,F,st),document.body.appendChild(Q)}u?(P.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function VM(){const n=Ef()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OM(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PM(){return!VM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kM(){try{return typeof indexedDB=="object"}catch{return!1}}function LM(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="FirebaseError";class fs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=UM,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?BM(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new fs(o,d,s)}}function BM(n,t){return n.replace(zM,(e,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const zM=/\{\$([^}]+)}/g;function jM(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function sa(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const o of e){if(!s.includes(o))return!1;const u=n[o],c=t[o];if(TE(u)&&TE(c)){if(!sa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!e.includes(o))return!1;return!0}function TE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function qM(n,t){const e=new FM(n,t);return e.subscribe.bind(e)}class FM{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let o;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");HM(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:s},o.next===void 0&&(o.next=op),o.error===void 0&&(o.error=op),o.complete===void 0&&(o.complete=op);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HM(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){return n&&n._delegate?n._delegate:n}class ra{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new wM;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YM(t))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=$r){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$r){return this.instances.has(t)}getOptions(t=$r){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const o of s)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KM(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=$r){return this.component?this.component.multipleInstances?t:$r:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KM(n){return n===$r?void 0:n}function YM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new GM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const XM={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},$M=Nt.INFO,WM={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},ZM=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),o=WM[t];if(o)console[o](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yg{constructor(t){this.name=t,this._logLevel=$M,this._logHandler=ZM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const JM=(n,t)=>t.some(e=>n instanceof e);let EE,AE;function tx(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ex(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,jp=new WeakMap,Lb=new WeakMap,lp=new WeakMap,Qg=new WeakMap;function nx(n){const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Xs(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&kb.set(e,n)}).catch(()=>{}),Qg.set(t,n),t}function ix(n){if(jp.has(n))return;const t=new Promise((e,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});jp.set(n,t)}let qp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return jp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Lb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Xs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function sx(n){qp=n(qp)}function rx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(up(this),t,...e);return Lb.set(s,t.sort?t.sort():[t]),Xs(s)}:ex().includes(n)?function(...t){return n.apply(up(this),t),Xs(kb.get(this))}:function(...t){return Xs(n.apply(up(this),t))}}function ax(n){return typeof n=="function"?rx(n):(n instanceof IDBTransaction&&ix(n),JM(n,tx())?new Proxy(n,qp):n)}function Xs(n){if(n instanceof IDBRequest)return nx(n);if(lp.has(n))return lp.get(n);const t=ax(n);return t!==n&&(lp.set(n,t),Qg.set(t,n)),t}const up=n=>Qg.get(n);function ox(n,t,{blocked:e,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),d=Xs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Xs(c.result),p.oldVersion,p.newVersion,Xs(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const lx=["get","getKey","getAll","getAllKeys","count"],ux=["put","add","delete","clear"],cp=new Map;function SE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(cp.get(t))return cp.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,o=ux.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lx.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),o&&p.done]))[0]};return cp.set(t,u),u}sx(n=>({...n,get:(t,e,s)=>SE(t,e)||n.get(t,e,s),has:(t,e)=>!!SE(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(hx(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function hx(n){return n.getComponent()?.type==="VERSION"}const Fp="@firebase/app",bE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Yg("@firebase/app"),fx="@firebase/app-compat",dx="@firebase/analytics-compat",mx="@firebase/analytics",px="@firebase/app-check-compat",gx="@firebase/app-check",yx="@firebase/auth",vx="@firebase/auth-compat",_x="@firebase/database",Tx="@firebase/data-connect",Ex="@firebase/database-compat",Ax="@firebase/functions",Sx="@firebase/functions-compat",bx="@firebase/installations",wx="@firebase/installations-compat",Rx="@firebase/messaging",Cx="@firebase/messaging-compat",Ix="@firebase/performance",Dx="@firebase/performance-compat",Vx="@firebase/remote-config",Mx="@firebase/remote-config-compat",xx="@firebase/storage",Nx="@firebase/storage-compat",Ox="@firebase/firestore",Px="@firebase/ai",kx="@firebase/firestore-compat",Lx="firebase",Ux="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",Bx={[Fp]:"fire-core",[fx]:"fire-core-compat",[mx]:"fire-analytics",[dx]:"fire-analytics-compat",[gx]:"fire-app-check",[px]:"fire-app-check-compat",[yx]:"fire-auth",[vx]:"fire-auth-compat",[_x]:"fire-rtdb",[Tx]:"fire-data-connect",[Ex]:"fire-rtdb-compat",[Ax]:"fire-fn",[Sx]:"fire-fn-compat",[bx]:"fire-iid",[wx]:"fire-iid-compat",[Rx]:"fire-fcm",[Cx]:"fire-fcm-compat",[Ix]:"fire-perf",[Dx]:"fire-perf-compat",[Vx]:"fire-rc",[Mx]:"fire-rc-compat",[xx]:"fire-gcs",[Nx]:"fire-gcs-compat",[Ox]:"fire-fst",[kx]:"fire-fst-compat",[Px]:"fire-vertex","fire-js":"fire-js",[Lx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,zx=new Map,Gp=new Map;function wE(n,t){try{n.container.addComponent(t)}catch(e){os.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Co(n){const t=n.name;if(Gp.has(t))return os.debug(`There were multiple attempts to register component ${t}.`),!1;Gp.set(t,n);for(const e of Zh.values())wE(e,n);for(const e of zx.values())wE(e,n);return!0}function Xg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Wn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new qu("app","Firebase",jx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Ux;function Ub(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:Hp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw $s.create("bad-app-name",{appName:String(o)});if(e||(e=xb()),!e)throw $s.create("no-options");const u=Zh.get(o);if(u){if(sa(e,u.options)&&sa(s,u.config))return u;throw $s.create("duplicate-app",{appName:o})}const c=new QM(o);for(const p of Gp.values())c.addComponent(p);const d=new qx(e,s,c);return Zh.set(o,d),d}function Bb(n=Hp){const t=Zh.get(n);if(!t&&n===Hp&&xb())return Ub();if(!t)throw $s.create("no-app",{appName:n});return t}function Ws(n,t,e){let s=Bx[n]??n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),os.warn(c.join(" "));return}Co(new ra(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebase-heartbeat-database",Hx=1,Ru="firebase-heartbeat-store";let hp=null;function zb(){return hp||(hp=ox(Fx,Hx,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ru)}catch(e){console.warn(e)}}}}).catch(n=>{throw $s.create("idb-open",{originalErrorMessage:n.message})})),hp}async function Gx(n){try{const e=(await zb()).transaction(Ru),s=await e.objectStore(Ru).get(jb(n));return await e.done,s}catch(t){if(t instanceof fs)os.warn(t.message);else{const e=$s.create("idb-get",{originalErrorMessage:t?.message});os.warn(e.message)}}}async function RE(n,t){try{const s=(await zb()).transaction(Ru,"readwrite");await s.objectStore(Ru).put(t,jb(n)),await s.done}catch(e){if(e instanceof fs)os.warn(e.message);else{const s=$s.create("idb-set",{originalErrorMessage:e?.message});os.warn(s.message)}}}function jb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=1024,Yx=30;class Qx{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new $x(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>Yx){const o=Wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){os.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CE(),{heartbeatsToSend:e,unsentEntries:s}=Xx(this._heartbeatsCache.heartbeats),o=Wh(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return os.warn(t),""}}}function CE(){return new Date().toISOString().substring(0,10)}function Xx(n,t=Kx){const e=[];let s=n.slice();for(const o of n){const u=e.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),IE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),IE(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class $x{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kM()?LM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Gx(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return RE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return RE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function IE(n){return Wh(JSON.stringify({version:2,heartbeats:n})).length}function Wx(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n){Co(new ra("platform-logger",t=>new cx(t),"PRIVATE")),Co(new ra("heartbeat",t=>new Qx(t),"PRIVATE")),Ws(Fp,bE,n),Ws(Fp,bE,"esm2020"),Ws("fire-js","")}Zx("");var Jx="firebase",tN="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(Jx,tN,"app");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,qb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(x,O,L){for(var D=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)D[ve-2]=arguments[ve];return w.prototype[O].apply(x,D)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)x[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;16>O;++O)x[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],O=V.g[2];var L=V.g[3],D=w+(L^R&(O^L))+x[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+x[1]+3905402710&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+x[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+x[3]+3250441966&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+x[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+x[5]+1200080426&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+x[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+x[7]+4249261313&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+x[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+x[9]+2336552879&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+x[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+x[11]+2304563134&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(L^R&(O^L))+x[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=L+(O^w&(R^O))+x[13]+4254626195&4294967295,L=w+(D<<12&4294967295|D>>>20),D=O+(R^L&(w^R))+x[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=R+(w^O&(L^w))+x[15]+1236535329&4294967295,R=O+(D<<22&4294967295|D>>>10),D=w+(O^L&(R^O))+x[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+x[6]+3225465664&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+x[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+x[0]+3921069994&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+x[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+x[10]+38016083&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+x[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+x[4]+3889429448&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+x[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+x[14]+3275163606&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+x[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+x[8]+1163531501&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(O^L&(R^O))+x[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=L+(R^O&(w^R))+x[2]+4243563512&4294967295,L=w+(D<<9&4294967295|D>>>23),D=O+(w^R&(L^w))+x[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=R+(L^w&(O^L))+x[12]+2368359562&4294967295,R=O+(D<<20&4294967295|D>>>12),D=w+(R^O^L)+x[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+x[8]+2272392833&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+x[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+x[14]+4259657740&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+x[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+x[4]+1272893353&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+x[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+x[10]+3200236656&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+x[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+x[0]+3936430074&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+x[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+x[6]+76029189&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(R^O^L)+x[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=L+(w^R^O)+x[12]+3873151461&4294967295,L=w+(D<<11&4294967295|D>>>21),D=O+(L^w^R)+x[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=R+(O^L^w)+x[2]+3299628645&4294967295,R=O+(D<<23&4294967295|D>>>9),D=w+(O^(R|~L))+x[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+x[7]+1126891415&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+x[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+x[5]+4237533241&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+x[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+x[3]+2399980690&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+x[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+x[1]+2240044497&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+x[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+x[15]+4264355552&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+x[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+x[13]+1309151649&4294967295,R=O+(D<<21&4294967295|D>>>11),D=w+(O^(R|~L))+x[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=L+(R^(w|~O))+x[11]+3174756917&4294967295,L=w+(D<<10&4294967295|D>>>22),D=O+(w^(L|~R))+x[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=R+(L^(O|~w))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,x=this.B,O=this.h,L=0;L<w;){if(O==0)for(;L<=R;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<w;)if(x[O++]=V.charCodeAt(L++),O==this.blockSize){o(this,x),O=0;break}}else for(;L<w;)if(x[O++]=V[L++],O==this.blockSize){o(this,x),O=0;break}}this.h=O,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)V[R++]=this.g[w]>>>x&255;return V};function u(V,w){var R=d;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function c(V,w){this.h=w;for(var R=[],x=!0,O=V.length-1;0<=O;O--){var L=V[O]|0;x&&L==w||(R[O]=L,x=!1)}this.g=R}var d={};function p(V){return-128<=V&&128>V?u(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return F(g(-V));for(var w=[],R=1,x=0;V>=R;x++)w[x]=V/R|0,R*=4294967296;return new c(w,0)}function v(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return F(v(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=E,O=0;O<V.length;O+=8){var L=Math.min(8,V.length-O),D=parseInt(V.substring(O,O+L),w);8>L?(L=g(Math.pow(w,L)),x=x.j(L).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var E=p(0),A=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(G(this))return-F(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);V+=(0<=x?x:4294967296+x)*w,w*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(P(this))return"0";if(G(this))return"-"+F(this).toString(V);for(var w=g(Math.pow(V,6)),R=this,x="";;){var O=st(R,w).g;R=W(R,O.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=O,P(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function P(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function G(V){return V.h==-1}n.l=function(V){return V=W(this,V),G(V)?-1:P(V)?0:1};function F(V){for(var w=V.g.length,R=[],x=0;x<w;x++)R[x]=~V.g[x];return new c(R,~V.h).add(A)}n.abs=function(){return G(this)?F(this):this},n.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],x=0,O=0;O<=w;O++){var L=x+(this.i(O)&65535)+(V.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);x=D>>>16,L&=65535,D&=65535,R[O]=D<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function W(V,w){return V.add(F(w))}n.j=function(V){if(P(this)||P(V))return E;if(G(this))return G(V)?F(this).j(F(V)):F(F(this).j(V));if(G(V))return F(this.j(F(V)));if(0>this.l(I)&&0>V.l(I))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<V.g.length;O++){var L=this.i(x)>>>16,D=this.i(x)&65535,ve=V.i(O)>>>16,ee=V.i(O)&65535;R[2*x+2*O]+=D*ee,tt(R,2*x+2*O),R[2*x+2*O+1]+=L*ee,tt(R,2*x+2*O+1),R[2*x+2*O+1]+=D*ve,tt(R,2*x+2*O+1),R[2*x+2*O+2]+=L*ve,tt(R,2*x+2*O+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new c(R,0)};function tt(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Q(V,w){this.g=V,this.h=w}function st(V,w){if(P(w))throw Error("division by zero");if(P(V))return new Q(E,E);if(G(V))return w=st(F(V),w),new Q(F(w.g),F(w.h));if(G(w))return w=st(V,F(w)),new Q(F(w.g),w.h);if(30<V.g.length){if(G(V)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=w;0>=x.l(V);)R=nt(R),x=nt(x);var O=ut(R,1),L=ut(x,1);for(x=ut(x,2),R=ut(R,2);!P(x);){var D=L.add(x);0>=D.l(V)&&(O=O.add(R),L=D),x=ut(x,1),R=ut(R,1)}return w=W(V,O.j(w)),new Q(O,w)}for(O=E;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=g(R),D=L.j(w);G(D)||0<D.l(V);)R-=x,L=g(R),D=L.j(w);P(L)&&(L=A),O=O.add(L),V=W(V,D)}return new Q(O,V)}n.A=function(V){return st(this,V).h},n.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&V.i(x);return new c(R,this.h&V.h)},n.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|V.i(x);return new c(R,this.h|V.h)},n.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^V.i(x);return new c(R,this.h^V.h)};function nt(V){for(var w=V.g.length+1,R=[],x=0;x<w;x++)R[x]=V.i(x)<<1|V.i(x-1)>>>31;return new c(R,V.h)}function ut(V,w){var R=w>>5;w%=32;for(var x=V.g.length-R,O=[],L=0;L<x;L++)O[L]=0<w?V.i(L+R)>>>w|V.i(L+R+1)<<32-w:V.i(L+R);return new c(O,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Zs=c}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fb,iu,Hb,kh,Kp,Gb,Kb,Yb;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function o(h,y){if(y)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in _))break t;_=_[U]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,b=!1,U={next:function(){if(!b&&_<h.length){var H=_++;return{value:y(H,h[H]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),h.apply(y,U)}}return function(){return h.apply(y,arguments)}}function A(h,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,A.apply(null,arguments)}function I(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function P(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,U,H){for(var at=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)at[kt-2]=arguments[kt];return y.prototype[U].apply(b,at)}}function G(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function F(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=h.length||0,H=b.length||0;h.length=U+H;for(let at=0;at<H;at++)h[U+at]=b[at]}else h.push(b)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function tt(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function st(h){return st[" "](h),h}st[" "]=function(){};var nt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ut(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function V(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)h[_]=b[_];for(let H=0;H<R.length;H++)_=R[H],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function O(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Ct;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const b=ee.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new W(()=>new K,h=>h.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ht=!1,Ct=new ve,M=()=>{const h=d.Promise.resolve(void 0);it=()=>{h.then(et)}};var et=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){L(_)}var y=ee;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ht=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Dt(h,y){if(rt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(nt){t:{try{st(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}P(Dt,rt);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function ei(h,y,_,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function ds(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vi(h){this.src=h,this.g={},this.h=0}Vi.prototype.add=function(h,y,_,b,U){var H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);var at=fr(h,y,b,U);return-1<at?(y=h[at],_||(y.fa=!1)):(y=new ei(y,this.src,H,!!b,U),y.fa=_,h.push(y)),y};function hr(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],U=Array.prototype.indexOf.call(b,y,void 0),H;(H=0<=U)&&Array.prototype.splice.call(b,U,1),H&&(ds(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function fr(h,y,_,b){for(var U=0;U<h.length;++U){var H=h[U];if(!H.da&&H.listener==y&&H.capture==!!_&&H.ha==b)return U}return-1}var dr="closure_lm_"+(1e6*Math.random()|0),Go={};function Zu(h,y,_,b,U){if(Array.isArray(y)){for(var H=0;H<y.length;H++)Zu(h,y[H],_,b,U);return null}return _=Ju(_),h&&h[Pe]?h.K(y,_,g(b)?!!b.capture:!1,U):Rn(h,y,_,!1,b,U)}function Rn(h,y,_,b,U,H){if(!y)throw Error("Invalid event type");var at=g(U)?!!U.capture:!!U,kt=pa(h);if(kt||(h[dr]=kt=new Vi(h)),_=kt.add(y,_,b,at,H),_.proxy)return _;if(b=Bf(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)gt||(U=at),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(mr(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bf(){function h(_){return y.call(h.src,h.listener,_)}const y=zf;return h}function Ko(h,y,_,b,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)Ko(h,y[H],_,b,U);else b=g(b)?!!b.capture:!!b,_=Ju(_),h&&h[Pe]?(h=h.i,y=String(y).toString(),y in h.g&&(H=h.g[y],_=fr(H,_,b,U),-1<_&&(ds(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete h.g[y],h.h--)))):h&&(h=pa(h))&&(y=h.g[y.toString()],h=-1,y&&(h=fr(y,_,b,U)),(_=-1<h?y[h]:null)&&ma(_))}function ma(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pe])hr(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent(mr(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=pa(y))?(hr(_,h),_.h==0&&(_.src=null,y[dr]=null)):ds(h)}}}function mr(h){return h in Go?Go[h]:Go[h]="on"+h}function zf(h,y){if(h.da)h=!0;else{y=new Dt(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&ma(h),h=_.call(b,y)}return h}function pa(h){return h=h[dr],h instanceof Vi?h:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ju(h){return typeof h=="function"?h:(h[Yo]||(h[Yo]=function(y){return h.handleEvent(y)}),h[Yo])}function ue(){lt.call(this),this.i=new Vi(this),this.M=this,this.F=null}P(ue,lt),ue.prototype[Pe]=!0,ue.prototype.removeEventListener=function(h,y,_,b){Ko(this,h,y,_,b)};function Ht(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new rt(y,h);else if(y instanceof rt)y.target=y.target||h;else{var U=y;y=new rt(b,h),x(y,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var at=y.g=_[H];U=gn(at,b,!0,y)&&U}if(at=y.g=h,U=gn(at,b,!0,y)&&U,U=gn(at,b,!1,y)&&U,_)for(H=0;H<_.length;H++)at=y.g=_[H],U=gn(at,b,!1,y)&&U}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)ds(_[b]);delete h.g[y],h.h--}}this.F=null},ue.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},ue.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function gn(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,H=0;H<y.length;++H){var at=y[H];if(at&&!at.da&&at.capture==_){var kt=at.listener,Ie=at.ha||at.src;at.fa&&hr(h.i,at),U=kt.call(Ie,b)!==!1&&U}}return U&&!b.defaultPrevented}function We(h,y,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function tc(h){h.g=We(()=>{h.g=null,h.i&&(h.i=!1,tc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class jf extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:tc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(h){lt.call(this),this.h=h,this.g={}}P(pr,lt);var gr=[];function yr(h){ut(h.g,function(y,_){this.g.hasOwnProperty(_)&&ma(y)},h),h.g={}}pr.prototype.N=function(){pr.aa.N.call(this),yr(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=d.JSON.stringify,ga=d.JSON.parse,vr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Qo(){}Qo.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function $o(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){rt.call(this,"d")}P(xi,rt);function Wo(){rt.call(this,"c")}P(Wo,rt);var ni={},Zo=null;function ms(){return Zo=Zo||new ue}ni.La="serverreachability";function ya(h){rt.call(this,ni.La,h)}P(ya,rt);function ps(h){const y=ms();Ht(y,new ya(y))}ni.STAT_EVENT="statevent";function ec(h,y){rt.call(this,ni.STAT_EVENT,h),this.stat=y}P(ec,rt);function ie(h){const y=ms();Ht(y,new ec(y,h))}ni.Ma="timingevent";function Ce(h,y){rt.call(this,ni.Ma,h),this.size=y}P(Ce,rt);function _e(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Jo(h,y,_,b,U,H){h.info(function(){if(h.g)if(H)for(var at="",kt=H.split("&"),Ie=0;Ie<kt.length;Ie++){var Lt=kt[Ie].split("=");if(1<Lt.length){var Le=Lt[0];Lt=Lt[1];var De=Le.split("_");at=2<=De.length&&De[1]=="type"?at+(Le+"="+Lt+"&"):at+(Le+"=redacted&")}}else at=null;else at=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+at})}function qf(h,y,_,b,U,H,at){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+H+" "+at})}function gs(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+_r(h,_)+(b?" "+b:"")})}function nc(h,y){h.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function _r(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var at=1;at<U.length;at++)U[at]=""}}}}return Hn(_)}catch{return y}}var ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function si(){}P(si,Qo),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ii=new si;function an(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var tl={},va={};function Gn(h,y,_){h.L=1,h.v=br(yn(y)),h.m=_,h.P=!0,Oi(h,null)}function Oi(h,y){h.F=Date.now(),Tr(h),h.A=yn(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),al(_.i,"t",b),h.C=0,_=h.j.J,h.h=new de,h.g=vc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new jf(A(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(gr[0]=U.toString()),U=gr);for(var H=0;H<U.length;H++){var at=Zu(_,U[H],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ps(),Jo(h.i,h.u,h.A,h.l,h.R,h.m)}an.prototype.ca=function(h){h=h.target;const y=this.M;y&&Mn(h)==3?y.j():this.Y(h)},an.prototype.Y=function(h){try{if(h==this.g)t:{const De=Mn(this.g);var y=this.g.Ba();const qi=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||cc(this.g)))){this.J||De!=4||y==7||(y==8||0>=qi?ps(3):ps(2)),vs(this);var _=this.g.Z();this.X=_;e:if(ic(this)){var b=cc(this.g);h="";var U=b.length,H=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),ri(this);var at="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(H&&y==U-1)});b.length=0,this.h.g+=h,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,qf(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ie=this.g;if((kt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(kt)){var Lt=kt;break e}}Lt=null}if(_=Lt)gs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Er(this,_);else{this.o=!1,this.s=3,ie(12),qe(this),ri(this);break t}}if(this.P){_=!0;let Fe;for(;!this.J&&this.C<at.length;)if(Fe=sc(this,at),Fe==va){De==4&&(this.s=4,ie(14),_=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==tl){this.s=4,ie(15),gs(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else gs(this.i,this.l,Fe,null),Er(this,Fe);if(ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||at.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)gs(this.i,this.l,at,"[Invalid Chunked Response]"),qe(this),ri(this);else if(0<at.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),xr(Le),Le.M=!0,ie(11))}}else gs(this.i,this.l,at,null),Er(this,at);De==4&&qe(this),this.o&&!this.J&&(De==4?pc(this.j,this):(this.o=!1,Tr(this)))}else Yf(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),qe(this),ri(this)}}}catch{}finally{}};function ic(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function sc(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?va:(_=Number(y.substring(_,b)),isNaN(_)?tl:(b+=1,b+_>y.length?va:(y=y.slice(b,b+_),h.C=b+_,y)))}an.prototype.cancel=function(){this.J=!0,qe(this)};function Tr(h){h.S=Date.now()+h.I,rc(h,h.I)}function rc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_e(A(h.ba,h),y)}function vs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}an.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(nc(this.i,this.A),this.L!=2&&(ps(),ie(17)),qe(this),this.s=2,ri(this)):rc(this,this.S-h)};function ri(h){h.j.G==0||h.J||pc(h.j,h)}function qe(h){vs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,yr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Er(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||el(_.h,h))){if(!h.K&&el(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Va(_),Ia(_);else break t;hl(_),ie(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(A(_.Za,_),6e3));if(1>=Ta(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((h.K||_.g==h)&&Va(_),!tt(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Lt=U[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const Le=Lt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const De=Lt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const qi=Lt[5];qi!=null&&typeof qi=="number"&&0<qi&&(b=1.5*qi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Fe=h.g;if(Fe){const fi=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var H=b.h;H.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ea(H,H.h),H.h=null))}if(b.D){const dl=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(b.ya=dl,Yt(b.I,b.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=h;if(b.qa=yc(b,b.J?b.ia:null,b.W),at.K){on(b.h,at);var kt=at,Ie=b.L;Ie&&(kt.I=Ie),kt.B&&(vs(kt),Tr(kt)),b.g=at}else dc(b);0<_.i.length&&Da(_)}else Lt[0]!="stop"&&Lt[0]!="close"||ji(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ji(_,7):ul(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}ps(4)}catch{}}var ac=class{constructor(h,y){this.g=h,this.map=y}};function Pi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _a(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ta(h){return h.h?1:h.g?h.g.size:0}function el(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ea(h,y){h.g?h.g.add(y):h.h=y}function on(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Pi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return G(h.i)}function Ff(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function Aa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function il(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Aa(h),b=Ff(h),U=b.length,H=0;H<U;H++)y.call(void 0,b[H],_&&_[H],h)}var Ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),U=null;if(0<=b){var H=h[_].substring(0,b);U=h[_].substring(b+1)}else H=h[_];y(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Te(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Te){this.h=h.h,Sr(this,h.j),this.o=h.o,this.g=h.g,_s(this,h.s),this.l=h.l;var y=h.i,_=new Li;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ki(this,_),this.m=h.m}else h&&(y=String(h).match(Ar))?(this.h=!1,Sr(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),_s(this,y[4]),this.l=In(y[5]||"",!0),ki(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}Te.prototype.toString=function(){var h=[],y=this.j;y&&h.push(wr(y,sl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(wr(y,sl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(wr(_,_.charAt(0)=="/"?Gf:rl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",wr(_,Sa)),h.join("")};function yn(h){return new Te(h)}function Sr(h,y,_){h.j=_?In(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function _s(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ki(h,y,_){y instanceof Li?(h.i=y,lc(h.i,h.h)):(_||(y=wr(y,Kf)),h.i=new Li(y,h.h))}function Yt(h,y,_){h.i.set(y,_)}function br(h){return Yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function In(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function wr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,oc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function oc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var sl=/[#\/\?@]/g,rl=/[#\?:]/g,Gf=/[#\?]/g,Kf=/[#\?@]/g,Sa=/#/g;function Li(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Hf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Li.prototype,n.add=function(h,y){Dn(this),this.i=null,h=ai(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Ui(h,y){Dn(h),y=ai(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Bi(h,y){return Dn(h),y=ai(h,y),h.g.has(y)}n.forEach=function(h,y){Dn(this),this.g.forEach(function(_,b){_.forEach(function(U){h.call(y,U,b,this)},this)},this)},n.na=function(){Dn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=h[b];for(let H=0;H<U.length;H++)_.push(y[b])}return _},n.V=function(h){Dn(this);let y=[];if(typeof h=="string")Bi(this,h)&&(y=y.concat(this.g.get(ai(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Dn(this),this.i=null,h=ai(this,h),Bi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function al(h,y,_){Ui(h,y),0<_.length&&(h.i=null,h.g.set(ai(h,y),G(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const H=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var U=H;at[b]!==""&&(U+="="+encodeURIComponent(String(at[b]))),h.push(U)}}return this.i=h.join("&")};function ai(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function lc(h,y){y&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Ui(this,b),al(this,U,_))},h)),h.j=y}function Rr(h,y){const _=new Cn;if(d.Image){const b=new Image;b.onload=I(Vn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=I(Vn,_,"TestLoadImage: error",!1,y,b),b.onabort=I(Vn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=I(Vn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Kn(h,y){const _=new Cn,b=new AbortController,U=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vn(_,"TestPingServer: error",!1,y)})}function Vn(h,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Cr(){this.g=new vr}function oi(h,y,_){const b=_||"";try{il(h,function(U,H){let at=U;g(U)&&(at=Hn(U)),y.push(b+H+"="+encodeURIComponent(at))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function Ts(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Ts,Qo),Ts.prototype.g=function(){return new zi(this.l,this.j)},Ts.prototype.i=function(h){return function(){return h}}({});function zi(h,y){ue.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(zi,ue),n=zi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ui(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?li(this):ui(this),this.readyState==3&&ol(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,li(this))},n.Qa=function(h){this.g&&(this.response=h,li(this))},n.ga=function(){this.g&&li(this)};function li(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ui(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ll(h){let y="";return ut(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function ke(h,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=ll(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Yt(h,y,_))}function qt(h){ue.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(qt,ue);var ba=/^https?$/i,Ir=["POST","PUT"];n=qt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?Xo(this.o):Xo(ii),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){uc(this,H);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())_.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ir,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of _)this.g.setRequestHeader(H,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dr(this),this.u=!0,this.g.send(h),this.u=!1}catch(H){uc(this,H)}};function uc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,wa(h),ci(h)}function wa(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ht(this,"complete"),Ht(this,"abort"),ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),qt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},n.bb=function(){Ra(this)};function Ra(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)We(h.Ea,0,h);else if(Ht(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const at=h.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=at===0){var U=String(h.D).match(Ar)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),b=!ba.test(U?U.toLowerCase():"")}_=b}if(_)Ht(h,"complete"),Ht(h,"success");else{h.m=6;try{var H=2<Mn(h)?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.Z()+"]",wa(h)}}finally{ci(h)}}}}function ci(h,y){if(h.g){Dr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ht(h,"ready");try{_.onreadystatechange=b}catch{}}}function Dr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),ga(y)}};function cc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Yf(h){const y={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(tt(h[b]))continue;var _=O(h[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=y[U]||[];y[U]=H,H.push(_)}V(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ca(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,h),this.cb=Vr("retryDelaySeedMs",1e4,h),this.Wa=Vr("forwardChannelMaxRetries",2,h),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(h&&h.concurrentRequestLimit),this.Da=new Cr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ca.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,b){ie(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=yc(this,null,this.W),Da(this)};function ul(h){if(hc(h),h.G==3){var y=h.U++,_=yn(h.I);if(Yt(_,"SID",h.K),Yt(_,"RID",y),Yt(_,"TYPE","terminate"),Mr(h,_),y=new an(h,h.j,y),y.L=2,y.v=br(yn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=vc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Tr(y)}gc(h)}function Ia(h){h.g&&(xr(h),h.g.cancel(),h.g=null)}function hc(h){Ia(h),h.u&&(d.clearTimeout(h.u),h.u=null),Va(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Da(h){if(!_a(h.h)&&!h.s){h.s=!0;var y=h.Ga;it||M(),ht||(it(),ht=!0),Ct.add(y,h),h.B=0}}function Qf(h,y){return Ta(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_e(A(h.Ga,h,y),fl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new an(this,this.j,h);let H=this.o;if(this.S&&(H?(H=w(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=fc(this,U,y),_=yn(this.I),Yt(_,"RID",h),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),Mr(this,_),H&&(this.O?y="headers="+encodeURIComponent(String(ll(H)))+"&"+y:this.m&&ke(_,this.m,H)),Ea(this.h,U),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",y),Yt(_,"SID","null"),U.T=!0,Gn(U,_,null)):Gn(U,_,y),this.G=2}}else this.G==3&&(h?cl(this,h):this.i.length==0||_a(this.h)||cl(this))};function cl(h,y){var _;y?_=y.l:_=h.U++;const b=yn(h.I);Yt(b,"SID",h.K),Yt(b,"RID",_),Yt(b,"AID",h.T),Mr(h,b),h.m&&h.o&&ke(b,h.m,h.o),_=new an(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=fc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ea(h.h,_),Gn(_,b,y)}function Mr(h,y){h.H&&ut(h.H,function(_,b){Yt(y,b,_)}),h.l&&il({},function(_,b){Yt(y,b,_)})}function fc(h,y,_){_=Math.min(h.i.length,_);var b=h.l?A(h.l.Na,h.l,h):null;t:{var U=h.i;let H=-1;for(;;){const at=["count="+_];H==-1?0<_?(H=U[0].g,at.push("ofs="+H)):H=0:at.push("ofs="+H);let kt=!0;for(let Ie=0;Ie<_;Ie++){let Lt=U[Ie].g;const Le=U[Ie].map;if(Lt-=H,0>Lt)H=Math.max(0,U[Ie].g-100),kt=!1;else try{oi(Le,at,"req"+Lt+"_")}catch{b&&b(Le)}}if(kt){b=at.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,b}function dc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;it||M(),ht||(it(),ht=!0),Ct.add(y,h),h.v=0}}function hl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_e(A(h.Fa,h),fl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_e(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Ia(this),mc(this))};function xr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function mc(h){h.g=new an(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=yn(h.qa);Yt(y,"RID","rpc"),Yt(y,"SID",h.K),Yt(y,"AID",h.T),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Yt(y,"TO",h.ja),Yt(y,"TYPE","xmlhttp"),Mr(h,y),h.m&&h.o&&ke(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=br(yn(y)),_.m=null,_.P=!0,Oi(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ia(this),hl(this),ie(19))};function Va(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function pc(h,y){var _=null;if(h.g==y){Va(h),xr(h),h.g=null;var b=2}else if(el(h.h,y))_=y.D,on(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=h.B;b=ms(),Ht(b,new Ce(b,_)),Da(h)}else dc(h);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&Qf(h,y)||b==2&&hl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),U){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function fl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function ji(h,y){if(h.j.info("Error code "+y),y==2){var _=A(h.fb,h),b=h.Xa;const U=!b;b=new Te(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Sr(b,"https"),br(b),U?Rr(b.toString(),_):Kn(b.toString(),_)}else ie(2);h.G=0,h.l&&h.l.sa(y),gc(h),hc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function gc(h){if(h.G=0,h.ka=[],h.l){const y=nl(h.h);(y.length!=0||h.i.length!=0)&&(F(h.ka,y),F(h.ka,h.i),h.h.i.length=0,G(h.i),h.i.length=0),h.l.ra()}}function yc(h,y,_){var b=_ instanceof Te?yn(_):new Te(_);if(b.g!="")y&&(b.g=y+"."+b.g),_s(b,b.s);else{var U=d.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var H=new Te(null);b&&Sr(H,b),y&&(H.g=y),U&&_s(H,U),_&&(H.l=_),b=H}return _=h.D,y=h.ya,_&&y&&Yt(b,_,y),Yt(b,"VER",h.la),Mr(h,b),b}function vc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new qt(new Ts({eb:_})):new qt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _c(){}n=_c.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ma(){}Ma.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){ue.call(this),this.g=new Ca(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!tt(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!tt(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new hi(this)}P(ln,ue),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Hn(h),h=_);y.i.push(new ac(y.Ya++,h)),y.G==3&&Da(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.aa.N.call(this)};function Tc(h){xi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}P(Tc,xi);function Ec(){Wo.call(this),this.status=1}P(Ec,Wo);function hi(h){this.g=h}P(hi,_c),hi.prototype.ua=function(){Ht(this.g,"a")},hi.prototype.ta=function(h){Ht(this.g,new Tc(h))},hi.prototype.sa=function(h){Ht(this.g,new Ec)},hi.prototype.ra=function(){Ht(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Yb=function(){return new Ma},Kb=function(){return ms()},Gb=ni,Kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,kh=ys,Ni.COMPLETE="complete",Hb=Ni,$o.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,iu=$o,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Fb=qt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",ME="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Yg("@firebase/firestore");function ao(){return aa.logLevel}function ft(n,...t){if(aa.logLevel<=Nt.DEBUG){const e=t.map($g);aa.debug(`Firestore (${Bo}): ${n}`,...e)}}function ls(n,...t){if(aa.logLevel<=Nt.ERROR){const e=t.map($g);aa.error(`Firestore (${Bo}): ${n}`,...e)}}function Io(n,...t){if(aa.logLevel<=Nt.WARN){const e=t.map($g);aa.warn(`Firestore (${Bo}): ${n}`,...e)}}function $g(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,Qb(n,s,e)}function Qb(n,t,e){let s=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw ls(s),new Error(s)}function Ft(n,t,e,s){let o="Unexpected state";typeof e=="string"?o=e:s=e,n||Qb(t,o,s)}function wt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends fs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class nN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class iN{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new Xb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class sN{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rN{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new sN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ft(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new xE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<e&&(s+=t.charAt(o[u]%62))}return s}}function Ot(n,t){return n<t?-1:n>t?1:0}function Yp(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const o=n.charAt(s),u=t.charAt(s);if(o!==u)return fp(o)===fp(u)?Ot(o,u):fp(o)?1:-1}return Ot(n.length,t.length)}const lN=55296,uN=57343;function fp(n){const t=n.charCodeAt(0);return t>=lN&&t<=uN}function Do(n,t,e){return n.length===t.length&&n.every((s,o)=>e(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class vi{constructor(t,e,s){e===void 0?e=0:e>t.length&&_t(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&_t(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++){const u=vi.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return Ot(t.length,e.length)}static compareSegments(t,e){const s=vi.isNumericId(t),o=vi.isNumericId(e);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(t).compare(vi.extractNumericId(e)):Yp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class te extends vi{construct(t,e,s){return new te(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(o=>o.length>0))}return new te(e)}static emptyPath(){return new te([])}}const cN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends vi{construct(t,e,s){return new Xe(t,e,s)}static isValidIdentifier(t){return cN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Xe([NE])}static fromServerFormat(t){const e=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(e)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return te.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n,t,e){if(!e)throw new ct($.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function hN(n,t,e,s){if(t===!0&&s===!0)throw new ct($.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function OE(n){if(!pt.isDocumentKey(n))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PE(n){if(pt.isDocumentKey(n))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Af(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":_t(12329,{type:typeof n})}function vo(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Af(n);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,t){const e={typeString:n};return t&&(e.value=t),e}function Hu(n,t){if(!Wb(n))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){e=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){e=`Expected '${s}' field to equal '${u.value}'`;break}}if(e)throw new ct($.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=-62135596800,LE=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*LE);return new ne(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<kE)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hu(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-kE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ne(0,0))}static max(){return new bt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function fN(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(s===1e9?new ne(e+1,0):new ne(e,s));return new ir(o,pt.empty(),t)}function dN(n){return new ir(n.readTime,n.key,Cu)}class ir{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ir(bt.min(),pt.empty(),Cu)}static max(){return new ir(bt.max(),pt.empty(),Cu)}}function mN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n){if(n.code!==$.FAILED_PRECONDITION||n.message!==pN)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof J?e:J.resolve(e)}catch(e){return J.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):J.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):J.reject(e)}static resolve(t){return new J((e,s)=>{e(t)})}static reject(t){return new J((e,s)=>{s(t)})}static waitFor(t){return new J((e,s)=>{let o=0,u=0,c=!1;t.forEach(d=>{++o,d.next(()=>{++u,c&&u===o&&e()},p=>s(p))}),c=!0,u===o&&e()})}static or(t){let e=J.resolve(!1);for(const s of t)e=e.next(o=>o?J.resolve(o):s());return e}static forEach(t,e){const s=[];return t.forEach((o,u)=>{s.push(e.call(this,o,u))}),this.waitFor(s)}static mapArray(t,e){return new J((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next(v=>{c[g]=v,++d,d===u&&s(c)},v=>o(v))}})}static doWhile(t,e){return new J((s,o)=>{const u=()=>{t()===!0?e().next(()=>{u()},o):s()};u()})}}function yN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=-1;function bf(n){return n==null}function Jh(n){return n===0&&1/n==-1/0}function vN(n){return typeof n=="number"&&Number.isInteger(n)&&!Jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="";function _N(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=UE(t)),t=TN(n.get(e),t);return UE(t)}function TN(n,t){let e=t;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Zb:e+="";break;default:e+=u}}return e}function UE(n){return n+Zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ua(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Jb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,e){this.comparator=t,this.root=e||Qe.EMPTY}insert(t,e){return new le(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return e+s.left.size;o<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ch(this.root,t,this.comparator,!0)}}class Ch{constructor(t,e,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,e,s,o,u){this.key=t,this.value=e,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,o,u){return new Qe(t??this.key,e??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,s),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,e,s,o,u){return this}insert(t,e,s){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new zE(this.data.getIterator())}getIteratorFrom(t){return new zE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Oe(this.comparator);return e.data=t,e}}class zE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new Zn([])}unionWith(t){let e=new Oe(Xe.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Zn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Do(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new t1("Invalid base64 string: "+u):u}}(t);return new $e(e)}static fromUint8Array(t){const e=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(t);return new $e(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const EN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(n){if(Ft(!!n,39018),typeof n=="string"){let t=0;const e=EN.exec(n);if(Ft(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(n.seconds),nanos:ye(n.nanos)}}function ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rr(n){return typeof n=="string"?$e.fromBase64String(n):$e.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",n1="__type__",i1="__previous_value__",s1="__local_write_time__";function Jg(n){return(n?.mapValue?.fields||{})[n1]?.stringValue===e1}function wf(n){const t=n.mapValue.fields[i1];return Jg(t)?wf(t):t}function Iu(n){const t=sr(n.mapValue.fields[s1].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t,e,s,o,u,c,d,p,g,v){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const tf="(default)";class Du{constructor(t,e){this.projectId=t,this.database=e||tf}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===tf}isEqual(t){return t instanceof Du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",SN="__max__",Ih={mapValue:{}},a1="__vector__",ef="value";function ar(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:wN(n)?9007199254740991:bN(n)?10:11:_t(28295,{value:n})}function Di(n,t){if(n===t)return!0;const e=ar(n);if(e!==ar(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Iu(n).isEqual(Iu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=sr(o.timestampValue),d=sr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,u){return rr(o.bytesValue).isEqual(rr(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(n,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ye(o.doubleValue),d=ye(u.doubleValue);return c===d?Jh(c)===Jh(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Do(n.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(BE(c)!==BE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Di(c[p],d[p])))return!1;return!0}(n,t);default:return _t(52216,{left:n})}}function Vu(n,t){return(n.values||[]).find(e=>Di(e,t))!==void 0}function Vo(n,t){if(n===t)return 0;const e=ar(n),s=ar(t);if(e!==s)return Ot(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(u,c){const d=ye(u.integerValue||u.doubleValue),p=ye(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return jE(n.timestampValue,t.timestampValue);case 4:return jE(Iu(n),Iu(t));case 5:return Yp(n.stringValue,t.stringValue);case 6:return function(u,c){const d=rr(u),p=rr(c);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ot(d[g],p[g]);if(v!==0)return v}return Ot(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,c){const d=Ot(ye(u.latitude),ye(c.latitude));return d!==0?d:Ot(ye(u.longitude),ye(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return qE(n.arrayValue,t.arrayValue);case 10:return function(u,c){const d=u.fields||{},p=c.fields||{},g=d[ef]?.arrayValue,v=p[ef]?.arrayValue,E=Ot(g?.values?.length||0,v?.values?.length||0);return E!==0?E:qE(g,v)}(n.mapValue,t.mapValue);case 11:return function(u,c){if(u===Ih.mapValue&&c===Ih.mapValue)return 0;if(u===Ih.mapValue)return 1;if(c===Ih.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const A=Yp(p[E],v[E]);if(A!==0)return A;const I=Vo(d[p[E]],g[v[E]]);if(I!==0)return I}return Ot(p.length,v.length)}(n.mapValue,t.mapValue);default:throw _t(23264,{he:e})}}function jE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=sr(n),s=sr(t),o=Ot(e.seconds,s.seconds);return o!==0?o:Ot(e.nanos,s.nanos)}function qE(n,t){const e=n.values||[],s=t.values||[];for(let o=0;o<e.length&&o<s.length;++o){const u=Vo(e[o],s[o]);if(u)return u}return Ot(e.length,s.length)}function Mo(n){return Qp(n)}function Qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=sr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return rr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return pt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",o=!0;for(const u of e.values||[])o?o=!1:s+=",",s+=Qp(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Qp(e.fields[c])}`;return o+"}"}(n.mapValue):_t(61005,{value:n})}function Lh(n){switch(ar(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wf(n);return t?16+Lh(t):16;case 5:return 2*n.stringValue.length;case 6:return rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Lh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return ua(s.fields,(u,c)=>{o+=u.length+Lh(c)}),o}(n.mapValue);default:throw _t(13486,{value:n})}}function FE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Xp(n){return!!n&&"integerValue"in n}function ty(n){return!!n&&"arrayValue"in n}function HE(n){return!!n&&"nullValue"in n}function GE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uh(n){return!!n&&"mapValue"in n}function bN(n){return(n?.mapValue?.fields||{})[r1]?.stringValue===a1}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ua(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=mu(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mu(n.arrayValue.values[e]);return t}return{...n}}function wN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.value=t}static empty(){return new jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Uh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(e)}setAll(t){let e=Xe.emptyPath(),s={},o=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,o),s={},o=[],e=d.popLast()}c?s[d.lastSegment()]=mu(c):o.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,o)}delete(t){const e=this.field(t.popLast());Uh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=e.mapValue.fields[t.get(s)];Uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,s){ua(e,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new jn(mu(this.value))}}function o1(n){const t=[];return ua(n.fields,(e,s)=>{const o=new Xe([e]);if(Uh(s)){const u=o1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)}),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,s,o,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,bt.min(),bt.min(),bt.min(),jn.empty(),0)}static newFoundDocument(t,e,s,o){return new nn(t,1,e,bt.min(),s,o,0)}static newNoDocument(t,e){return new nn(t,2,e,bt.min(),bt.min(),jn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,bt.min(),bt.min(),jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,e){this.position=t,this.inclusive=e}}function KE(n,t,e){let s=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(c.referenceValue),e.key):s=Vo(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function YE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Di(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,e="asc"){this.field=t,this.dir=e}}function RN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{}class we extends l1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new IN(t,e,s):e==="array-contains"?new MN(t,s):e==="in"?new xN(t,s):e==="not-in"?new NN(t,s):e==="array-contains-any"?new ON(t,s):new we(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new DN(t,s):new VN(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vo(e,this.value)):e!==null&&ar(this.value)===ar(e)&&this.matchesComparison(Vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends l1{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ti(t,e)}matches(t){return u1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function u1(n){return n.op==="and"}function c1(n){return CN(n)&&u1(n)}function CN(n){for(const t of n.filters)if(t instanceof ti)return!1;return!0}function $p(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+Mo(n.value);if(c1(n))return n.filters.map(t=>$p(t)).join(",");{const t=n.filters.map(e=>$p(e)).join(",");return`${n.op}(${t})`}}function h1(n,t){return n instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(n,t):n instanceof ti?function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,c,d)=>u&&h1(c,o.filters[d]),!0):!1}(n,t):void _t(19439)}function f1(n){return n instanceof we?function(e){return`${e.field.canonicalString()} ${e.op} ${Mo(e.value)}`}(n):n instanceof ti?function(e){return e.op.toString()+" {"+e.getFilters().map(f1).join(" ,")+"}"}(n):"Filter"}class IN extends we{constructor(t,e,s){super(t,e,s),this.key=pt.fromName(s.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class DN extends we{constructor(t,e){super(t,"in",e),this.keys=d1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class VN extends we{constructor(t,e){super(t,"not-in",e),this.keys=d1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function d1(n,t){return(t.arrayValue?.values||[]).map(e=>pt.fromName(e.referenceValue))}class MN extends we{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ty(e)&&Vu(e.arrayValue,this.value)}}class xN extends we{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vu(this.value.arrayValue,e)}}class NN extends we{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vu(this.value.arrayValue,e)}}class ON extends we{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ty(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t,e=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function QE(n,t=null,e=[],s=[],o=null,u=null,c=null){return new PN(n,t,e,s,o,u,c)}function ey(n){const t=wt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>$p(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),bf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>Mo(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>Mo(s)).join(",")),t.Te=e}return t.Te}function ny(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!RN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!h1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YE(n.startAt,t.startAt)&&YE(n.endAt,t.endAt)}function Wp(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,e=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kN(n,t,e,s,o,u,c,d){return new qo(n,t,e,s,o,u,c,d)}function iy(n){return new qo(n)}function XE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function m1(n){return n.collectionGroup!==null}function pu(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Oe(Xe.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Mu(u,s))}),e.has(Xe.keyField().canonicalString())||t.Ie.push(new Mu(Xe.keyField(),s))}return t.Ie}function Ai(n){const t=wt(n);return t.Ee||(t.Ee=LN(t,pu(n))),t.Ee}function LN(n,t){if(n.limitType==="F")return QE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Mu(o.field,u)});const e=n.endAt?new nf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new nf(n.startAt.position,n.startAt.inclusive):null;return QE(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Zp(n,t){const e=n.filters.concat([t]);return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Jp(n,t,e){return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Rf(n,t){return ny(Ai(n),Ai(t))&&n.limitType===t.limitType}function p1(n){return`${ey(Ai(n))}|lt:${n.limitType}`}function oo(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(o=>f1(o)).join(", ")}]`),bf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(o=>Mo(o)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(o=>Mo(o)).join(",")),`Target(${s})`}(Ai(n))}; limitType=${n.limitType})`}function Cf(n,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,t)&&function(s,o){for(const u of pu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(n,t)&&function(s,o){return!(s.startAt&&!function(c,d,p){const g=KE(c,d,p);return c.inclusive?g<=0:g<0}(s.startAt,pu(s),o)||s.endAt&&!function(c,d,p){const g=KE(c,d,p);return c.inclusive?g>=0:g>0}(s.endAt,pu(s),o))}(n,t)}function UN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g1(n){return(t,e)=>{let s=!1;for(const o of pu(n)){const u=BN(o,t,e);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function BN(n,t,e){const s=n.field.isKeyField()?pt.comparator(t.key,e.key):function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Vo(p,g):_t(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[e]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ua(this.inner,(e,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new le(pt.comparator);function us(){return zN}const y1=new le(pt.comparator);function su(...n){let t=y1;for(const e of n)t=t.insert(e.key,e);return t}function v1(n){let t=y1;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function Jr(){return gu()}function _1(){return gu()}function gu(){return new ca(n=>n.toString(),(n,t)=>n.isEqual(t))}const jN=new le(pt.comparator),qN=new Oe(pt.comparator);function Pt(...n){let t=qN;for(const e of n)t=t.add(e);return t}const FN=new Oe(Ot);function HN(){return FN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(t)?"-0":t}}function T1(n){return{integerValue:""+n}}function GN(n,t){return vN(t)?T1(t):sy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function KN(n,t,e){return n instanceof xu?function(o,u){const c={fields:{[n1]:{stringValue:e1},[s1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jg(u)&&(u=wf(u)),u&&(c.fields[i1]=u),{mapValue:c}}(e,t):n instanceof Nu?A1(n,t):n instanceof Ou?S1(n,t):function(o,u){const c=E1(o,u),d=$E(c)+$E(o.Ae);return Xp(c)&&Xp(o.Ae)?T1(d):sy(o.serializer,d)}(n,t)}function YN(n,t,e){return n instanceof Nu?A1(n,t):n instanceof Ou?S1(n,t):e}function E1(n,t){return n instanceof sf?function(s){return Xp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class xu extends If{}class Nu extends If{constructor(t){super(),this.elements=t}}function A1(n,t){const e=b1(t);for(const s of n.elements)e.some(o=>Di(o,s))||e.push(s);return{arrayValue:{values:e}}}class Ou extends If{constructor(t){super(),this.elements=t}}function S1(n,t){let e=b1(t);for(const s of n.elements)e=e.filter(o=>!Di(o,s));return{arrayValue:{values:e}}}class sf extends If{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function $E(n){return ye(n.integerValue||n.doubleValue)}function b1(n){return ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t,e){this.field=t,this.transform=e}}function XN(n,t){return n.field.isEqual(t.field)&&function(s,o){return s instanceof Nu&&o instanceof Nu||s instanceof Ou&&o instanceof Ou?Do(s.elements,o.elements,Di):s instanceof sf&&o instanceof sf?Di(s.Ae,o.Ae):s instanceof xu&&o instanceof xu}(n.transform,t.transform)}class $N{constructor(t,e){this.version=t,this.transformResults=e}}class Si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Si}static exists(t){return new Si(void 0,t)}static updateTime(t){return new Si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Df{}function w1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ry(n.key,Si.none()):new Gu(n.key,n.data,Si.none());{const e=n.data,s=jn.empty();let o=new Oe(Xe.comparator);for(let u of t.fields)if(!o.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new ha(n.key,s,new Zn(o.toArray()),Si.none())}}function WN(n,t,e){n instanceof Gu?function(o,u,c){const d=o.value.clone(),p=ZE(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof ha?function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=ZE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(R1(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function yu(n,t,e,s){return n instanceof Gu?function(u,c,d,p){if(!Bh(u.precondition,c))return d;const g=u.value.clone(),v=JE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,s):n instanceof ha?function(u,c,d,p){if(!Bh(u.precondition,c))return d;const g=JE(u.fieldTransforms,p,c),v=c.data;return v.setAll(R1(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(u,c,d){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function ZN(n,t){let e=null;for(const s of n.fieldTransforms){const o=t.data.field(s.field),u=E1(s.transform,o||null);u!=null&&(e===null&&(e=jn.empty()),e.set(s.field,u))}return e||null}function WE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,(u,c)=>XN(u,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Gu extends Df{constructor(t,e,s,o=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends Df{constructor(t,e,s,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function R1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function ZE(n,t,e){const s=new Map;Ft(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,YN(c,d,e[o]))}return s}function JE(n,t,e){const s=new Map;for(const o of n){const u=o.transform,c=e.data.field(o.field);s.set(o.field,KN(u,c,t))}return s}class ry extends Df{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JN extends Df{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,e,s,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&WN(u,t,s[o])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=yu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=yu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=_1();return this.mutations.forEach(o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(o.key)?null:d;const p=w1(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Do(this.mutations,t.mutations,(e,s)=>WE(e,s))&&Do(this.baseMutations,t.baseMutations,(e,s)=>WE(e,s))}}class ay{constructor(t,e,s,o){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=o}static from(t,e,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return jN}();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new ay(t,e,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Bt;function iO(n){switch(n){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:n})}}function C1(n){if(n===void 0)return ls("GRPC error has no .code"),$.UNKNOWN;switch(n){case Se.OK:return $.OK;case Se.CANCELLED:return $.CANCELLED;case Se.UNKNOWN:return $.UNKNOWN;case Se.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Se.INTERNAL:return $.INTERNAL;case Se.UNAVAILABLE:return $.UNAVAILABLE;case Se.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Se.NOT_FOUND:return $.NOT_FOUND;case Se.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Se.ABORTED:return $.ABORTED;case Se.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Se.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:n})}}(Bt=Se||(Se={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new Zs([4294967295,4294967295],0);function tA(n){const t=sO().encode(n),e=new qb;return e.update(t),new Uint8Array(e.digest())}function eA(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zs([e,s],0),new Zs([o,u],0)]}class oy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new ru(`Invalid padding: ${e}`);if(s<0)throw new ru(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new ru(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Zs.fromNumber(this.ge)}ye(t,e,s){let o=t.add(e.multiply(Zs.fromNumber(s)));return o.compare(rO)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=tA(t),[s,o]=eA(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,e,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new oy(u,o,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.ge===0)return;const e=tA(t),[s,o]=eA(e);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,e,s,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const o=new Map;return o.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Vf(bt.min(),o,new le(Ot),us(),Pt())}}class Ku{constructor(t,e,s,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Ku(s,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,e,s,o){this.be=t,this.removedTargetIds=e,this.key=s,this.De=o}}class I1{constructor(t,e){this.targetId=t,this.Ce=e}}class D1{constructor(t,e,s=$e.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=o}}class nA{constructor(){this.ve=0,this.Fe=iA(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),s=Pt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}}),new Ku(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=iA()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aO{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.Je=Dh(),this.He=Dh(),this.Ye=new le(Ot)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((s,o)=>{this.rt(o)&&e(o)})}st(t){const e=t.targetId,s=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(Wp(u))if(s===0){const c=new pt(u.path);this.et(e,c,nn.newNoDocument(c,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const c=this._t(e);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=e;let c,d;try{c=rr(s).toUint8Array()}catch(p){if(p instanceof t1)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new oy(c,o,u)}catch(p){return Io(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let o=0;return s.forEach(u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(e,u,null),o++)}),o}Tt(t){const e=new Map;this.ze.forEach((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Wp(d.target)){const p=new pt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,t))}u.Be&&(e.set(c,u.ke()),u.qe())}});let s=Pt();this.He.forEach((u,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.je.forEach((u,c)=>c.setReadTime(t));const o=new Vf(t,e,this.Ye,this.je,s);return this.je=us(),this.Je=Dh(),this.He=Dh(),this.Ye=new le(Ot),o}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new nA,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Oe(Ot),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Oe(Ot),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nA),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Dh(){return new le(pt.comparator)}function iA(){return new le(pt.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},lO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uO={and:"AND",or:"OR"};class cO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function tg(n,t){return n.useProto3Json||bf(t)?t:{value:t}}function rf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function V1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function hO(n,t){return rf(n,t.toTimestamp())}function bi(n){return Ft(!!n,49232),bt.fromTimestamp(function(e){const s=sr(e);return new ne(s.seconds,s.nanos)}(n))}function ly(n,t){return eg(n,t).canonicalString()}function eg(n,t){const e=function(o){return new te(["projects",o.projectId,"databases",o.database])}(n).child("documents");return t===void 0?e:e.child(t)}function M1(n){const t=te.fromString(n);return Ft(k1(t),10190,{key:t.toString()}),t}function ng(n,t){return ly(n.databaseId,t.path)}function dp(n,t){const e=M1(t);if(e.get(1)!==n.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(N1(e))}function x1(n,t){return ly(n.databaseId,t)}function fO(n){const t=M1(n);return t.length===4?te.emptyPath():N1(t)}function ig(n){return new te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function N1(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sA(n,t,e){return{name:ng(n,t),fields:e.value.mapValue.fields}}function dO(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ft(v===void 0||typeof v=="string",58123),$e.fromBase64String(v||"")):(Ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$e.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const v=g.code===void 0?$.UNKNOWN:C1(g.code);return new ct(v,g.message||"")}(c);e=new D1(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=dp(n,s.document.name),u=bi(s.document.updateTime),c=s.document.createTime?bi(s.document.createTime):bt.min(),d=new jn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new zh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=dp(n,s.document),u=s.readTime?bi(s.readTime):bt.min(),c=nn.newNoDocument(o,u),d=s.removedTargetIds||[];e=new zh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=dp(n,s.document),u=s.removedTargetIds||[];e=new zh([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new nO(o,u),d=s.targetId;e=new I1(d,c)}}return e}function mO(n,t){let e;if(t instanceof Gu)e={update:sA(n,t.key,t.value)};else if(t instanceof ry)e={delete:ng(n,t.key)};else if(t instanceof ha)e={update:sA(n,t.key,t.data),updateMask:SO(t.fieldMask)};else{if(!(t instanceof JN))return _t(16599,{Vt:t.type});e={verify:ng(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,c){const d=c.transform;if(d instanceof xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw _t(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:hO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)}(n,t.precondition)),e}function pO(n,t){return n&&n.length>0?(Ft(t!==void 0,14353),n.map(e=>function(o,u){let c=o.updateTime?bi(o.updateTime):bi(u);return c.isEqual(bt.min())&&(c=bi(u)),new $N(c,o.transformResults||[])}(e,t))):[]}function gO(n,t){return{documents:[x1(n,t.path)]}}function yO(n,t){const e={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=x1(n,o);const u=function(g){if(g.length!==0)return P1(ti.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const c=function(g){if(g.length!==0)return g.map(v=>function(A){return{field:lo(A.field),direction:TO(A.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=tg(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:e,parent:o}}function vO(n){let t=fO(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const v=e.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=function(E){const A=O1(E);return A instanceof ti&&c1(A)?A.getFilters():[A]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(A=>function(P){return new Mu(uo(P.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(e.orderBy));let d=null;e.limit&&(d=function(E){let A;return A=typeof E=="object"?E.value:E,bf(A)?null:A}(e.limit));let p=null;e.startAt&&(p=function(E){const A=!!E.before,I=E.values||[];return new nf(I,A)}(e.startAt));let g=null;return e.endAt&&(g=function(E){const A=!E.before,I=E.values||[];return new nf(I,A)}(e.endAt)),kN(t,o,c,u,d,"F",p,g)}function _O(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function O1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=uo(e.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(e.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(e.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=uo(e.unaryFilter.field);return we.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(n):n.fieldFilter!==void 0?function(e){return we.create(uo(e.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ti.create(e.compositeFilter.filters.map(s=>O1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(e.compositeFilter.op))}(n):_t(30097,{filter:n})}function TO(n){return oO[n]}function EO(n){return lO[n]}function AO(n){return uO[n]}function lo(n){return{fieldPath:n.canonicalString()}}function uo(n){return Xe.fromServerFormat(n.fieldPath)}function P1(n){return n instanceof we?function(e){if(e.op==="=="){if(GE(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NAN"}};if(HE(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(GE(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NAN"}};if(HE(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(e.field),op:EO(e.op),value:e.value}}}(n):n instanceof ti?function(e){const s=e.getFilters().map(o=>P1(o));return s.length===1?s[0]:{compositeFilter:{op:AO(e.op),filters:s}}}(n):_t(54877,{filter:n})}function SO(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function k1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,e,s,o,u=bt.min(),c=bt.min(),d=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.yt=t}}function wO(n){const t=vO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Cn=new CO}addToCollectionParentIndex(t,e){return this.Cn.add(e),J.resolve()}getCollectionParents(t,e){return J.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return J.resolve()}deleteFieldIndex(t,e){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,e){return J.resolve()}getDocumentsMatchingTarget(t,e){return J.resolve(null)}getIndexType(t,e){return J.resolve(0)}getFieldIndexes(t,e){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,e){return J.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,e){return J.resolve(ir.min())}updateCollectionGroup(t,e,s){return J.resolve()}updateIndexEntries(t,e){return J.resolve()}}class CO{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e]||new Oe(te.comparator),u=!o.has(s);return this.index[e]=o.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),o=this.index[e];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(L1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="LruGarbageCollector",IO=1048576;function oA([n,t],[e,s]){const o=Ot(n,e);return o===0?Ot(t,s):o}class DO{constructor(t){this.Ir=t,this.buffer=new Oe(oA),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();oA(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class VO{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(aA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jo(e)?ft(aA,"Ignoring IndexedDB error during garbage collection: ",e):await zo(e)}await this.Vr(3e5)})}}class MO{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return J.resolve(Sf.ce);const s=new DO(e);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(rA)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rA):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),ao()<=Nt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function xO(n,t){return new MO(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.changes=new ca(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?J.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,e,s,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(s!==null&&yu(s.mutation,o,Zn.empty(),ne.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Pt()){const o=Jr();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,s).next(u=>{let c=su();return u.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=Jr();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Pt()))}populateOverlays(t,e,s){const o=[];return s.forEach(u=>{e.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,o){let u=us();const c=gu(),d=function(){return gu()}();return e.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof ha)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),yu(v.mutation,g,v.mutation.getFieldMask(),ne.now())):c.set(g.key,Zn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>c.set(g,v)),e.forEach((g,v)=>d.set(g,new OO(v,c.get(g)??null))),d))}recalculateAndSaveOverlays(t,e){const s=gu();let o=new le((c,d)=>c-d),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||Zn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(o.get(d.batchId)||Pt()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=_1();v.forEach(A=>{if(!u.has(A)){const I=w1(e.get(A),s.get(A));I!==null&&E.set(A,I),u=u.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return J.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,o){return function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):m1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,o):this.getDocumentsMatchingCollectionQuery(t,e,s,o)}getNextDocuments(t,e,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,o-u.size):J.resolve(Jr());let d=Cu,p=u;return c.next(g=>J.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?J.resolve():this.remoteDocumentCache.getEntry(t,v).next(A=>{p=p.insert(v,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Pt())).next(v=>({batchId:d,changes:v1(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next(s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,s,o){const u=e.collectionGroup;let c=su();return this.indexManager.getCollectionParents(t,u).next(d=>J.forEach(d,p=>{const g=function(E,A){return new qo(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(v=>{v.forEach((E,A)=>{c=c.insert(E,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,o))).next(c=>{u.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))});let d=su();return c.forEach((p,g)=>{const v=u.get(p);v!==void 0&&yu(v.mutation,g,Zn.empty(),ne.now()),Cf(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return J.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}}(e)),J.resolve()}getNamedQuery(t,e){return J.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(o){return{name:o.name,query:wO(o.bundledQuery),readTime:bi(o.readTime)}}(e)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.overlays=new le(pt.comparator),this.qr=new Map}getOverlay(t,e){return J.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Jr();return J.forEach(e,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((o,u)=>{this.St(t,e,u)}),J.resolve()}removeOverlaysForBatchId(t,e,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(t,e,s){const o=Jr(),u=e.length+1,c=new pt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,e,s,o){let u=new le((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Jr(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Jr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return J.resolve(d)}St(t,e,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new eO(e,s));let u=this.qr.get(e);u===void 0&&(u=Pt(),this.qr.set(e,u)),this.qr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.Qr=new Oe(je.$r),this.Ur=new Oe(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new je(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.Gr(new je(t,e))}zr(t,e){t.forEach(s=>this.removeReference(s,e))}jr(t){const e=new pt(new te([])),s=new je(e,t),o=new je(e,t+1),u=[];return this.Ur.forEachInRange([s,o],c=>{this.Gr(c),u.push(c.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new pt(new te([])),s=new je(e,t),o=new je(e,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],c=>{u=u.add(c.key)}),u}containsKey(t){const e=new je(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return pt.comparator(t.key,e.key)||Ot(t.Yr,e.Yr)}static Kr(t,e){return Ot(t.Yr,e.Yr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(je.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tO(u,e,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new je(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return J.resolve(c)}lookupMutationBatch(t,e){return J.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,o=this.ei(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Zg:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new je(e,0),o=new je(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],c=>{const d=this.Xr(c.Yr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Oe(Ot);return e.forEach(o=>{const u=new je(o,0),c=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],d=>{s=s.add(d.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const c=new je(new pt(u),0);let d=new Oe(Ot);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)},c),J.resolve(this.ti(d))}ti(t){const e=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&e.push(o)}),e}removeMutationBatch(t,e){Ft(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(e.mutations,o=>{const u=new je(o.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,e){const s=new je(e,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.ri=t,this.docs=function(){return new le(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return J.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let s=us();return e.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,e,s,o){let u=us();const c=e.path,d=new pt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||mN(dN(v),s)<=0||(o.has(v.key)||Cf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,e,s,o){_t(9500)}ii(t,e){return J.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new jO(this)}getSize(t){return J.resolve(this.size)}}class jO extends NO{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),J.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(t){this.persistence=t,this.si=new ca(e=>ey(e),ny),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new uy,this.targetCount=0,this.ai=xo.ur()}forEachTarget(t,e){return this.si.forEach((s,o)=>e(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),J.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new xo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,J.resolve()}updateTargetData(t,e){return this.Pr(e),J.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,e,s){let o=0;const u=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return J.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),J.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach(c=>{u.push(o.markPotentiallyOrphaned(t,c))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),J.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return J.resolve(s)}containsKey(t,e){return J.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,e){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new UO,this.referenceDelegate=t(this),this.Pi=new qO(this),this.indexManager=new RO,this.remoteDocumentCache=function(o){return new zO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new bO(e),this.Ii=new kO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new LO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new BO(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){ft("MemoryPersistence","Starting transaction:",t);const o=new FO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,e){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,e)))}}class FO extends gN{constructor(t){super(),this.currentSequenceNumber=t}}class cy{constructor(t){this.persistence=t,this.Ri=new uy,this.Vi=null}static mi(t){return new cy(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),J.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),J.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=pt.fromPath(s);return this.gi(t,o).next(u=>{u||e.removeEntry(o,bt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return J.or([()=>J.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class af{constructor(t,e){this.persistence=t,this.pi=new ca(s=>_N(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=xO(this,e)}static mi(t,e){return new af(t,e)}Ei(){}di(t){return J.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(o=>s+o))}wr(t){let e=0;return this.pr(t,s=>{e++}).next(()=>e)}pr(t,e){return J.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?J.resolve():e(o)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,c=>this.br(t,c,e).next(d=>{d||(s++,u.removeEntry(c,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),J.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),J.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Lh(t.data.value)),e}br(t,e,s){return J.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,e,s,o){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=o}static As(t,e){let s=Pt(),o=Pt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hy(t,e.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PM()?8:yN(rn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,o){const u={result:null};return this.ys(t,e).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.ws(t,e,o,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new HO;return this.Ss(t,e,c).next(d=>{if(u.result=d,this.Vs)return this.bs(t,e,c,d.size)})}).next(()=>u.result)}bs(t,e,s,o){return s.documentReadCount<this.fs?(ao()<=Nt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",oo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(ao()<=Nt.DEBUG&&ft("QueryEngine","Query:",oo(e),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ao()<=Nt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",oo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(e))):J.resolve())}ys(t,e){if(XE(e))return J.resolve(null);let s=Ai(e);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(e.limit!==null&&o===1&&(e=Jp(e,null,"F"),s=Ai(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const c=Pt(...u);return this.ps.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.Ds(e,d);return this.Cs(e,g,c,p.readTime)?this.ys(t,Jp(e,null,"F")):this.vs(t,g,e,p)}))})))}ws(t,e,s,o){return XE(e)||o.isEqual(bt.min())?J.resolve(null):this.ps.getDocuments(t,s).next(u=>{const c=this.Ds(e,u);return this.Cs(e,c,s,o)?J.resolve(null):(ao()<=Nt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(e)),this.vs(t,c,e,fN(o,Cu)).next(d=>d))})}Ds(t,e){let s=new Oe(g1(t));return e.forEach((o,u)=>{Cf(t,u)&&(s=s.add(u))}),s}Cs(t,e,s,o){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,s){return ao()<=Nt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",oo(e)),this.ps.getDocumentsMatchingQuery(t,e,ir.min(),s)}vs(t,e,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(e.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="LocalStore",KO=3e8;class YO{constructor(t,e,s,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new le(Ot),this.xs=new ca(u=>ey(u),ny),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function QO(n,t,e,s){return new YO(n,t,e,s)}async function B1(n,t){const e=wt(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let o;return e.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],d=[];let p=Pt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function XO(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,A=E.keys();let I=J.resolve();return A.forEach(P=>{I=I.next(()=>v.getEntry(p,P)).next(G=>{const F=g.docVersions.get(P);Ft(F!==null,48541),G.version.compareTo(F)<0&&(E.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Pt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,o))})}function z1(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function $O(n,t){const e=wt(n),s=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const d=[];t.targetChanges.forEach((v,E)=>{const A=o.get(E);if(!A)return;d.push(e.Pi.removeMatchingKeys(u,v.removedDocuments,E).next(()=>e.Pi.addMatchingKeys(u,v.addedDocuments,E)));let I=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?I=I.withResumeToken($e.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,s)),o=o.insert(E,I),function(G,F,W){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=KO?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(A,I,v)&&d.push(e.Pi.updateTargetData(u,I))});let p=us(),g=Pt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(WO(u,c,t.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!s.isEqual(bt.min())){const v=e.Pi.getLastRemoteSnapshotVersion(u).next(E=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return J.waitFor(d).next(()=>c.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(e.Ms=o,u))}function WO(n,t,e){let s=Pt(),o=Pt();return e.forEach(u=>s=s.add(u)),t.getEntries(n,s).next(u=>{let c=us();return e.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ft(fy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{ks:c,qs:o}})}function ZO(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Zg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function JO(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return e.Pi.getTargetData(s,t).next(u=>u?(o=u,J.resolve(o)):e.Pi.allocateTargetId(s).next(c=>(o=new Qs(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=e.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s})}async function sg(n,t,e){const s=wt(n),o=s.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!jo(c))throw c;ft(fy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function lA(n,t,e){const s=wt(n);let o=bt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const E=wt(p),A=E.xs.get(v);return A!==void 0?J.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,v)}(s,c,Ai(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,t,e?o:bt.min(),e?u:Pt())).next(d=>(tP(s,UN(t),d),{documents:d,Qs:u})))}function tP(n,t,e){let s=n.Os.get(t)||bt.min();e.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Os.set(t,s)}class uA{constructor(){this.activeTargetIds=HN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eP{constructor(){this.Mo=new uA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new uA,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="ConnectivityMonitor";class hA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(cA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(cA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function rg(){return Vh===null?Vh=function(){return 268435456+Math.round(2147483648*Math.random())}():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="RestConnection",iP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,e,s,o,u){const c=rg(),d=this.zo(t,e.toUriEncodedString());ft(mp,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=Lo(g);return this.Jo(t,d,p,s,v).then(E=>(ft(mp,`Received RPC '${t}' ${c}: `,E),E),E=>{throw Io(mp,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E})}Ho(t,e,s,o,u,c){return this.Go(t,e,s,o,u)}jo(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,e){const s=iP[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class aP extends sP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,o,u){const c=rg();return new Promise((d,p)=>{const g=new Fb;g.setWithCredentials(!0),g.listenOnce(Hb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kh.NO_ERROR:const E=g.getResponseJson();ft(tn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case kh.TIMEOUT:ft(tn,`RPC '${t}' ${c} timed out`),p(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const A=g.getStatus();if(ft(tn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const G=function(W){const tt=W.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(tt)>=0?tt:$.UNKNOWN}(P.status);p(new ct(G,P.message))}else p(new ct($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ct($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(tn,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(o);ft(tn,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",v,s,15)})}T_(t,e,s){const o=rg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Yb(),d=Kb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ft(tn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const E=c.createWebChannel(v,p);this.I_(E);let A=!1,I=!1;const P=new rP({Yo:F=>{I?ft(tn,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(A||(ft(tn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ft(tn,`RPC '${t}' stream ${o} sending:`,F),E.send(F))},Zo:()=>E.close()}),G=(F,W,tt)=>{F.listen(W,Q=>{try{tt(Q)}catch(st){setTimeout(()=>{throw st},0)}})};return G(E,iu.EventType.OPEN,()=>{I||(ft(tn,`RPC '${t}' stream ${o} transport opened.`),P.o_())}),G(E,iu.EventType.CLOSE,()=>{I||(I=!0,ft(tn,`RPC '${t}' stream ${o} transport closed`),P.a_(),this.E_(E))}),G(E,iu.EventType.ERROR,F=>{I||(I=!0,Io(tn,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),P.a_(new ct($.UNAVAILABLE,"The operation could not be completed")))}),G(E,iu.EventType.MESSAGE,F=>{if(!I){const W=F.data[0];Ft(!!W,16349);const tt=W,Q=tt?.error||tt[0]?.error;if(Q){ft(tn,`RPC '${t}' stream ${o} received error:`,Q);const st=Q.status;let nt=function(w){const R=Se[w];if(R!==void 0)return C1(R)}(st),ut=Q.message;nt===void 0&&(nt=$.INTERNAL,ut="Unknown error status: "+st+" with message "+Q.message),I=!0,P.a_(new ct(nt,ut)),E.close()}else ft(tn,`RPC '${t}' stream ${o} received:`,W),P.u_(W)}}),G(d,Gb.STAT_EVENT,F=>{F.stat===Kp.PROXY?ft(tn,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Kp.NOPROXY&&ft(tn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){return new cO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,e,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="PersistentStream";class q1{constructor(t,e,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===$.RESOURCE_EXHAUSTED?(ls(e.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===e&&this.G_(s,o)},s=>{t(()=>{const o=new ct($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ft(fA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(ft(fA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oP extends q1{constructor(t,e,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=dO(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?bi(c.readTime):bt.min()}(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=ig(this.serializer),e.addTarget=function(u,c){let d;const p=c.target;if(d=Wp(p)?{documents:gO(u,p)}:{query:yO(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=V1(u,c.resumeToken);const g=tg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(bt.min())>0){d.readTime=rf(u,c.snapshotVersion.toTimestamp());const g=tg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=_O(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=ig(this.serializer),e.removeTarget=t,this.q_(e)}}class lP extends q1{constructor(t,e,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=pO(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=ig(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>mO(this.serializer,s))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{}class cP extends uP{constructor(t,e,s,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Go(t,eg(e,s),o,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct($.UNKNOWN,u.toString())})}Ho(t,e,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(t,eg(e,s),o,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hP{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(e),this.aa=!1):ft("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class fP{constructor(t,e,s,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{fa(this)&&(ft(oa,"Restarting streams for network reachability change."),await async function(p){const g=wt(p);g.Ea.add(4),await Yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xf(g)}(this))})}),this.Ra=new hP(s,o)}}async function xf(n){if(fa(n))for(const t of n.da)await t(!0)}async function Yu(n){for(const t of n.da)await t(!1)}function F1(n,t){const e=wt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),gy(e)?py(e):Fo(e).O_()&&my(e,t))}function dy(n,t){const e=wt(n),s=Fo(e);e.Ia.delete(t),s.O_()&&H1(e,t),e.Ia.size===0&&(s.O_()?s.L_():fa(e)&&e.Ra.set("Unknown"))}function my(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Fo(n).Y_(t)}function H1(n,t){n.Va.Ue(t),Fo(n).Z_(t)}function py(n){n.Va=new aO({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Fo(n).start(),n.Ra.ua()}function gy(n){return fa(n)&&!Fo(n).x_()&&n.Ia.size>0}function fa(n){return wt(n).Ea.size===0}function G1(n){n.Va=void 0}async function dP(n){n.Ra.set("Online")}async function mP(n){n.Ia.forEach((t,e)=>{my(n,t)})}async function pP(n,t){G1(n),gy(n)?(n.Ra.ha(t),py(n)):n.Ra.set("Unknown")}async function gP(n,t,e){if(n.Ra.set("Online"),t instanceof D1&&t.state===2&&t.cause)try{await async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))}(n,t)}catch(s){ft(oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await of(n,s)}else if(t instanceof zh?n.Va.Ze(t):t instanceof I1?n.Va.st(t):n.Va.tt(t),!e.isEqual(bt.min()))try{const s=await z1(n.localStore);e.compareTo(s)>=0&&await function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken($e.EMPTY_BYTE_STRING,v.snapshotVersion)),H1(u,p);const E=new Qs(v.target,p,g,v.sequenceNumber);my(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){ft(oa,"Failed to raise snapshot:",s),await of(n,s)}}async function of(n,t,e){if(!jo(t))throw t;n.Ea.add(1),await Yu(n),n.Ra.set("Offline"),e||(e=()=>z1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(oa,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await xf(n)})}function K1(n,t){return t().catch(e=>of(n,e,t))}async function Nf(n){const t=wt(n),e=or(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zg;for(;yP(t);)try{const o=await ZO(t.localStore,s);if(o===null){t.Ta.length===0&&e.L_();break}s=o.batchId,vP(t,o)}catch(o){await of(t,o)}Y1(t)&&Q1(t)}function yP(n){return fa(n)&&n.Ta.length<10}function vP(n,t){n.Ta.push(t);const e=or(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Y1(n){return fa(n)&&!or(n).x_()&&n.Ta.length>0}function Q1(n){or(n).start()}async function _P(n){or(n).ra()}async function TP(n){const t=or(n);for(const e of n.Ta)t.ea(e.mutations)}async function EP(n,t,e){const s=n.Ta.shift(),o=ay.from(s,t,e);await K1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Nf(n)}async function AP(n,t){t&&or(n).X_&&await async function(s,o){if(function(c){return iO(c)&&c!==$.ABORTED}(o.code)){const u=s.Ta.shift();or(s).B_(),await K1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Nf(s)}}(n,t),Y1(n)&&Q1(n)}async function dA(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),ft(oa,"RemoteStore received new credentials");const s=fa(e);e.Ea.add(3),await Yu(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await xf(e)}async function SP(n,t){const e=wt(n);t?(e.Ea.delete(2),await xf(e)):t||(e.Ea.add(2),await Yu(e),e.Ra.set("Unknown"))}function Fo(n){return n.ma||(n.ma=function(e,s,o){const u=wt(e);return u.sa(),new oP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:dP.bind(null,n),t_:mP.bind(null,n),r_:pP.bind(null,n),H_:gP.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),gy(n)?py(n):n.Ra.set("Unknown")):(await n.ma.stop(),G1(n))})),n.ma}function or(n){return n.fa||(n.fa=function(e,s,o){const u=wt(e);return u.sa(),new lP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:_P.bind(null,n),r_:AP.bind(null,n),ta:TP.bind(null,n),na:EP.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Nf(n)):(await n.fa.stop(),n.Ta.length>0&&(ft(oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,e,s,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,o,u){const c=Date.now()+s,d=new yy(t,e,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,t){if(ls("AsyncQueue",`${t}: ${n}`),jo(n))return new ct($.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||pt.comparator(e.key,s.key):(e,s)=>pt.comparator(e.key,s.key),this.keyedMap=su(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new _o;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.ga=new le(pt.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,s)=>{t.push(s)}),t}}class No{constructor(t,e,s,o,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,o,u){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new No(t,e,_o.emptySet(e),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==s[o].type||!e[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class wP{constructor(){this.queries=pA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const o=wt(e),u=o.queries;o.queries=pA(),u.forEach((c,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new ct($.ABORTED,"Firestore shutting down"))}}function pA(){return new ca(n=>p1(n),Rf)}async function RP(n,t){const e=wt(n);let s=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new bP,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(c){const d=vy(c,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(d)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&_y(e)}async function CP(n,t){const e=wt(n),s=t.query;let o=3;const u=e.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function IP(n,t){const e=wt(n);let s=!1;for(const o of t){const u=o.query,c=e.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&_y(e)}function DP(n,t,e){const s=wt(n),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);s.queries.delete(t)}function _y(n){n.Ca.forEach(t=>{t.next()})}var ag,gA;(gA=ag||(ag={})).Ma="default",gA.Cache="cache";class VP{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new No(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.key=t}}class $1{constructor(t){this.key=t}}class MP{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=g1(t),this.tu=new _o(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new mA,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((v,E)=>{const A=o.get(v),I=Cf(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let F=!1;A&&I?A.data.isEqual(I.data)?P!==G&&(s.track({type:3,doc:I}),F=!0):this.su(A,I)||(s.track({type:2,doc:I}),F=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!A&&I?(s.track({type:0,doc:I}),F=!0):A&&!I&&(s.track({type:1,doc:A}),F=!0,(p||g)&&(d=!0)),F&&(I?(c=c.add(I),u=G?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort((v,E)=>function(I,P){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:F})}};return G(I)-G(P)}(v.type,E.type)||this.eu(v.doc,E.doc)),this.ou(s),o=o??!1;const d=e&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new No(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const e=[];return t.forEach(s=>{this.Xa.has(s)||e.push(new $1(s))}),this.Xa.forEach(s=>{t.has(s)||e.push(new X1(s))}),e}cu(t){this.Ya=t.Qs,this.Xa=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class xP{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class NP{constructor(t){this.key=t,this.hu=!1}}class OP{constructor(t,e,s,o,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ca(d=>p1(d),Rf),this.Iu=new Map,this.Eu=new Set,this.du=new le(pt.comparator),this.Au=new Map,this.Ru=new uy,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PP(n,t,e=!0){const s=nw(n);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await W1(s,t,e,!0),o}async function kP(n,t){const e=nw(n);await W1(e,t,!0,!1)}async function W1(n,t,e,s){const o=await JO(n.localStore,Ai(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await LP(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&e&&F1(n.remoteStore,o),d}async function LP(n,t,e,s,o){n.pu=(E,A,I)=>async function(G,F,W,tt){let Q=F.view.ru(W);Q.Cs&&(Q=await lA(G.localStore,F.query,!1).then(({documents:V})=>F.view.ru(V,Q)));const st=tt&&tt.targetChanges.get(F.targetId),nt=tt&&tt.targetMismatches.get(F.targetId)!=null,ut=F.view.applyChanges(Q,G.isPrimaryClient,st,nt);return vA(G,F.targetId,ut.au),ut.snapshot}(n,E,A,I);const u=await lA(n.localStore,t,!0),c=new MP(t,u.Qs),d=c.ru(u.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);vA(n,e,g.au);const v=new xP(t,e,c);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function UP(n,t,e){const s=wt(n),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(c=>!Rf(c,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),e&&dy(s.remoteStore,o.targetId),og(s,o.targetId)}).catch(zo)):(og(s,o.targetId),await sg(s.localStore,o.targetId,!0))}async function BP(n,t){const e=wt(n),s=e.Tu.get(t),o=e.Iu.get(s.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),dy(e.remoteStore,s.targetId))}async function zP(n,t,e){const s=YP(n);try{const o=await function(c,d){const p=wt(c),g=ne.now(),v=d.reduce((I,P)=>I.add(P.key),Pt());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=us(),G=Pt();return p.Ns.getEntries(I,v).next(F=>{P=F,P.forEach((W,tt)=>{tt.isValidDocument()||(G=G.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,P)).next(F=>{E=F;const W=[];for(const tt of d){const Q=ZN(tt,E.get(tt.key).overlayedDocument);Q!=null&&W.push(new ha(tt.key,Q,o1(Q.value.mapValue),Si.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,W,d)}).next(F=>{A=F;const W=F.applyToLocalDocumentSet(E,G);return p.documentOverlayCache.saveOverlays(I,F.batchId,W)})}).then(()=>({batchId:A.batchId,changes:v1(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new le(Ot)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g}(s,o.batchId,e),await Qu(s,o.changes),await Nf(s.remoteStore)}catch(o){const u=vy(o,"Failed to persist write");e.reject(u)}}async function Z1(n,t){const e=wt(n);try{const s=await $O(e.localStore,t);t.targetChanges.forEach((o,u)=>{const c=e.Au.get(u);c&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ft(c.hu,14607):o.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))}),await Qu(e,s,t)}catch(s){await zo(s)}}function yA(n,t,e){const s=wt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const o=[];s.Tu.forEach((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)}),g&&_y(p)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function jP(n,t,e){const s=wt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new le(pt.comparator);c=c.insert(u,nn.newNoDocument(u,bt.min()));const d=Pt().add(u),p=new Vf(bt.min(),new Map,new le(Ot),c,d);await Z1(s,p),s.du=s.du.remove(u),s.Au.delete(t),Ey(s)}else await sg(s.localStore,t,!1).then(()=>og(s,t,e)).catch(zo)}async function qP(n,t){const e=wt(n),s=t.batch.batchId;try{const o=await XO(e.localStore,t);tw(e,s,null),J1(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Qu(e,o)}catch(o){await zo(o)}}async function FP(n,t,e){const s=wt(n);try{const o=await function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(Ft(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,t);tw(s,t,e),J1(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Qu(s,o)}catch(o){await zo(o)}}function J1(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function tw(n,t,e){const s=wt(n);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function og(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(s=>{n.Ru.containsKey(s)||ew(n,s)})}function ew(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(dy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ey(n))}function vA(n,t,e){for(const s of e)s instanceof X1?(n.Ru.addReference(s.key,t),HP(n,s)):s instanceof $1?(ft(Ty,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||ew(n,s.key)):_t(19791,{wu:s})}function HP(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(ft(Ty,"New document in limbo: "+e),n.Eu.add(s),Ey(n))}function Ey(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new pt(te.fromString(t)),s=n.fu.next();n.Au.set(s,new NP(e)),n.du=n.du.insert(e,s),F1(n.remoteStore,new Qs(Ai(iy(e.path)),s,"TargetPurposeLimboResolution",Sf.ce))}}async function Qu(n,t,e){const s=wt(n),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,p)=>{c.push(s.pu(p,t,e).then(g=>{if((g||e)&&s.isPrimaryClient){const v=g?!g.fromCache:e?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=hy.As(p.targetId,g);u.push(v)}}))}),await Promise.all(c),s.Pu.H_(o),await async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>J.forEach(g,A=>J.forEach(A.Es,I=>v.persistence.referenceDelegate.addReference(E,A.targetId,I)).next(()=>J.forEach(A.ds,I=>v.persistence.referenceDelegate.removeReference(E,A.targetId,I)))))}catch(E){if(!jo(E))throw E;ft(fy,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const I=v.Ms.get(A),P=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(A,G)}}}(s.localStore,u))}async function GP(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){ft(Ty,"User change. New user:",t.toKey());const s=await B1(e.localStore,t);e.currentUser=t,function(u,c){u.mu.forEach(d=>{d.forEach(p=>{p.reject(new ct($.CANCELLED,c))})}),u.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Qu(e,s.Ls)}}function KP(n,t){const e=wt(n),s=e.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=e.Iu.get(t);if(!u)return o;for(const c of u){const d=e.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function nw(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jP.bind(null,t),t.Pu.H_=IP.bind(null,t.eventManager),t.Pu.yu=DP.bind(null,t.eventManager),t}function YP(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FP.bind(null,t),t}class lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return QO(this.persistence,new GO,t.initialUser,this.serializer)}Cu(t){return new U1(cy.mi,this.serializer)}Du(t){return new eP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lf.provider={build:()=>new lf};class QP extends lf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ft(this.persistence.referenceDelegate instanceof af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VO(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new U1(s=>af.mi(s,e),this.serializer)}}class lg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await SP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wP}()}createDatastore(t){const e=Mf(t.databaseInfo.databaseId),s=function(u){return new aP(u)}(t.databaseInfo);return function(u,c,d,p){return new cP(u,c,d,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,o,u,c,d){return new fP(s,o,u,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>yA(this.syncEngine,e,0),function(){return hA.v()?new hA:new nP}())}createSyncEngine(t,e){return function(o,u,c,d,p,g,v){const E=new OP(o,u,c,d,p,g);return v&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const s=wt(e);ft(oa,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="FirestoreClient";class $P{constructor(t,e,s,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async c=>{ft(lr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ft(lr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=vy(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function gp(n,t){n.asyncQueue.verifyOperationInProgress(),ft(lr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await B1(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function _A(n,t){n.asyncQueue.verifyOperationInProgress();const e=await WP(n);ft(lr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>dA(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>dA(t.remoteStore,o)),n._onlineComponents=t}async function WP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(lr,"Using user provided OfflineComponentProvider");try{await gp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(e))throw e;Io("Error using user provided cache. Falling back to memory cache: "+e),await gp(n,new lf)}}else ft(lr,"Using default OfflineComponentProvider"),await gp(n,new QP(void 0));return n._offlineComponents}async function iw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(lr,"Using user provided OnlineComponentProvider"),await _A(n,n._uninitializedComponentsProvider._online)):(ft(lr,"Using default OnlineComponentProvider"),await _A(n,new lg))),n._onlineComponents}function ZP(n){return iw(n).then(t=>t.syncEngine)}async function TA(n){const t=await iw(n),e=t.eventManager;return e.onListen=PP.bind(null,t.syncEngine),e.onUnlisten=UP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=kP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=BP.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firestore.googleapis.com",AA=!0;class SA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rw,this.ssl=AA}else this.host=t.host,this.ssl=t.ssl??AA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IO)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Of{constructor(t,e,s,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eN;switch(s.type){case"firstParty":return new rN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=EA.get(e);s&&(ft("ComponentProvider","Removing Datastore"),EA.delete(e),s.terminate())}(this),Promise.resolve()}}function JP(n,t,e,s={}){n=vo(n,Of);const o=Lo(t),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},d=`${t}:${e}`;o&&(Ob(`https://${d}`),Pb("Firestore",!0)),u.host!==rw&&u.host!==d&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!sa(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=en.MOCK_USER;else{g=RM(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(E)}n._authCredentials=new nN(new Xb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new da(this.firestore,t,this._query)}}class Ne{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(Hu(e,Ne._jsonSchema))return new Ne(t,s||null,new pt(te.fromString(e.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Re("string",Ne._jsonSchemaVersion),referencePath:Re("string")};class Js extends da{constructor(t,e,s){super(t,e,iy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new pt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function uf(n,t,...e){if(n=wn(n),$b("collection","path",t),n instanceof Of){const s=te.fromString(t,...e);return PE(s),new Js(n,null,s)}{if(!(n instanceof Ne||n instanceof Js))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(te.fromString(t,...e));return PE(s),new Js(n.firestore,null,s)}}function Ay(n,t,...e){if(n=wn(n),arguments.length===1&&(t=Wg.newId()),$b("doc","path",t),n instanceof Of){const s=te.fromString(t,...e);return OE(s),new Ne(n,null,new pt(s))}{if(!(n instanceof Ne||n instanceof Js))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(te.fromString(t,...e));return OE(s),new Ne(n.firestore,n instanceof Js?n.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="AsyncQueue";class wA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j1(this,"async_queue_retry"),this._c=()=>{const s=pp();s&&ft(bA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=pp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new na;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jo(t))throw t;ft(bA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",RA(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=yy.createAndSchedule(this,t,e,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:RA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function RA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const o=e;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Pu extends Of{constructor(t,e,s,o){super(t,e,s,o),this.type="firestore",this._queue=new wA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wA(t),this._firestoreClient=void 0,await t}}}function t4(n,t){const e=typeof n=="object"?n:Bb(),s=typeof n=="string"?n:tf,o=Xg(e,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bM("firestore");u&&JP(o,...u)}return o}function aw(n){if(n._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||e4(n),n._firestoreClient}function e4(n){const t=n._freezeSettings(),e=function(o,u,c,d){return new AN(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new $P(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(e){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Re("string",qn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Hu(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hu(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ri(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Re("string",Ri._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=/^__.*__$/;class i4{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new ha(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gu(t,this.data,e,this.fieldTransforms)}}function ow(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:n})}}class wy{constructor(t,e,s,o,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return cf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ow(this.Ac)&&n4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class s4{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Mf(t)}Cc(t,e,s,o=!1){return new wy({Ac:t,methodName:e,Dc:s,path:Xe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lw(n){const t=n._freezeSettings(),e=Mf(n._databaseId);return new s4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function r4(n,t,e,s,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);hw("Data must be an object, but it was:",c,s);const d=uw(s,c);let p,g;if(u.merge)p=new Zn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const A=o4(t,E,e);if(!c.contains(A))throw new ct($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);u4(v,A)||v.push(A)}p=new Zn(v),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new i4(new jn(d),p,g)}class Ry extends by{_toFieldTransform(t){return new QN(t.path,new xu)}isEqual(t){return t instanceof Ry}}function a4(n,t,e,s=!1){return Cy(e,n.Cc(s?4:3,t))}function Cy(n,t){if(cw(n=wn(n)))return hw("Unsupported field value:",t,n),uw(n,t);if(n instanceof by)return function(s,o){if(!ow(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let c=0;for(const d of s){let p=Cy(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}}(n,t)}return function(s,o){if((s=wn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:rf(o.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rf(o.serializer,u)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:V1(o.serializer,s._byteString)};if(s instanceof Ne){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ly(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return function(c,d){return{mapValue:{fields:{[r1]:{stringValue:a1},[ef]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return sy(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Af(s)}`)}(n,t)}function uw(n,t){const e={};return Jb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ua(n,(s,o)=>{const u=Cy(o,t.mc(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function cw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ne||n instanceof wi||n instanceof qn||n instanceof Ne||n instanceof by||n instanceof Ri)}function hw(n,t,e){if(!cw(e)||!Wb(e)){const s=Af(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function o4(n,t,e){if((t=wn(t))instanceof Sy)return t._internalPath;if(typeof t=="string")return fw(n,t);throw cf("Field path arguments must be of type string or ",n,!1,void 0,e)}const l4=new RegExp("[~\\*/\\[\\]]");function fw(n,t,e){if(t.search(l4)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Sy(...t.split("."))._internalPath}catch{throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function cf(n,t,e,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ct($.INVALID_ARGUMENT,d+n+p)}function u4(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,e,s,o,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new c4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Iy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class c4 extends dw{data(){return super.data()}}function Iy(n,t){return typeof t=="string"?fw(n,t):t instanceof Sy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class mw extends Dy{}function pw(n,t,...e){let s=[];t instanceof Dy&&s.push(t),s=s.concat(e),function(u){const c=u.filter(p=>p instanceof My).length,d=u.filter(p=>p instanceof Vy).length;if(c>1||c>0&&d>0)throw new ct($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class Vy extends mw{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Vy(t,e,s)}_apply(t){const e=this._parse(t);return yw(t._query,e),new da(t.firestore,t.converter,Zp(t._query,e))}_parse(t){const e=lw(t.firestore);return function(u,c,d,p,g,v,E){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ct($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){DA(E,v);const P=[];for(const G of E)P.push(IA(p,u,G));A={arrayValue:{values:P}}}else A=IA(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||DA(E,v),A=a4(d,c,E,v==="in"||v==="not-in");return we.create(g,v,A)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class My extends Dy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new My(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ti.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)yw(c,p),c=Zp(c,p)}(t._query,e),new da(t.firestore,t.converter,Zp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xy extends mw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new xy(t,e)}_apply(t){const e=function(o,u,c){if(o.startAt!==null)throw new ct($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(u,c)}(t._query,this._field,this._direction);return new da(t.firestore,t.converter,function(o,u){const c=o.explicitOrderBy.concat([u]);return new qo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}function gw(n,t="asc"){const e=t,s=Iy("orderBy",n);return xy._create(s,e)}function IA(n,t,e){if(typeof(e=wn(e))=="string"){if(e==="")throw new ct($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m1(t)&&e.indexOf("/")!==-1)throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(te.fromString(e));if(!pt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FE(n,new pt(s))}if(e instanceof Ne)return FE(n,e._key);throw new ct($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(e)}.`)}function DA(n,t){if(!Array.isArray(n)||n.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yw(n,t){const e=function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class f4{convertValue(t,e="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return ua(t,(o,u)=>{s[o]=this.convertValue(u,e)}),s}convertVectorValue(t){const e=t.fields?.[ef].arrayValue?.values?.map(s=>ye(s.doubleValue));return new Ri(e)}convertGeoPoint(t){return new wi(ye(t.latitude),ye(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=wf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const e=sr(t);return new ne(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=te.fromString(t);Ft(k1(s),9688,{name:t});const o=new Du(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(e)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(n,t,e){let s;return s=n?n.toFirestore(t):t,s}class au{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ia extends dw{constructor(t,e,s,o,u,c){super(t,e,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Iy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ia._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Re("string",ia._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class jh extends ia{data(t={}){return super.data(t)}}class To{constructor(t,e,s,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new jh(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:m4(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=To._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(e.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:n})}}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Re("string",To._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class vw extends f4{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,e)}}function _w(n){return Aw(vo(n.firestore,Pu),[new ry(n._key,Si.none())])}function Tw(n,t){const e=vo(n.firestore,Pu),s=Ay(n),o=d4(n.converter,t);return Aw(e,[r4(lw(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Si.exists(!1))]).then(()=>s)}function Ew(n,...t){n=wn(n);let e={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||CA(t[s])||(e=t[s++]);const o={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(CA(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,d;if(n instanceof Ne)c=vo(n.firestore,Pu),d=iy(n._key.path),u={next:p=>{t[s]&&t[s](p4(c,n,p))},error:t[s+1],complete:t[s+2]};else{const p=vo(n,da);c=vo(p.firestore,Pu),d=p._query;const g=new vw(c);u={next:v=>{t[s]&&t[s](new To(c,g,p,v))},error:t[s+1],complete:t[s+2]},h4(n._query)}return function(g,v,E,A){const I=new XP(A),P=new VP(v,I,E);return g.asyncQueue.enqueueAndForget(async()=>RP(await TA(g),P)),()=>{I.Nu(),g.asyncQueue.enqueueAndForget(async()=>CP(await TA(g),P))}}(aw(c),d,o,u)}function Aw(n,t){return function(s,o){const u=new na;return s.asyncQueue.enqueueAndForget(async()=>zP(await ZP(s),o,u)),u.promise}(aw(n),t)}function p4(n,t,e){const s=e.docs.get(t._key),o=new vw(n);return new ia(n,o,t._key,s,new au(e.hasPendingWrites,e.fromCache),t.converter)}function Sw(){return new Ry("serverTimestamp")}(function(t,e=!0){(function(o){Bo=o})(Uo),Co(new ra("firestore",(s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Pu(new iN(s.getProvider("auth-internal")),new aN(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(g.options.projectId,v)}(c,o),c);return u={useFetchStreams:e,...u},d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Ws(VE,ME,t),Ws(VE,ME,"esm2020")})();function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g4=bw,ww=new qu("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Yg("@firebase/auth");function y4(n,...t){hf.logLevel<=Nt.WARN&&hf.warn(`Auth (${Uo}): ${n}`,...t)}function qh(n,...t){hf.logLevel<=Nt.ERROR&&hf.error(`Auth (${Uo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(n,...t){throw Ny(n,...t)}function Ci(n,...t){return Ny(n,...t)}function Rw(n,t,e){const s={...g4(),[t]:e};return new qu("auth","Firebase",s).create(t,{appName:n.name})}function tr(n){return Rw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return ww.create(n,...t)}function At(n,t,...e){if(!n)throw Ny(t,...e)}function ns(n){const t="INTERNAL ASSERTION FAILED: "+n;throw qh(t),new Error(t)}function hs(n,t){n||ns(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return typeof self<"u"&&self.location?.href||""}function v4(){return VA()==="http:"||VA()==="https:"}function VA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v4()||xM()||"connection"in navigator)?navigator.onLine:!0}function T4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,e){this.shortDelay=t,this.longDelay=e,hs(e>t,"Short delay should be less than long delay!"),this.isMobile=DM()||NM()}get(){return _4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,t){hs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S4=new Xu(3e4,6e4);function Pf(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ho(n,t,e,s,o={}){return Iw(n,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Fu({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:p,...u};return MM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(g.credentials="include"),Cw.fetch()(await Vw(n,n.config.apiHost,e,d),g)})}async function Iw(n,t,e){n._canInitEmulator=!1;const s={...E4,...t};try{const o=new b4(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Mh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Mh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Mh(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Rw(n,v,g);cs(n,v)}}catch(o){if(o instanceof fs)throw o;cs(n,"network-request-failed",{message:String(o)})}}async function Dw(n,t,e,s,o={}){const u=await Ho(n,t,e,s,o);return"mfaPendingCredential"in u&&cs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function Vw(n,t,e,s){const o=`${t}${e}?${s}`,u=n,c=u.config.emulator?Oy(n.config,o):`${n.config.apiScheme}://${o}`;return A4.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class b4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),S4.get())})}}function Mh(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const o=Ci(n,t,s);return o.customData._tokenResponse=e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(n,t){return Ho(n,"POST","/v1/accounts:delete",t)}async function ff(n,t){return Ho(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function R4(n,t=!1){const e=wn(n),s=await e.getIdToken(t),o=Py(s);At(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:vu(yp(o.auth_time)),issuedAtTime:vu(yp(o.iat)),expirationTime:vu(yp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function yp(n){return Number(n)*1e3}function Py(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vb(e);return o?JSON.parse(o):(qh("Failed to decode base64 JWT payload"),null)}catch(o){return qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function MA(n){const t=Py(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof fs&&C4(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function C4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n){const t=n.auth,e=await n.getIdToken(),s=await ku(n,ff(t,{idToken:e}));At(s?.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?Mw(o.providerUserInfo):[],c=V4(n.providerData,u),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new cg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function D4(n){const t=wn(n);await df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function V4(n,t){return[...n.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Mw(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(n,t){const e=await Iw(n,{},async()=>{const s=Fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await Vw(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(p.credentials="include"),Cw.fetch()(c,p)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function x4(n,t){return Ho(n,"POST","/v2/accounts:revokeToken",Pf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):MA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=MA(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:o,expiresIn:u}=await M4(t,e);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:o,expirationTime:u}=e,c=new Eo;return s&&(At(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:e,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new I4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await ku(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return R4(this,t)}reload(){return D4(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await df(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await ku(this,w4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,c=e.photoURL??void 0,d=e.tenantId??void 0,p=e._redirectEventId??void 0,g=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:I,providerData:P,stsTokenManager:G}=e;At(E&&G,t,"internal-error");const F=Eo.fromJSON(this.name,G);At(typeof E=="string",t,"internal-error"),qs(s,t.name),qs(o,t.name),At(typeof A=="boolean",t,"internal-error"),At(typeof I=="boolean",t,"internal-error"),qs(u,t.name),qs(c,t.name),qs(d,t.name),qs(p,t.name),qs(g,t.name),qs(v,t.name);const W=new Jn({uid:E,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:F,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(W.providerData=P.map(tt=>({...tt}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(t,e,s=!1){const o=new Eo;o.updateFromServerResponse(e);const u=new Jn({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await df(u),u}static async _fromGetAccountInfoResponse(t,e,s){const o=e.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Mw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Eo;d.updateFromIdToken(s);const p=new Jn({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Map;function is(n){hs(n instanceof Function,"Expected a class definition");let t=xA.get(n);return t?(hs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,xA.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}xw.type="NONE";const NA=xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n,t,e){return`firebase:${n}:${t}:${e}`}class Ao{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fh("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ff(this.auth,{idToken:t}).catch(()=>{});return e?Jn._fromGetAccountInfoResponse(this.auth,e,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Ao(is(NA),t,s);const o=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||is(NA);const c=Fh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const A=await ff(t,{idToken:v}).catch(()=>{});if(!A)break;E=await Jn._fromGetAccountInfoResponse(t,A,v)}else E=Jn._fromJSON(t,v);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ao(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Ao(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uw(t))return"Blackberry";if(Bw(t))return"Webos";if(Ow(t))return"Safari";if((t.includes("chrome/")||Pw(t))&&!t.includes("edge/"))return"Chrome";if(Lw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function Nw(n=rn()){return/firefox\//i.test(n)}function Ow(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pw(n=rn()){return/crios\//i.test(n)}function kw(n=rn()){return/iemobile/i.test(n)}function Lw(n=rn()){return/android/i.test(n)}function Uw(n=rn()){return/blackberry/i.test(n)}function Bw(n=rn()){return/webos/i.test(n)}function ky(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function N4(n=rn()){return ky(n)&&!!window.navigator?.standalone}function O4(){return OM()&&document.documentMode===10}function zw(n=rn()){return ky(n)||Lw(n)||Bw(n)||Uw(n)||/windows phone/i.test(n)||kw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,t=[]){let e;switch(n){case"Browser":e=OA(rn());break;case"Worker":e=`${OA(rn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,t={}){return Ho(n,"GET","/v2/passwordPolicy",Pf(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=6;class U4{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??L4,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t,e,s,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PA(this),this.idTokenSubscription=new PA(this),this.beforeStateQueue=new P4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=is(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ff(this,{idToken:t}),s=await Jn._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=T4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(tr(this));const e=t?wn(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await k4(this),e=new U4(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await x4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&is(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&y4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function kf(n){return wn(n)}class PA{constructor(t){this.auth=t,this.observer=null,this.addObserver=qM(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z4(n){Ly=n}function j4(n){return Ly.loadJS(n)}function q4(){return Ly.gapiScript}function F4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n,t){const e=Xg(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(sa(u,t??{}))return o;cs(o,"already-initialized")}return e.initialize({options:t})}function G4(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(is);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function K4(n,t,e){const s=kf(n);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=qw(t),{host:c,port:d}=Y4(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(sa(g,s.config.emulator)&&sa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Lo(c)?(Ob(`${u}//${c}${p}`),Pb("Auth",!0)):Q4()}function qw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Y4(n){const t=qw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:kA(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:kA(c)}}}function kA(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Q4(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,e){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(n,t){return Dw(n,"POST","/v1/accounts:signInWithIdp",Pf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="http://localhost";class la extends Fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new la(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):cs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=e;if(!s||!o)return null;const c=new la(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return So(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,So(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,So(t,e)}buildRequest(){const t={requestUri:X4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Fu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Hw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends $u{constructor(){super("facebook.com")}static credential(t){return la._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return la._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Gs.credential(e,s)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends $u{constructor(){super("github.com")}static credential(t){return la._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends $u{constructor(){super("twitter.com")}static credential(t,e){return la._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Ys.credential(e,s)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(n,t){return Dw(n,"POST","/v1/accounts:signUp",Pf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,o=!1){const u=await Jn._fromIdTokenResponse(t,s,o),c=LA(s);return new ur({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const o=LA(s);return new ur({user:t,providerId:o,_tokenResponse:s,operationType:e})}}function LA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(n){if(Wn(n.app))return Promise.reject(tr(n));const t=kf(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ur({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await $4(t,{returnSecureToken:!0}),s=await ur._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends fs{constructor(t,e,s,o){super(e.code,e.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,o){return new mf(t,e,s,o)}}function Gw(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(n,u,t,s):u})}async function Z4(n,t,e=!1){const s=await ku(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ur._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J4(n,t,e=!1){const{auth:s}=n;if(Wn(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await ku(n,Gw(s,o,t,n),e);At(u.idToken,s,"internal-error");const c=Py(u.idToken);At(c,s,"internal-error");const{sub:d}=c;return At(n.uid===d,s,"user-mismatch"),ur._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&cs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,t,e=!1){if(Wn(n.app))return Promise.reject(tr(n));const s="signIn",o=await Gw(n,s,t),u=await ur._fromIdTokenResponse(n,s,o);return e||await n._updateCurrentUser(u.user),u}function ek(n,t,e,s){return wn(n).onIdTokenChanged(t,e,s)}function nk(n,t,e){return wn(n).beforeAuthStateChanged(t,e)}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=1e3,sk=10;class Yw extends Kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),o=this.localCache[e];s!==o&&t(e,o,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);O4()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sk):o()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Yw.type="LOCAL";const rk=Yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Qw.type="SESSION";const Xw=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const s=new Lf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:o,data:u}=e.data,c=this.handlersMap[o];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await ak(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=Uy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function lk(n){Ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function uk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ck(){return navigator?.serviceWorker?.controller||null}function hk(){return $w()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firebaseLocalStorageDb",fk=1,gf="firebaseLocalStorage",Zw="fbase_key";class Wu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Uf(n,t){return n.transaction([gf],t?"readwrite":"readonly").objectStore(gf)}function dk(){const n=indexedDB.deleteDatabase(Ww);return new Wu(n).toPromise()}function hg(){const n=indexedDB.open(Ww,fk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(gf,{keyPath:Zw})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(gf)?t(s):(s.close(),await dk(),t(await hg()))})})}async function UA(n,t,e){const s=Uf(n,!0).put({[Zw]:t,value:e});return new Wu(s).toPromise()}async function mk(n,t){const e=Uf(n,!1).get(t),s=await new Wu(e).toPromise();return s===void 0?null:s.value}function BA(n,t){const e=Uf(n,!0).delete(t);return new Wu(e).toPromise()}const pk=800,gk=3;class Jw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>gk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(hk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uk(),!this.activeServiceWorker)return;this.sender=new ok(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ck()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hg();return await UA(t,pf,"1"),await BA(t,pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>UA(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>mk(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>BA(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new Wu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jw.type="LOCAL";const yk=Jw;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n,t){return t?is(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends Fw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return So(t,this._buildIdpRequest())}_linkToIdToken(t,e){return So(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return So(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function _k(n){return tk(n.auth,new By(n),n.bypassAuthState)}function Tk(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),J4(e,new By(n),n.bypassAuthState)}async function Ek(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),Z4(e,new By(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,e,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _k;case"linkViaPopup":case"linkViaRedirect":return Ek;case"reauthViaPopup":case"reauthViaRedirect":return Tk;default:cs(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Xu(2e3,1e4);class go extends tR{constructor(t,e,s,o,u){super(t,e,o,u),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ak.get())};t()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="pendingRedirect",Hh=new Map;class bk extends tR{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Hh.get(this.auth._key());if(!t){try{const s=await wk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Hh.set(this.auth._key(),t)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wk(n,t){const e=Ik(t),s=Ck(n);if(!await s._isAvailable())return!1;const o=await s._get(e)==="true";return await s._remove(e),o}function Rk(n,t){Hh.set(n._key(),t)}function Ck(n){return is(n._redirectPersistence)}function Ik(n){return Fh(Sk,n.config.apiKey,n.name)}async function Dk(n,t,e=!1){if(Wn(n.app))return Promise.reject(tr(n));const s=kf(n),o=vk(s,t),c=await new bk(s,o,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=600*1e3;class Mk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!eR(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ci(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(zA(t))}saveEventToCache(t){this.cachedEventUids.add(zA(t)),this.lastProcessedEventTime=Date.now()}}function zA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function eR({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function xk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,t={}){return Ho(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pk=/^https?/;async function kk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Nk(n);for(const e of t)try{if(Lk(e))return}catch{}cs(n,"unauthorized-domain")}function Lk(n){const t=ug(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!Pk.test(e))return!1;if(Ok.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Xu(3e4,6e4);function jA(){const n=Ii().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Bk(n){return new Promise((t,e)=>{function s(){jA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jA(),e(Ci(n,"network-request-failed"))},timeout:Uk.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=F4("iframefcb");return Ii()[o]=()=>{gapi.load?s():e(Ci(n,"network-request-failed"))},j4(`${q4()}?onload=${o}`).catch(u=>e(u))}}).catch(t=>{throw Gh=null,t})}let Gh=null;function zk(n){return Gh=Gh||Bk(n),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Xu(5e3,15e3),qk="__/auth/iframe",Fk="emulator/auth/iframe",Hk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kk(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Oy(t,Fk):`https://${n.config.authDomain}/${qk}`,s={apiKey:t.apiKey,appName:n.name,v:Uo},o=Gk.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${Fu(s).slice(1)}`}async function Yk(n){const t=await zk(n),e=Ii().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:Kk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hk,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ci(n,"network-request-failed"),d=Ii().setTimeout(()=>{u(c)},jk.get());function p(){Ii().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xk=500,$k=600,Wk="_blank",Zk="http://localhost";class qA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jk(n,t,e,s=Xk,o=$k){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...Qk,width:s.toString(),height:o.toString(),top:u,left:c},g=rn().toLowerCase();e&&(d=Pw(g)?Wk:e),Nw(g)&&(t=t||Zk,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[I,P])=>`${A}${I}=${P},`,"");if(N4(g)&&d!=="_self")return t3(t||"",d),new qA(null);const E=window.open(t||"",d,v);At(E,n,"popup-blocked");try{E.focus()}catch{}return new qA(E)}function t3(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="__/auth/handler",n3="emulator/auth/handler",i3=encodeURIComponent("fac");async function FA(n,t,e,s,o,u){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Uo,eventId:o};if(t instanceof Hw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",jM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof $u){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${i3}=${encodeURIComponent(p)}`:"";return`${s3(n)}?${Fu(d).slice(1)}${g}`}function s3({config:n}){return n.emulator?Oy(n,n3):`https://${n.authDomain}/${e3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class r3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=Dk,this._overrideRedirectResult=Rk}async _openPopup(t,e,s,o){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await FA(t,e,s,ug(),o);return Jk(t,u,Uy())}async _openRedirect(t,e,s,o){await this._originValidation(t);const u=await FA(t,e,s,ug(),o);return lk(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(hs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await Yk(t),s=new Mk(t);return e.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(vp,{type:vp},o=>{const u=o?.[0]?.[vp];u!==void 0&&e(!!u),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=kk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return zw()||Ow()||ky()}}const a3=r3;var HA="@firebase/auth",GA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u3(n){Co(new ra("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(n)},g=new B4(s,o,u,p);return G4(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Co(new ra("auth-internal",t=>{const e=kf(t.getProvider("auth").getImmediate());return(s=>new o3(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(HA,GA,l3(n)),Ws(HA,GA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=300,h3=Nb("authIdTokenMaxAge")||c3;let KA=null;const f3=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>h3)return;const o=e?.token;KA!==o&&(KA=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function d3(n=Bb()){const t=Xg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=H4(n,{popupRedirectResolver:a3,persistence:[yk,rk,Xw]}),s=Nb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=f3(u.toString());nk(e,c,()=>c(e.currentUser)),ek(e,d=>c(d))}}const o=Mb("auth");return o&&K4(e,`http://${o}`),e}function m3(){return document.getElementsByTagName("head")?.[0]??document}z4({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,e(u)},s.type="text/javascript",s.charset="UTF-8",m3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u3("Browser");const p3={apiKey:"AIzaSyB9Igg1s9GRMh9iXzuGic-xbQkcGiDxkRY",authDomain:"zehra-ensar-love.firebaseapp.com",projectId:"zehra-ensar-love",storageBucket:"zehra-ensar-love.firebasestorage.app",messagingSenderId:"315115042069",appId:"1:315115042069:web:9ca9423453f915dcb4e51c"},nR=Ub(p3),bo=t4(nR),Lu=d3(nR);W4(Lu).catch(console.error);const xe={couple:{you:"Ensar",partner:"Zehra"},cityYou:"Batman",cityPartner:"Antalya",anniversary:"2025-04-12",nextMeet:"2025-08-21T18:00:00",ensarBday:{mmdd:"08-07",label:"Ensar’ın Doğum Günü 🎂"},zehraBday:{mmdd:"09-23",label:"Zehra’nın Doğum Günü 🎂"},songSrc:"/romantic-site/song.mp3"};function g3(n,t){return Math.floor((t.getTime()-n.getTime())/(1e3*60*60*24))}function ou(n){const[t,e]=ot.useState(0);ot.useEffect(()=>{const o=new Date(n).getTime(),u=()=>e(Math.max(0,o-Date.now()));u();const c=setInterval(u,1e3);return()=>clearInterval(c)},[n]);const s=Math.floor(t/1e3);return{days:Math.floor(s/86400),hours:Math.floor(s%86400/3600),minutes:Math.floor(s%3600/60),seconds:s%60}}function _p(n){const t=new Date,[e,s]=n.split("-").map(Number),o=new Date(`${t.getFullYear()}-${String(e).padStart(2,"0")}-${String(s).padStart(2,"0")}T00:00:00`);return o.getTime()>=new Date(t.toDateString()).getTime()?o:new Date(`${t.getFullYear()+1}-${String(e).padStart(2,"0")}-${String(s).padStart(2,"0")}T00:00:00`)}function y3(){const n=Array.from({length:18});return React.createElement("div",{className:"pointer-events-none absolute inset-0 overflow-hidden"},n.map((t,e)=>React.createElement("span",{key:e,className:"absolute text-pink-400/70 animate-heart-fall select-none",style:{left:`${e*7%100}%`,animationDelay:`${e%9*.5}s`,fontSize:`${12+e%6*6}px`,top:-40}},"❤")))}function v3({show:n}){if(!n)return null;const t=ot.useMemo(()=>Array.from({length:70}),[]);return React.createElement("div",{className:"pointer-events-none absolute inset-0 overflow-hidden"},t.map((e,s)=>React.createElement("span",{key:s,className:"absolute star-twinkle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,opacity:.6+Math.random()*.4,transform:`scale(${.6+Math.random()*.8})`,animationDelay:`${Math.random()*3}s`}},"✦")))}function _3({onLogin:n,onSuccessBurst:t}){const[e,s]=ot.useState(""),o=u=>{u.preventDefault(),e==="zehra123"?(n({name:"Zehra 👸",role:"zehra"}),t?.()):e==="ensar123"?(n({name:"Ensar",role:"ensar"}),t?.()):alert("Şifre yanlış!")};return React.createElement(wu.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"rounded-3xl backdrop-blur-md bg-white/70 dark:bg-zinc-900/40 shadow-xl p-8 sm:p-10 text-center w-full max-w-md"},React.createElement("div",{className:"mx-auto inline-flex items-center gap-2 text-sm opacity-80"},React.createElement("span",null,xe.cityYou," ⇄ ",xe.cityPartner," • Uzak Mesafe")),React.createElement("h1",{className:"mt-3 text-4xl font-extrabold tracking-tight"},"Ensar ❤️ Zehra"),React.createElement("form",{onSubmit:o,className:"mt-6 grid gap-3"},React.createElement("input",{type:"password",value:e,onChange:u=>s(u.target.value),placeholder:"Şifre",className:"rounded-2xl px-4 py-3 bg-white/80 dark:bg-zinc-800/70 border border-pink-200/60 outline-none focus:ring-2 focus:ring-pink-300"}),React.createElement("button",{type:"submit",className:"inline-flex items-center justify-center rounded-2xl px-5 py-2.5 text-sm font-semibold shadow-md bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500 text-white hover:opacity-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-300"},"Giriş Yap")))}function T3(){const[n,t]=ot.useState([]),e=()=>{const s=Array.from({length:22}).map((o,u)=>({id:`${Date.now()}-${u}`,x:(Math.random()-.5)*240,y:(Math.random()-.5)*240,r:Math.random()*360,s:.8+Math.random()*1.2}));t(s),setTimeout(()=>t([]),1200)};return{view:React.createElement("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center"},React.createElement(jS,null,n.map(s=>React.createElement(wu.span,{key:s.id,initial:{opacity:0,scale:.2,x:0,y:0,rotate:0},animate:{opacity:1,scale:s.s,x:s.x,y:s.y,rotate:s.r},exit:{opacity:0},transition:{duration:1},className:"text-3xl sm:text-4xl select-none",style:{color:"rgba(236,72,153,0.9)"}},"❤")))),spawn:e}}function YA(n){if(!isFinite(n))return"00:00";const t=Math.floor(n/60),e=Math.floor(n%60);return`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`}function E3({src:n,title:t="Ortak Şarkımız"}){const e=ot.useRef(null),[s,o]=ot.useState(!1),[u,c]=ot.useState(0),[d,p]=ot.useState(0),[g,v]=ot.useState(.9),[E,A]=ot.useState(!1),I=()=>{const st=e.current;st&&(s?(st.pause(),o(!1)):(st.play(),o(!0)))},P=()=>{const st=e.current;st&&(st.pause(),st.currentTime=0,o(!1))},G=()=>{const st=e.current;st&&(c(st.duration||0),st.volume=g,st.loop=E)},F=()=>{const st=e.current;st&&p(st.currentTime||0)},W=st=>{const nt=e.current;if(!nt)return;const ut=st.currentTarget.getBoundingClientRect(),V=Math.min(1,Math.max(0,(st.clientX-ut.left)/ut.width));nt.currentTime=V*(nt.duration||0),p(nt.currentTime)},tt=st=>{const nt=Number(st.target.value);v(nt),e.current&&(e.current.volume=nt)},Q=()=>{const st=e.current;st&&(st.loop=!E,A(st.loop))};return React.createElement("div",{className:"mt-8 w-full max-w-2xl rounded-3xl border border-white/20 bg-white/70 dark:bg-zinc-900/40 backdrop-blur p-5 shadow"},React.createElement("audio",{ref:e,src:n,onLoadedMetadata:G,onTimeUpdate:F,preload:"metadata"}),React.createElement("div",{className:"flex items-center justify-between gap-3"},React.createElement("div",{className:"font-semibold"},t),React.createElement("div",{className:"text-xs opacity-70"},YA(d)," / ",YA(u))),React.createElement("div",{className:"mt-3 h-2 w-full rounded-full bg-black/10 dark:bg-white/10 cursor-pointer",onClick:W},React.createElement("div",{className:"h-2 rounded-full bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500",style:{width:u?`${d/u*100}%`:"0%"}})),React.createElement("div",{className:"mt-4 flex flex-wrap items-center gap-3"},React.createElement("button",{onClick:I,className:"rounded-2xl px-4 py-2 text-sm font-semibold text-white bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500 shadow hover:opacity-95"},s?"Pause":"Play"),React.createElement("button",{onClick:P,className:"rounded-2xl px-4 py-2 text-sm font-semibold border border-white/30 bg-white/70 dark:bg-zinc-800/60"},"Stop"),React.createElement("label",{className:"flex items-center gap-2 text-sm opacity-80 ml-2"},"Ses",React.createElement("input",{type:"range",min:"0",max:"1",step:"0.01",value:g,onChange:tt,className:"w-28"})),React.createElement("button",{onClick:Q,className:`rounded-2xl px-3 py-2 text-sm font-semibold border ${E?"border-pink-400 text-pink-600":"border-white/30"}`,title:"Döngü"},E?"Loop: Açık":"Loop: Kapalı")))}function A3({currentUser:n}){const t="notes",[e,s]=ot.useState(""),[o,u]=ot.useState([]);ot.useEffect(()=>{const g=pw(uf(bo,t),gw("createdAt","asc")),v=Ew(g,E=>{const A=E.docs.map(I=>({id:I.id,...I.data()}));u(A)});return()=>v()},[]);const c=async()=>{const g=e.trim();g&&(await Tw(uf(bo,t),{t:g,author:n.name,role:n.role,uid:Lu.currentUser?.uid||null,createdAt:Sw()}),s(""))},d=async g=>{await _w(Ay(bo,t,g))},p=o.filter(g=>!!g.author);return React.createElement("section",{className:"mt-8 w-full max-w-2xl"},React.createElement("div",{className:"rounded-3xl border border-white/20 bg-white/70 dark:bg-zinc-900/40 backdrop-blur p-5 shadow"},React.createElement("h3",{className:"font-semibold mb-3"},"Mini Not Defteri (canlı)"),React.createElement("div",{className:"flex gap-2"},React.createElement("input",{value:e,onChange:g=>s(g.target.value),placeholder:"Bugün ona ne söylemek istersin?",className:"flex-1 rounded-2xl px-4 py-2 bg-white/80 dark:bg-zinc-800/70 border border-pink-200/60 outline-none focus:ring-2 focus:ring-pink-300"}),React.createElement("button",{onClick:c,className:"inline-flex items-center justify-center rounded-2xl px-5 py-2.5 text-sm font-semibold shadow-md bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500 text-white hover:opacity-95"},"Ekle")),React.createElement("ul",{className:"mt-4 grid gap-2"},p.map(g=>React.createElement("li",{key:g.id,className:`flex items-start justify-between gap-2 rounded-xl border px-3 py-2 ${g.role==="zehra"?"bg-pink-50/80 border-pink-200/60":"bg-blue-50/80 border-blue-200/60"}`},React.createElement("div",{className:"pr-2"},React.createElement("div",{className:"text-sm font-semibold"},g.author),React.createElement("div",{className:"opacity-90"},g.t),React.createElement("div",{className:"text-[11px] opacity-60 mt-1"},g.createdAt?.toDate?new Date(g.createdAt.toDate()).toLocaleString():"—")),g.uid&&Lu.currentUser?.uid===g.uid&&React.createElement("button",{onClick:()=>d(g.id),className:"text-pink-600 hover:underline text-sm",title:"Sil (sadece kendi notun)"},"Sil"))),p.length===0&&React.createElement("li",{className:"text-sm opacity-60"},"Henüz not yok."))))}function S3({open:n,onClose:t,currentUser:e}){const[s,o]=ot.useState(""),u=async()=>{const c=s.trim();c&&(await Tw(uf(bo,"letters"),{t:c,author:e.name,role:e.role,uid:Lu.currentUser?.uid||null,createdAt:Sw()}),o(""),t?.())};return React.createElement(jS,null,n&&React.createElement(wu.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},React.createElement(wu.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"w-[90%] max-w-2xl rounded-3xl bg-white dark:bg-zinc-900 p-6 shadow-2xl"},React.createElement("div",{className:"text-xl font-bold mb-3"},"Aşk Mektubu 💌"),React.createElement("textarea",{value:s,onChange:c=>o(c.target.value),placeholder:"Bugünlük mektubun...",rows:8,className:"w-full rounded-2xl border p-3 bg-white/80 dark:bg-zinc-800/70 outline-none focus:ring-2 focus:ring-pink-300"}),React.createElement("div",{className:"mt-4 flex justify-end gap-2"},React.createElement("button",{onClick:t,className:"rounded-2xl px-4 py-2 border"},"Kapat"),React.createElement("button",{onClick:u,className:"rounded-2xl px-4 py-2 text-white bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500"},"Kaydet")),React.createElement("div",{className:"mt-2 text-xs opacity-60"},"Kaydedildiğinde otomatik tarih eklenir."))))}function b3({currentUser:n}){const[t,e]=ot.useState([]);ot.useEffect(()=>{const o=pw(uf(bo,"letters"),gw("createdAt","desc")),u=Ew(o,c=>{e(c.docs.map(d=>({id:d.id,...d.data()})))});return()=>u()},[]);const s=async o=>{await _w(Ay(bo,"letters",o))};return React.createElement("section",{className:"mt-8 w-full max-w-2xl"},React.createElement("div",{className:"rounded-3xl border border-white/20 bg-white/70 dark:bg-zinc-900/40 backdrop-blur p-5 shadow"},React.createElement("h3",{className:"font-semibold mb-3"},"💌 Aşk Mektupları"),React.createElement("ul",{className:"grid gap-3"},t.length===0&&React.createElement("li",{className:"text-sm opacity-60"},"Henüz mektup yok."),t.map(o=>React.createElement("li",{key:o.id,className:"rounded-xl border px-4 py-3 bg-white/80 dark:bg-zinc-800/60"},React.createElement("div",{className:"text-sm font-semibold mb-1"},o.author),React.createElement("div",{className:"whitespace-pre-wrap"},o.t),React.createElement("div",{className:"text-[11px] opacity-60 mt-2"},o.createdAt?.toDate?new Date(o.createdAt.toDate()).toLocaleString():"—"),o.uid&&Lu.currentUser?.uid===o.uid&&React.createElement("div",{className:"mt-2"},React.createElement("button",{onClick:()=>s(o.id),className:"text-pink-600 hover:underline text-sm"},"Sil (sadece kendi mektubun)")))))))}function w3(){const n=ou((()=>{const u=new Date(xe.anniversary),c=`${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`;return _p(c).toISOString()})()),t=ou(xe.nextMeet),e=ou(_p(xe.ensarBday.mmdd).toISOString()),s=ou(_p(xe.zehraBday.mmdd).toISOString()),o=({title:u,c})=>React.createElement("div",{className:"rounded-2xl border bg-white/70 dark:bg-zinc-800/60 px-4 py-3"},React.createElement("div",{className:"font-semibold"},u),React.createElement("div",{className:"text-sm opacity-80"},c.days,"g ",c.hours,"s ",c.minutes,"d ",c.seconds,"sn"));return React.createElement("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 w-full max-w-2xl"},React.createElement(o,{title:"Yıldönümüne",c:n}),React.createElement(o,{title:"Buluşmaya",c:t}),React.createElement(o,{title:xe.ensarBday.label,c:e}),React.createElement(o,{title:xe.zehraBday.label,c:s}))}function R3(){const[n,t]=ot.useState(null),e=g3(new Date(xe.anniversary),new Date),s=ou(xe.nextMeet),o=new Date().getHours(),u=o>=19||o<6,{view:c,spawn:d}=T3(),[p,g]=ot.useState(!1);return React.createElement("div",{className:`relative min-h-screen overflow-hidden ${u?"bg-gradient-to-b from-zinc-950 via-zinc-950 to-zinc-900 text-zinc-100":"bg-gradient-to-b from-pink-50 via-rose-50 to-fuchsia-50 text-zinc-800"}`},React.createElement("div",{className:"pointer-events-none absolute -top-32 -left-32 h-96 w-96 rounded-full bg-gradient-to-br from-pink-400/30 to-fuchsia-400/30 blur-3xl"}),React.createElement("div",{className:"pointer-events-none absolute -bottom-32 -right-32 h-96 w-96 rounded-full bg-gradient-to-br from-rose-400/30 to-amber-400/30 blur-3xl"}),React.createElement(y3,null),React.createElement(v3,{show:u}),c,React.createElement("main",{className:"relative z-10 mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-12 flex flex-col items-center"},n?React.createElement(wu.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45},className:"w-full max-w-3xl rounded-3xl backdrop-blur-md bg-white/70 dark:bg-zinc-900/40 shadow-xl p-6 sm:p-10"},React.createElement("div",{className:"text-center"},React.createElement("div",{className:"text-sm opacity-80"},xe.cityYou," ⇄ ",xe.cityPartner," • Uzak Mesafe Aşkı"),React.createElement("h2",{className:"mt-2 text-3xl sm:text-5xl font-extrabold"},xe.couple.you," ❤️ ",xe.couple.partner," 👸"),React.createElement("p",{className:"mt-3 text-lg opacity-90"},e," gündür birlikteyiz. Bir sonraki buluşmaya"," ",React.createElement("b",null,s.days,"g ",s.hours,"s ",s.minutes,"d ",s.seconds,"sn")," kaldı."),React.createElement(E3,{src:xe.songSrc,title:"Ortak Şarkımız"}),React.createElement(w3,null),React.createElement("div",{className:"mt-6 flex flex-wrap justify-center gap-3"},React.createElement("button",{onClick:()=>g(!0),className:"inline-flex items-center justify-center rounded-2xl px-5 py-2.5 text-sm font-semibold shadow-md bg-white text-zinc-900 border border-zinc-200 hover:bg-zinc-50"},"💌 Aşk Mektubu Yaz"),React.createElement("a",{href:`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(xe.cityYou)}&destination=${encodeURIComponent(xe.cityPartner)}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-2xl px-5 py-2.5 text-sm font-semibold shadow-md bg-gradient-to-r from-pink-500 via-rose-500 to-fuchsia-500 text-white hover:opacity-95"},"🗺️ Rota: ",xe.cityYou," → ",xe.cityPartner))),React.createElement(A3,{currentUser:n}),React.createElement(b3,{currentUser:n})):React.createElement(_3,{onLogin:t,onSuccessBurst:d})),React.createElement(S3,{open:p,onClose:()=>g(!1),currentUser:n||{name:"",role:""}}))}PC.createRoot(document.getElementById("root")).render(zm.createElement(zm.StrictMode,null,zm.createElement(R3,null)));
